<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YM798MGCTD"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6046915312271415"
     crossorigin="anonymous"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YM798MGCTD');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Outfit for Today - Weather-Based Fashion Recommendations</title>
    <meta name="description" content="Get personalized AI-generated outfit recommendations based on your current weather. Automatic location detection and instant fashion advice for any weather condition worldwide.">
    <meta name="keywords" content="AI outfit, weather fashion, outfit recommendation, AI fashion, weather clothing, style advice, fashion AI, outfit generator">
    <meta name="author" content="AI Outfit for Today">

    
    <!-- Open Graph (Facebook, KakaoTalk, LinkedIn 등) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Today's AI Outfit Suggestion">
    <meta property="og:description" content="Get your AI-powered outfit recommendation based on the weather. No signup, no cost.">
    <meta property="og:image" content="https://outfitfortoday.pages.dev/og-image.jpg">
    <meta property="og:url" content="https://outfitfortoday.pages.dev/">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Today's AI Outfit Suggestion">
    <meta name="twitter:description" content="Let AI style your day based on local weather.">
    <meta name="twitter:image" content="https://outfitfortoday.pages.dev/og-image.jpg">

    <!-- hreflang for SEO and multi-language support -->
    <link rel="alternate" hreflang="ko" href="https://your-domain.com/?lang=ko">
    <link rel="alternate" hreflang="en" href="https://your-domain.com/?lang=en">
    <link rel="alternate" hreflang="ja" href="https://your-domain.com/?lang=ja">
    <link rel="alternate" hreflang="zh" href="https://your-domain.com/?lang=zh">
    <link rel="alternate" hreflang="x-default" href="https://your-domain.com/">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://your-domain.com/">

    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌤️</text></svg>">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#764ba2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="AI Outfit">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect width='192' height='192' fill='%23667eea' rx='20'/><text x='96' y='120' font-size='80' text-anchor='middle' fill='white'>🌤️</text></svg>">
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="msapplication-TileImage" content="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 144 144'><rect width='144' height='144' fill='%23667eea'/><text x='72' y='90' font-size='60' text-anchor='middle' fill='white'>🌤️</text></svg>">
    
    <link rel="stylesheet" href="style.css?v=2">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title" data-i18n="header.title">🌤️ AI Outfit for Today</h1>
            <p class="subtitle" data-i18n="header.subtitle">Weather-smart fashion recommendations powered by AI</p>

            <nav class="main-nav">
                <a href="tomorrow-preview.html" class="nav-button">🌅 Tomorrow's Outfit</a>
                <a href="liked.html" class="nav-button">❤️ Your Liked Outfits</a>
                <a href="trends.html" class="nav-button">📈 Latest Trends</a>
            </nav>
            <!-- Language Selector -->
            <div class="language-selector">
                <label for="language-select" data-i18n="language.label">Language:</label>
                <select id="language-select">
                    <option value="en">English</option>
                    <option value="ko">한국어</option>
                    <option value="ja">日本語</option>
                    <option value="zh">中文</option>
                </select>
            </div>
        </header>


        <main class="main-content">
            <!-- Loading State -->
            <div id="loading-section" class="loading-section">
                <div class="loading-animation">
                    <div class="weather-spinner"></div>
                    <div class="loading-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <h2 class="loading-title" data-i18n="loading.title">Analyzing Your Weather...</h2>
                <p class="loading-text" data-i18n="loading.text">Detecting location and gathering weather data</p>
                <div class="loading-steps">
                    <div class="step" id="step-location">
                        <span class="step-icon">📍</span>
                        <span class="step-text" data-i18n="loading.steps.location">Getting your location</span>
                    </div>
                    <div class="step" id="step-weather">
                        <span class="step-icon">🌡️</span>
                        <span class="step-text" data-i18n="loading.steps.weather">Fetching weather data</span>
                    </div>
                    <div class="step" id="step-outfit">
                        <span class="step-icon">👔</span>
                        <span class="step-text" data-i18n="loading.steps.outfit">Generating outfit recommendation</span>
                    </div>
                    <div class="step" id="step-image">
                        <span class="step-icon">🎨</span>
                        <span class="step-text" data-i18n="loading.steps.image">Preparing AI image generation</span>
                    </div>
                </div>
            </div>

            <!-- Weather Information Section -->
            <section id="weather-section" class="weather-section">
                <div class="weather-card">
                    <div class="weather-header">
                        <h2 class="section-title" data-i18n="weather.title">Current Weather</h2>
                        <div class="location-info">
                            <span id="location-name" class="location-name" data-i18n="weather.locationDetecting">📍 Detecting location...</span>
                            <span id="local-time" class="local-time" data-i18n="weather.timeLoading">🕐 Loading time...</span>
                        </div>
                    </div>
                    
                    <div class="weather-display">
                        <div class="weather-main">
                            <div class="weather-icon-large">
                                <span id="weather-icon" class="weather-icon">🌤️</span>
                            </div>
                            <div class="weather-details">
                                <div id="temperature" class="temperature">--°</div>
                                <div id="weather-condition" class="weather-condition">Loading weather...</div>
                                <div class="weather-metrics">
                                    <span id="feels-like" class="metric">Feels like --°</span>
                                    <span id="humidity" class="metric">Humidity --%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Outfit Recommendation Section -->
            <section id="outfit-section" class="outfit-section">
                <div class="outfit-card">
                    <div class="outfit-header">
                        <h2 class="section-title" data-i18n="outfit.title">Perfect Outfit for Today</h2>
                        <div class="ai-badge">
                            <span class="ai-icon">🤖</span>
                            <span data-i18n="outfit.aiRecommended">AI Recommended</span>
                        </div>
                    </div>
                    
                    <div class="outfit-content">
                        <div class="outfit-description">
                            <div id="outfit-summary" class="outfit-summary" data-i18n="outfit.analyzing">
                                Analyzing weather conditions to recommend the perfect outfit...
                            </div>
                            <div id="outfit-details" class="outfit-details">
                                <div class="detail-item">
                                    <span class="detail-icon">👕</span>
                                    <span id="clothing-items" class="detail-text" data-i18n="outfit.details.clothing">Loading recommendations...</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">👟</span>
                                    <span id="footwear" class="detail-text" data-i18n="outfit.details.footwear">Selecting footwear...</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">🎒</span>
                                    <span id="accessories" class="detail-text" data-i18n="outfit.details.accessories">Choosing accessories...</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">✨</span>
                                    <span id="outfit-style-display" class="detail-text" data-i18n="outfit.details.style">Determining style...</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="image-generation">
                            <div class="generation-actions">
                                <div class="gender-selection">
                                    <h4 class="gender-title" data-i18n="gender.title">👤 Choose Gender</h4>
                                    <div class="gender-buttons">
                                        <button class="gender-btn active" data-gender="female">
                                            <span class="gender-icon">👩</span>
                                            <span class="gender-text" data-i18n="gender.female">Women's Style</span>
                                        </button>
                                        <button class="gender-btn" data-gender="male">
                                            <span class="gender-icon">👨</span>
                                            <span class="gender-text" data-i18n="gender.male">Men's Style</span>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="style-selection">
                                    <h4 class="style-title" data-i18n="style.title">👗 Choose Style</h4>
                                    <div class="style-buttons">
                                        <button class="style-btn active" data-style="casual">
                                            <span class="style-text" data-i18n="style.casual">Casual</span>
                                        </button>
                                        <button class="style-btn" data-style="business">
                                            <span class="style-text" data-i18n="style.business">Business</span>
                                        </button>
                                        <button class="style-btn" data-style="date">
                                            <span class="style-text" data-i18n="style.date">Date</span>
                                        </button>
                                    </div>
                                </div>
                                
                                <button id="generate-image-btn" class="generate-btn" onclick="generateOutfitImage()">
                                    <span class="btn-icon">🎨</span>
                                    <span class="btn-text" data-i18n="outfit.generateImage">Generate AI Outfit Image</span>
                                </button>
                                <p class="generation-note" data-i18n="outfit.generateNote">
                                    AI will create outfit images based on your selected style and current weather
                                </p>
                                
                                <!-- Image Generation Container -->
                                <div id="generated-image-container" class="generated-image-container" style="display: none;">
                                    <!-- Images will be populated by JavaScript -->
                                </div>
                            </div>
                            
                            <div class="prompt-preview hidden">
                                <h3 class="prompt-title" data-i18n="outfit.promptTitle">AI Image Prompt</h3>
                                <div id="ai-prompt" class="prompt-text hidden" data-i18n="outfit.promptGenerating">
                                    Generating detailed outfit description for AI image creation...
                                </div>
                            </div>
                            
                            <!-- Amazon Product Recommendations -->
                            <div class="product-recommendations">
                                <h3 class="products-title" data-i18n="products.title">🛍️ Get This Look</h3>
                                <p class="products-subtitle" data-i18n="products.subtitle">Shop the recommended items for your perfect weather outfit</p>
                                <div id="recommended-products" class="products-grid">
                                    <!-- Products will be populated by JavaScript -->
                                </div>
                                <p class="affiliate-disclaimer">
                                    <small data-i18n="products.disclaimer">💡 As an Amazon Associate, we earn from qualifying purchases. Prices may vary.</small>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>



            <!-- How It Works Section -->
            <section id="how-it-works-section" class="info-section">
                <h2 class="section-title" data-i18n="howItWorks.title">How It Works</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-icon">🌍</div>
                        <h3 data-i18n="howItWorks.steps.location.title">Auto Location</h3>
                        <p data-i18n="howItWorks.steps.location.description">We detect your location automatically to get accurate local weather data</p>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">🌡️</div>
                        <h3 data-i18n="howItWorks.steps.weather.title">Weather Analysis</h3>
                        <p data-i18n="howItWorks.steps.weather.description">Real-time weather conditions including temperature, humidity, and conditions</p>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">🤖</div>
                        <h3 data-i18n="howItWorks.steps.ai.title">AI Recommendation</h3>
                        <p data-i18n="howItWorks.steps.ai.description">Smart algorithms suggest the perfect outfit based on current weather</p>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">🎨</div>
                        <h3 data-i18n="howItWorks.steps.visual.title">Visual Generation</h3>
                        <p data-i18n="howItWorks.steps.visual.description">Generate stunning AI images of your recommended outfit instantly</p>
                    </div>
                </div>
            </section>

            <!-- Error Message -->
            <div id="error-section" class="error-section hidden">
                <div class="error-card">
                    <div class="error-icon">⚠️</div>
                    <h3 class="error-title" data-i18n="error.title">Unable to Get Weather Data</h3>
                    <p id="error-message" class="error-message" data-i18n="error.message">
                        Please enable location access and refresh the page to get personalized weather-based outfit recommendations.
                    </p>
                    <button onclick="location.reload()" class="retry-btn">
                        <span class="btn-icon">🔄</span>
                        <span class="btn-text" data-i18n="error.retryButton">Try Again</span>
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3 data-i18n="footer.brandName">AI Outfit for Today</h3>
                    <p data-i18n="footer.brandSlogan">Weather-smart fashion recommendations worldwide</p>
                </div>
                <div class="footer-links">
                    <a href="index.html" data-i18n="footer.home">Home</a>
                    <a href="privacy.html" data-i18n="privacy.link">Privacy Policy</a>
                    <a href="terms.html" data-i18n="terms.link">Terms of Service</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p data-i18n="footer.copy">© 2024 AI Outfit for Today. Available globally. Powered by Open-Meteo API.</p>
            </div>
        </footer>


    </div>

    <!-- Scripts -->
    <script src="script.js?v=5" defer></script>
    <script>
        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('PWA: Service Worker registered successfully:', registration.scope);
                        
                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            console.log('PWA: New version available');
                        });
                    })
                    .catch((error) => {
                        console.log('PWA: Service Worker registration failed:', error);
                    });
            });
        }

        // PWA Install prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('PWA: Install prompt available');
            e.preventDefault();
            deferredPrompt = e;
            
            // Show custom install button or notification
            showInstallPrompt();
        });

        function showInstallPrompt() {
            // Create install notification
            const installNotification = document.createElement('div');
            installNotification.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                font-size: 14px;
                display: flex;
                align-items: center;
                justify-content: space-between;
            `;
            
            installNotification.innerHTML = `
                <span>📱 Install AI Outfit as an app for quick access!</span>
                <div>
                    <button onclick="installPWA()" style="background: white; color: #667eea; border: none; padding: 8px 16px; border-radius: 5px; margin-right: 10px; cursor: pointer; font-weight: 600;">Install</button>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: transparent; color: white; border: 1px solid white; padding: 8px 16px; border-radius: 5px; cursor: pointer;">Later</button>
                </div>
            `;
            
            document.body.appendChild(installNotification);
            
            // Removed: Auto hide after 10 seconds
            // setTimeout(() => {
            //     if (installNotification.parentElement) {
            //         installNotification.remove();
            //     }
            // }, 10000);
        }

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('PWA: User accepted the install prompt');
                    } else {
                        console.log('PWA: User dismissed the install prompt');
                    }
                    deferredPrompt = null;
                });
            }
        }

    </script>
</body>
</html> 