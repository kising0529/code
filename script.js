// Global configuration
const CONFIG = {
    weatherAPI: 'https://api.open-meteo.com/v1/forecast',
    geocodingAPI: 'https://us1.api-bdc.net/data/reverse-geocode-client',
    updateInterval: 300000, // 5 minutes
    locationCacheTime: 3600000 // 1 hour
};

// Translations object
const translations = {
    en: {
        "app.title": "AI Outfit for Today",
        "app.subtitle": "Your AI-Powered Fashion Assistant for Any Weather",
        "header.likedOutfits": "Liked Outfits",
        "main.heading": "Get Your Outfit Recommendation",
        "main.subheading": "Select your preferences and get a personalized outfit based on current weather.",
        "gender.title": "1. Select Gender",
        "gender.female": "Female",
        "gender.male": "Male",
        "style.title": "2. Select Style",
        "style.casual": "Casual",
        "style.business": "Business",
        "style.date": "Date",
        "weather.title": "Current Weather & Location",
        "outfit.title": "Your AI-Generated Outfit Recommendation",
        "outfit.summary": "Summary",
        "outfit.clothing": "Clothing",
        "outfit.footwear": "Footwear",
        "outfit.accessories": "Accessories",
        "outfit.promptTitle": "AI Image Prompt",
        "outfit.promptGenerating": "Generating detailed outfit description for AI image creation...",
        "outfit.generateImage": "Generate AI Outfit Image",
        "outfit.loadingImage": "Generating Image...",
        "outfit.imageDisclaimer": "AI-generated image for visualization. Outfits are recommendations.",
        "products.title": "Recommended Products",
        "products.noProducts": "No product recommendations available - showing test product.",
        "liked.title": "Your Liked Outfits",
        "liked.noImages": "No liked images yet. Generate and like some outfits on the main page!",
        "footer.copy": "Â© 2023 AI Outfit for Today. All rights reserved.",
        "privacy.link": "Privacy Policy",
        "terms.link": "Terms of Service",
        "privacy.title": "Privacy Policy",
        "privacy.introduction": "This Privacy Policy describes how [Your Company Name/AI Outfit for Today] (\"we,\" \"us,\" or \"our\") collects, uses, and discloses your information in connection with your use of the AI Outfit for Today website and services (the \"Service\").",
        "privacy.infoCollection": "Information We Collect",
        "privacy.infoCollectionText1": "We collect information you provide directly to us when you use our Service, such as your gender and style preferences for outfit recommendations.",
        "privacy.infoCollectionText2": "When you use our Service, we may automatically collect certain information about your device, including your IP address, browser type, operating system, and geographic location (based on your IP address or browser's geolocation services, if enabled). This information is used to provide localized weather data and improve our Service.",
        "privacy.infoUsage": "How We Use Your Information",
        "privacy.infoUsageText1": "To provide and maintain our Service, including outfit recommendations and weather data.",
        "privacy.infoUsageText2": "To improve, personalize, and expand our Service.",
        "privacy.infoSharing": "How We Share Your Information",
        "privacy.infoSharingText1": "We do not sell, rent, or otherwise share your personal information with third parties for their direct marketing purposes.",
        "privacy.infoSharingText2": "We may share non-personally identifiable information (such as aggregated usage data) with third parties for analytics, research, or similar purposes.",
        "privacy.dataStorage": "Data Storage and Security",
        "privacy.dataStorageText1": "We use client-side storage (e.g., LocalStorage, IndexedDB) to store your language preference and liked outfits. This data is stored on your device and is not transmitted to our servers.",
        "privacy.changes": "Changes to This Privacy Policy",
        "privacy.changesText1": "We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.",
        "privacy.contact": "Contact Us",
        "privacy.contactText1": "If you have any questions about this Privacy Policy, please contact us at kising26903854@gmail.com.",
        "terms.title": "Terms of Service",
        "terms.introduction": "Welcome to AI Outfit for Today. These Terms of Service (\"Terms\") govern your use of the AI Outfit for Today website and services (the \"Service\"). By accessing or using the Service, you agree to be bound by these Terms.",
        "terms.useOfService": "1. Use of Service",
        "terms.useOfServiceText1": "The Service provides AI-generated outfit recommendations based on weather data and user preferences. The outfit images are for visualization purposes only and are generated by third-party AI image services.",
        "terms.userConduct": "2. User Conduct",
        "terms.userConductText1": "You agree not to use the Service for any unlawful or prohibited activities.",
        "terms.intellectualProperty": "3. Intellectual Property",
        "terms.intellectualPropertyText1": "All content, trademarks, and intellectual property on the Service are owned by [Your Company Name/AI Outfit for Today] or its licensors. You may not use any content from the Service without prior written permission.",
        "terms.disclaimer": "4. Disclaimer of Warranties",
        "terms.disclaimerText1": "The Service is provided \"as is\" and \"as available\" without any warranties of any kind, either express or implied.",
        "terms.limitationOfLiability": "5. Limitation of Liability",
        "terms.limitationOfLiabilityText1": "In no event shall [Your Company Name/AI Outfit for Today] be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of the Service.",
        "terms.changes": "6. Changes to Terms",
        "terms.changesText1": "We reserve the right to modify or replace these Terms at any time. Your continued use of the Service after any such changes constitutes your acceptance of the new Terms.",
        "terms.contact": "7. Contact Information",
        "terms.contactText1": "If you have any questions about these Terms, please contact us at kising26903854@gmail.com.",
        "howItWorks.title": "How It Works",
        "howItWorks.steps.location.title": "Auto Location",
        "howItWorks.steps.location.description": "We detect your location automatically to get accurate local weather data",
        "howItWorks.steps.weather.title": "Weather Analysis",
        "howItWorks.steps.weather.description": "Real-time weather conditions including temperature, humidity, and conditions",
        "howItWorks.steps.ai.title": "AI Recommendation",
        "howItWorks.steps.ai.description": "Smart algorithms suggest the perfect outfit based on current weather",
        "howItWorks.steps.visual.title": "Visual Generation",
        "howItWorks.steps.visual.description": "Generate stunning AI images of your recommended outfit instantly",
        "trends.pageTitle": "Latest Trends - AI Outfit for Today",
        "trends.headerTitle": "Latest Trends",
        "trends.headerSubtitle": "Discover the hottest fashion trends powered by AI.",
        "trends.sectionTitle": "Emerging Fashion Trends",
        "trends.introText": "Stay ahead of the curve with insights into the latest fashion trends. Our AI analyzes vast amounts of fashion data to bring you predictions and highlights of what's hot.",
        "trends.trend1Title": "1. Sustainable & Eco-Conscious Fashion",
        "trends.trend1Text": "The demand for environmentally friendly clothing continues to rise. Look for natural fibers, recycled materials, and transparent supply chains.",
        "trends.trend2Title": "2. Comfort-First Athleisure",
        "trends.trend2Text": "Comfort remains key, with athleisure wear evolving to include more sophisticated designs suitable for various casual settings.",
        "trends.trend3Title": "3. Bold Colors & Statement Pieces",
        "trends.trend3Text": "After a period of muted tones, vibrant colors and unique, eye-catching statement pieces are making a comeback.",
        "trends.trend4Title": "4. Gender-Neutral Apparel",
        "trends.trend4Text": "Fashion is becoming increasingly inclusive, with more brands offering gender-neutral collections that challenge traditional norms.",
        "trends.trend5Title": "5. Vintage & Retro Revival",
        "trends.trend5Text": "Nostalgia plays a big role, with fashion drawing inspiration from past decades, particularly the 70s, 90s, and early 2000s.",

        "tomorrow.title": "ðŸŒ… Tomorrow's Outfit Preview",
        "tomorrow.subtitle": "Get ready for tomorrow with AI-powered fashion forecast",

        "tomorrow.loading.title": "Analyzing Tomorrow's Weather...",
        "tomorrow.loading.text": "Preparing your fashion forecast for tomorrow",
        "tomorrow.loading.steps.weather": "Fetching tomorrow's weather",
        "tomorrow.loading.steps.outfit": "Generating tomorrow's outfit",
        "tomorrow.loading.steps.image": "Creating fashion preview",
        "tomorrow.weather.title": "Tomorrow's Weather Forecast",
        "tomorrow.weather.dateLoading": "ðŸ“… Loading date...",
        "tomorrow.outfit.title": "Perfect Outfit for Tomorrow",
        "tomorrow.outfit.aiRecommended": "AI Fashion Forecast",
        "tomorrow.outfit.analyzing": "Analyzing tomorrow's weather conditions to recommend the perfect outfit...",
        "tomorrow.outfit.generateImage": "Generate Tomorrow's Outfit Image",
        "tomorrow.outfit.generateNote": "AI will create outfit images based on tomorrow's weather forecast",


        "tomorrow.howItWorks.title": "How Tomorrow's Forecast Works",
        "tomorrow.howItWorks.steps.location.title": "Auto Location",
        "tomorrow.howItWorks.steps.location.description": "We detect your location to get accurate tomorrow's weather forecast",
        "tomorrow.howItWorks.steps.weather.title": "Tomorrow's Weather",
        "tomorrow.howItWorks.steps.weather.description": "Advanced weather prediction for tomorrow's conditions and temperature",
        "tomorrow.howItWorks.steps.ai.title": "AI Fashion Forecast",
        "tomorrow.howItWorks.steps.ai.description": "Smart algorithms predict the perfect outfit for tomorrow's weather",
        "tomorrow.howItWorks.steps.visual.title": "Visual Preview",
        "tomorrow.howItWorks.steps.visual.description": "Generate stunning AI images of tomorrow's recommended outfit",
        "tomorrow.error.message": "Please enable location access and refresh the page to get tomorrow's weather-based outfit recommendations.",
        "tomorrow.footer.brandName": "Tomorrow's AI Outfit",
        "tomorrow.footer.brandSlogan": "Fashion forecast for tomorrow's weather worldwide",
        "tomorrow.footer.copy": "Â© 2024 Tomorrow's AI Outfit. Fashion forecast powered by Open-Meteo API."
    },
    ko: {
        "app.title": "ì˜¤ëŠ˜ì˜ AI ì½”ë””",
        "app.subtitle": "ì–´ë–¤ ë‚ ì”¨ì—ë„ AIê°€ ì¶”ì²œí•˜ëŠ” ë§žì¶¤í˜• íŒ¨ì…˜ ë„ìš°ë¯¸",
        "header.likedOutfits": "ì¢‹ì•„ìš” ëˆ„ë¥¸ ì½”ë””",
        "main.heading": "ë‚˜ë§Œì˜ ì½”ë”” ì¶”ì²œ ë°›ê¸°",
        "main.subheading": "ì„ í˜¸ë„ë¥¼ ì„ íƒí•˜ê³  í˜„ìž¬ ë‚ ì”¨ì— ë§žëŠ” ë§žì¶¤í˜• ì½”ë””ë¥¼ ë°›ì•„ë³´ì„¸ìš”.",
        "gender.title": "1. ì„±ë³„ ì„ íƒ",
        "gender.female": "ì—¬ì„±",
        "gender.male": "ë‚¨ì„±",
        "style.title": "2. ìŠ¤íƒ€ì¼ ì„ íƒ",
        "style.casual": "ìºì£¼ì–¼",
        "style.business": "ë¹„ì¦ˆë‹ˆìŠ¤",
        "style.date": "ë°ì´íŠ¸",
        "weather.title": "í˜„ìž¬ ë‚ ì”¨ ë° ìœ„ì¹˜",
        "outfit.title": "AI ìƒì„± ì½”ë”” ì¶”ì²œ",
        "outfit.summary": "ìš”ì•½",
        "outfit.clothing": "ì˜ë¥˜",
        "outfit.footwear": "ì‹ ë°œ",
        "outfit.accessories": "ì•¡ì„¸ì„œë¦¬",
        "outfit.promptTitle": "AI ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸",
        "outfit.promptGenerating": "AI ì´ë¯¸ì§€ ìƒì„±ì„ ìœ„í•œ ìƒì„¸ ì½”ë”” ì„¤ëª… ìƒì„± ì¤‘...",
        "outfit.generateImage": "AI ì½”ë”” ì´ë¯¸ì§€ ìƒì„±",
        "outfit.loadingImage": "ì´ë¯¸ì§€ ìƒì„± ì¤‘...",
        "outfit.imageDisclaimer": "ì‹œê°í™”ë¥¼ ìœ„í•œ AI ìƒì„± ì´ë¯¸ì§€ìž…ë‹ˆë‹¤. ì½”ë””ëŠ” ì¶”ì²œ ì‚¬í•­ìž…ë‹ˆë‹¤.",
        "products.title": "ì¶”ì²œ ìƒí’ˆ",
        "products.noProducts": "ì¶”ì²œ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤ - í…ŒìŠ¤íŠ¸ ìƒí’ˆì„ í‘œì‹œí•©ë‹ˆë‹¤.",
        "liked.title": "ì¢‹ì•„ìš” ëˆ„ë¥¸ ì½”ë””",
        "liked.noImages": "ì•„ì§ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤. ë©”ì¸ íŽ˜ì´ì§€ì—ì„œ ì½”ë””ë¥¼ ìƒì„±í•˜ê³  ì¢‹ì•„ìš”ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”!",
        "footer.copy": "Â© 2023 ì˜¤ëŠ˜ì˜ AI ì½”ë””. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .",
        "privacy.link": "ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨",
        "terms.link": "ì´ìš©ì•½ê´€",
        "privacy.title": "ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨",
        "privacy.introduction": "ì´ ê°œì¸ ì •ë³´ ë³´í˜¸ ì •ì±…ì€ [íšŒì‚¬ ì´ë¦„/ì˜¤ëŠ˜ì˜ AI ì½”ë””](ë³¸ë¬¸ì—ì„œëŠ” \"ë‹¹ì‚¬\", \"ì €í¬\" ë˜ëŠ” \"ì €í¬ì˜\"ë¡œ ì§€ì¹­)ê°€ AI Outfit for Today ì›¹ì‚¬ì´íŠ¸ ë° ì„œë¹„ìŠ¤(\"ì„œë¹„ìŠ¤\")ì™€ ê´€ë ¨í•˜ì—¬ ê·€í•˜ì˜ ì •ë³´ë¥¼ ìˆ˜ì§‘, ì‚¬ìš© ë° ê³µê°œí•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.",
        "privacy.infoCollection": "ìˆ˜ì§‘í•˜ëŠ” ì •ë³´",
        "privacy.infoCollectionText1": "ë‹¹ì‚¬ëŠ” ê·€í•˜ê°€ ì„œë¹„ìŠ¤ ì´ìš© ì‹œ ì§ì ‘ ì œê³µí•˜ëŠ” ì •ë³´(ì˜ˆ: ì½”ë”” ì¶”ì²œì„ ìœ„í•œ ì„±ë³„ ë° ìŠ¤íƒ€ì¼ ì„ í˜¸ë„)ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.",
        "privacy.infoCollectionText2": "ê·€í•˜ê°€ ë‹¹ì‚¬ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ë•Œ, ë‹¹ì‚¬ëŠ” ê·€í•˜ì˜ IP ì£¼ì†Œ, ë¸Œë¼ìš°ì € ìœ í˜•, ìš´ì˜ ì²´ì œ ë° ì§€ë¦¬ì  ìœ„ì¹˜(ê·€í•˜ì˜ IP ì£¼ì†Œ ë˜ëŠ” ë¸Œë¼ìš°ì €ì˜ ì§€ë¦¬ì  ìœ„ì¹˜ ì„œë¹„ìŠ¤ê°€ í™œì„±í™”ëœ ê²½ìš° ê¸°ë°˜)ë¥¼ í¬í•¨í•œ íŠ¹ì • ìž¥ì¹˜ ì •ë³´ë¥¼ ìžë™ìœ¼ë¡œ ìˆ˜ì§‘í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ ì •ë³´ëŠ” í˜„ì§€í™”ëœ ë‚ ì”¨ ë°ì´í„°ë¥¼ ì œê³µí•˜ê³  ì„œë¹„ìŠ¤ ê°œì„ ì„ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.",
        "privacy.infoUsage": "ì •ë³´ ì‚¬ìš© ë°©ë²•",
        "privacy.infoUsageText1": "ì½”ë”” ì¶”ì²œ ë° ë‚ ì”¨ ë°ì´í„°ë¥¼ í¬í•¨í•œ ì„œë¹„ìŠ¤ ì œê³µ ë° ìœ ì§€.",
        "privacy.infoUsageText2": "ì„œë¹„ìŠ¤ ê°œì„ , ê°œì¸í™” ë° í™•ìž¥.",
        "privacy.infoSharing": "ì •ë³´ ê³µìœ  ë°©ë²•",
        "privacy.infoSharingText1": "ë‹¹ì‚¬ëŠ” ê·€í•˜ì˜ ê°œì¸ ì •ë³´ë¥¼ ì œ3ìžì—ê²Œ ì§ì ‘ ë§ˆì¼€íŒ… ëª©ì ìœ¼ë¡œ íŒë§¤, ëŒ€ì—¬ ë˜ëŠ” ê³µìœ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
        "privacy.infoSharingText2": "ë‹¹ì‚¬ëŠ” ë¹„ì‹ë³„ ì •ë³´(ì˜ˆ: ì§‘ê³„ëœ ì‚¬ìš© ë°ì´í„°)ë¥¼ ë¶„ì„, ì—°êµ¬ ë˜ëŠ” ìœ ì‚¬í•œ ëª©ì ìœ¼ë¡œ ì œ3ìžì™€ ê³µìœ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.",
        "privacy.dataStorage": "ë°ì´í„° ì €ìž¥ ë° ë³´ì•ˆ",
        "privacy.dataStorageText1": "ë‹¹ì‚¬ëŠ” ê·€í•˜ì˜ ì–¸ì–´ ê¸°ë³¸ ì„¤ì • ë° ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì½”ë””ë¥¼ ì €ìž¥í•˜ê¸° ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì €ìž¥ì†Œ(ì˜ˆ: LocalStorage, IndexedDB)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ë°ì´í„°ëŠ” ê·€í•˜ì˜ ìž¥ì¹˜ì— ì €ìž¥ë˜ë©° ë‹¹ì‚¬ ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
        "privacy.changes": "ê°œì¸ ì •ë³´ ë³´í˜¸ ì •ì±… ë³€ê²½",
        "privacy.changesText1": "ë‹¹ì‚¬ëŠ” ê°œì¸ ì •ë³´ ë³´í˜¸ ì •ì±…ì„ ìˆ˜ì‹œë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ìžˆì„ ê²½ìš° ì´ íŽ˜ì´ì§€ì— ìƒˆë¡œìš´ ê°œì¸ ì •ë³´ ë³´í˜¸ ì •ì±…ì„ ê²Œì‹œí•˜ì—¬ ê·€í•˜ì—ê²Œ í†µì§€í•  ê²ƒìž…ë‹ˆë‹¤.",
        "privacy.contact": "ë¬¸ì˜í•˜ê¸°",
        "privacy.contactText1": "ì´ ê°œì¸ ì •ë³´ ë³´í˜¸ ì •ì±…ì— ëŒ€í•´ ì§ˆë¬¸ì´ ìžˆìœ¼ì‹œë©´ kising26903854@gmail.comìœ¼ë¡œ ë¬¸ì˜í•˜ì‹­ì‹œì˜¤.",
        "terms.title": "ì´ìš©ì•½ê´€",
        "terms.introduction": "AI Outfit for Todayì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ë³¸ ì´ìš©ì•½ê´€(\"ì•½ê´€\")ì€ AI Outfit for Today ì›¹ì‚¬ì´íŠ¸ ë° ì„œë¹„ìŠ¤(\"ì„œë¹„ìŠ¤\")ì˜ ì‚¬ìš©ì— ì ìš©ë©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê±°ë‚˜ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê·€í•˜ëŠ” ë³¸ ì•½ê´€ì— ë™ì˜í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.",
        "terms.useOfService": "1. ì„œë¹„ìŠ¤ ì´ìš©",
        "terms.useOfServiceText1": "ë³¸ ì„œë¹„ìŠ¤ëŠ” ë‚ ì”¨ ë°ì´í„° ë° ì‚¬ìš©ìž ì„ í˜¸ë„ì— ê¸°ë°˜í•œ AI ìƒì„± ì½”ë”” ì¶”ì²œì„ ì œê³µí•©ë‹ˆë‹¤. ì½”ë”” ì´ë¯¸ì§€ëŠ” ì‹œê°í™” ëª©ì ìœ¼ë¡œë§Œ ì œê³µë˜ë©°, íƒ€ì‚¬ AI ì´ë¯¸ì§€ ì„œë¹„ìŠ¤ì— ì˜í•´ ìƒì„±ë©ë‹ˆë‹¤.",
        "terms.userConduct": "2. ì‚¬ìš©ìž í–‰ë™",
        "terms.userConductText1": "ê·€í•˜ëŠ” ë¶ˆë²•ì ì´ê±°ë‚˜ ê¸ˆì§€ëœ í™œë™ì„ ìœ„í•´ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒì— ë™ì˜í•©ë‹ˆë‹¤.",
        "terms.intellectualProperty": "3. ì§€ì  ìž¬ì‚°ê¶Œ",
        "terms.intellectualPropertyText1": "ì„œë¹„ìŠ¤ì˜ ëª¨ë“  ì½˜í…ì¸ , ìƒí‘œ ë° ì§€ì  ìž¬ì‚°ê¶Œì€ [íšŒì‚¬ ì´ë¦„/ì˜¤ëŠ˜ì˜ AI ì½”ë””] ë˜ëŠ” ê·¸ ë¼ì´ì„ ìŠ¤ ì œê³µìžì—ê²Œ ìžˆìŠµë‹ˆë‹¤. ì‚¬ì „ ì„œë©´ í—ˆê°€ ì—†ì´ ì„œë¹„ìŠ¤ì˜ ì–´ë–¤ ì½˜í…ì¸ ë„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
        "terms.disclaimer": "4. ë³´ì¦ ë¶€ì¸",
        "terms.disclaimerText1": "ë³¸ ì„œë¹„ìŠ¤ëŠ” ëª…ì‹œì ì´ë“  ë¬µì‹œì ì´ë“  ì–´ë– í•œ ì¢…ë¥˜ì˜ ë³´ì¦ ì—†ì´ \"ìžˆëŠ” ê·¸ëŒ€ë¡œ\" ë° \"ì´ìš© ê°€ëŠ¥í•œ ìƒíƒœë¡œ\" ì œê³µë©ë‹ˆë‹¤.",
        "terms.limitationOfLiability": "5. ì±…ìž„ì˜ ì œí•œ",
        "terms.limitationOfLiabilityText1": "ì–´ë– í•œ ê²½ìš°ì—ë„ [íšŒì‚¬ ì´ë¦„/ì˜¤ëŠ˜ì˜ AI ì½”ë””]ëŠ” ì„œë¹„ìŠ¤ ì‚¬ìš©ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ê±°ë‚˜ ì„œë¹„ìŠ¤ ì‚¬ìš©ê³¼ ê´€ë ¨ëœ ê°„ì ‘ì , ë¶€ìˆ˜ì , íŠ¹ë³„, ê²°ê³¼ì  ë˜ëŠ” ì§•ë²Œì  ì†í•´ì— ëŒ€í•´ ì±…ìž„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.",
        "terms.changes": "6. ì•½ê´€ ë³€ê²½",
        "terms.changesText1": "ë‹¹ì‚¬ëŠ” ì–¸ì œë“ ì§€ ë³¸ ì•½ê´€ì„ ìˆ˜ì •í•˜ê±°ë‚˜ êµì²´í•  ê¶Œë¦¬ë¥¼ ë³´ìœ í•©ë‹ˆë‹¤. ê·¸ëŸ¬í•œ ë³€ê²½ í›„ì—ë„ ì„œë¹„ìŠ¤ë¥¼ ê³„ì† ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ìƒˆë¡œìš´ ì•½ê´€ì— ë™ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.",
        "terms.contact": "7. ì—°ë½ì²˜ ì •ë³´",
        "terms.contactText1": "If you have any questions about these Terms, please contact us at kising26903854@gmail.com.",
        "howItWorks.title": "ìž‘ë™ ë°©ì‹",
        "howItWorks.steps.location.title": "ìžë™ ìœ„ì¹˜",
        "howItWorks.steps.location.description": "ì •í™•í•œ í˜„ì§€ ë‚ ì”¨ ë°ì´í„°ë¥¼ ì–»ê¸° ìœ„í•´ ìžë™ìœ¼ë¡œ ê·€í•˜ì˜ ìœ„ì¹˜ë¥¼ ê°ì§€í•©ë‹ˆë‹¤",
        "howItWorks.steps.weather.title": "ë‚ ì”¨ ë¶„ì„",
        "howItWorks.steps.weather.description": "ê¸°ì˜¨, ìŠµë„, ê¸°ìƒ ì¡°ê±´ì„ í¬í•¨í•œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤",
        "howItWorks.steps.ai.title": "AI ì¶”ì²œ",
        "howItWorks.steps.ai.description": "ìŠ¤ë§ˆíŠ¸ ì•Œê³ ë¦¬ì¦˜ì´ í˜„ìž¬ ë‚ ì”¨ì— ë§žëŠ” ì™„ë²½í•œ ì½”ë””ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤",
        "howItWorks.steps.visual.title": "ì‹œê°ì  ìƒì„±",
        "howItWorks.steps.visual.description": "ì¶”ì²œ ì½”ë””ì˜ ë©‹ì§„ AI ì´ë¯¸ì§€ë¥¼ ì¦‰ì‹œ ìƒì„±í•©ë‹ˆë‹¤",
        "trends.pageTitle": "ìµœì‹  íŠ¸ë Œë“œ - ì˜¤ëŠ˜ì˜ AI ì½”ë””",
        "trends.headerTitle": "ìµœì‹  íŠ¸ë Œë“œ",
        "trends.headerSubtitle": "AI ê¸°ë°˜ì˜ ìµœì‹  íŒ¨ì…˜ íŠ¸ë Œë“œë¥¼ ë°œê²¬í•˜ì„¸ìš”.",
        "trends.sectionTitle": "ë– ì˜¤ë¥´ëŠ” íŒ¨ì…˜ íŠ¸ë Œë“œ",
        "trends.introText": "ìµœì‹  íŒ¨ì…˜ íŠ¸ë Œë“œì— ëŒ€í•œ ì¸ì‚¬ì´íŠ¸ë¡œ ì•žì„œ ë‚˜ê°€ì„¸ìš”. ì €í¬ AIëŠ” ë°©ëŒ€í•œ íŒ¨ì…˜ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ëœ¨ê±°ìš´ íŠ¸ë Œë“œ ì˜ˆì¸¡ê³¼ í•˜ì´ë¼ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
        "trends.trend1Title": "1. ì§€ì† ê°€ëŠ¥í•˜ê³  ì¹œí™˜ê²½ì ì¸ íŒ¨ì…˜",
        "trends.trend1Text": "í™˜ê²½ ì¹œí™”ì ì¸ ì˜ë¥˜ì— ëŒ€í•œ ìˆ˜ìš”ëŠ” ê³„ì† ì¦ê°€í•˜ê³  ìžˆìŠµë‹ˆë‹¤. ì²œì—° ì„¬ìœ , ìž¬í™œìš© ìž¬ë£Œ ë° íˆ¬ëª…í•œ ê³µê¸‰ë§ì„ ì°¾ì•„ë³´ì„¸ìš”.",
        "trends.trend2Title": "2. íŽ¸ì•ˆí•¨ì„ ìµœìš°ì„ ìœ¼ë¡œ í•˜ëŠ” ì• ìŠ¬ë ˆì €",
        "trends.trend2Text": "ë‹¤ì–‘í•œ ìºì£¼ì–¼ í™˜ê²½ì— ì í•©í•œ ì„¸ë ¨ëœ ë””ìžì¸ì„ í¬í•¨í•˜ë„ë¡ ì• ìŠ¬ë ˆì €ì›¨ì–´ê°€ ì§„í™”í•˜ë©´ì„œ íŽ¸ì•ˆí•¨ì´ ì—¬ì „ížˆ ì¤‘ìš”í•©ë‹ˆë‹¤.",
        "trends.trend3Title": "3. ëŒ€ë‹´í•œ ìƒ‰ìƒ ë° ìŠ¤í…Œì´íŠ¸ë¨¼íŠ¸ ì˜ë¥˜",
        "trends.trend3Text": "ì°¨ë¶„í•œ í†¤ì˜ ì‹œëŒ€ë¥¼ ì§€ë‚˜, ìƒìƒí•œ ìƒ‰ìƒê³¼ ë…íŠ¹í•˜ê³  ì‹œì„ ì„ ì‚¬ë¡œìž¡ëŠ” ìŠ¤í…Œì´íŠ¸ë¨¼íŠ¸ ì˜ë¥˜ê°€ ë‹¤ì‹œ ìœ í–‰í•˜ê³  ìžˆìŠµë‹ˆë‹¤.",
        "trends.trend4Title": "4. ì„± ì¤‘ë¦½ ì˜ë¥˜",
        "trends.trend4Text": "íŒ¨ì…˜ì€ ì ì  ë” í¬ê´„ì ìœ¼ë¡œ ë³€í•˜ê³  ìžˆìœ¼ë©°, ë” ë§Žì€ ë¸Œëžœë“œê°€ ì „í†µì ì¸ ê·œë²”ì— ë„ì „í•˜ëŠ” ì„± ì¤‘ë¦½ ì»¬ë ‰ì…˜ì„ ì œê³µí•˜ê³  ìžˆìŠµë‹ˆë‹¤.",
        "trends.trend5Title": "5. ë¹ˆí‹°ì§€ ë° ë ˆíŠ¸ë¡œ ë¶€í™œ",
        "trends.trend5Text": "ê³¼ê±° ìˆ˜ì‹­ ë…„, íŠ¹ížˆ 70ë…„ëŒ€, 90ë…„ëŒ€, 2000ë…„ëŒ€ ì´ˆë°˜ì—ì„œ ì˜ê°ì„ ì–»ì€ íŒ¨ì…˜ì´ í–¥ìˆ˜ë¥¼ ë¶ˆëŸ¬ì¼ìœ¼í‚¤ë©° í° ì—­í• ì„ í•˜ê³  ìžˆìŠµë‹ˆë‹¤.",

        "tomorrow.title": "ðŸŒ… ë‚´ì¼ì˜ ì½”ë”” ë¯¸ë¦¬ë³´ê¸°",
        "tomorrow.subtitle": "AI ê¸°ë°˜ íŒ¨ì…˜ ì˜ˆë³´ë¡œ ë‚´ì¼ì„ ì¤€ë¹„í•˜ì„¸ìš”",

        "tomorrow.loading.title": "ë‚´ì¼ì˜ ë‚ ì”¨ ë¶„ì„ ì¤‘...",
        "tomorrow.loading.text": "ë‚´ì¼ì„ ìœ„í•œ íŒ¨ì…˜ ì˜ˆë³´ë¥¼ ì¤€ë¹„í•˜ê³  ìžˆìŠµë‹ˆë‹¤",
        "tomorrow.loading.steps.weather": "ë‚´ì¼ì˜ ë‚ ì”¨ ê°€ì ¸ì˜¤ëŠ” ì¤‘",
        "tomorrow.loading.steps.outfit": "ë‚´ì¼ì˜ ì½”ë”” ìƒì„± ì¤‘",
        "tomorrow.loading.steps.image": "íŒ¨ì…˜ ë¯¸ë¦¬ë³´ê¸° ìƒì„± ì¤‘",
        "tomorrow.weather.title": "ë‚´ì¼ì˜ ë‚ ì”¨ ì˜ˆë³´",
        "tomorrow.weather.dateLoading": "ðŸ“… ë‚ ì§œ ë¡œë”© ì¤‘...",
        "tomorrow.outfit.title": "ë‚´ì¼ì„ ìœ„í•œ ì™„ë²½í•œ ì½”ë””",
        "tomorrow.outfit.aiRecommended": "AI íŒ¨ì…˜ ì˜ˆë³´",
        "tomorrow.outfit.analyzing": "ë‚´ì¼ì˜ ë‚ ì”¨ ì¡°ê±´ì„ ë¶„ì„í•˜ì—¬ ì™„ë²½í•œ ì½”ë””ë¥¼ ì¶”ì²œí•˜ê³  ìžˆìŠµë‹ˆë‹¤...",
        "tomorrow.outfit.generateImage": "ë‚´ì¼ì˜ ì½”ë”” ì´ë¯¸ì§€ ìƒì„±",
        "tomorrow.outfit.generateNote": "AIê°€ ë‚´ì¼ì˜ ë‚ ì”¨ ì˜ˆë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì½”ë”” ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤",


        "tomorrow.howItWorks.title": "ë‚´ì¼ì˜ ì˜ˆë³´ ìž‘ë™ ë°©ì‹",
        "tomorrow.howItWorks.steps.location.title": "ìžë™ ìœ„ì¹˜",
        "tomorrow.howItWorks.steps.location.description": "ì •í™•í•œ ë‚´ì¼ì˜ ë‚ ì”¨ ì˜ˆë³´ë¥¼ ìœ„í•´ ê·€í•˜ì˜ ìœ„ì¹˜ë¥¼ ê°ì§€í•©ë‹ˆë‹¤",
        "tomorrow.howItWorks.steps.weather.title": "ë‚´ì¼ì˜ ë‚ ì”¨",
        "tomorrow.howItWorks.steps.weather.description": "ë‚´ì¼ì˜ ë‚ ì”¨ ì¡°ê±´ê³¼ ì˜¨ë„ì— ëŒ€í•œ ê³ ê¸‰ ë‚ ì”¨ ì˜ˆì¸¡",
        "tomorrow.howItWorks.steps.ai.title": "AI íŒ¨ì…˜ ì˜ˆë³´",
        "tomorrow.howItWorks.steps.ai.description": "ìŠ¤ë§ˆíŠ¸ ì•Œê³ ë¦¬ì¦˜ì´ ë‚´ì¼ì˜ ë‚ ì”¨ì— ì™„ë²½í•œ ì½”ë””ë¥¼ ì˜ˆì¸¡í•©ë‹ˆë‹¤",
        "tomorrow.howItWorks.steps.visual.title": "ì‹œê°ì  ë¯¸ë¦¬ë³´ê¸°",
        "tomorrow.howItWorks.steps.visual.description": "ë‚´ì¼ì˜ ì¶”ì²œ ì½”ë””ì˜ ë©‹ì§„ AI ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤",
        "tomorrow.error.message": "ìœ„ì¹˜ ì•¡ì„¸ìŠ¤ë¥¼ í™œì„±í™”í•˜ê³  íŽ˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ë‚´ì¼ì˜ ë‚ ì”¨ ê¸°ë°˜ ì½”ë”” ì¶”ì²œì„ ë°›ìœ¼ì„¸ìš”.",
        "tomorrow.footer.brandName": "ë‚´ì¼ì˜ AI ì½”ë””",
        "tomorrow.footer.brandSlogan": "ì „ ì„¸ê³„ ë‚´ì¼ì˜ ë‚ ì”¨ë¥¼ ìœ„í•œ íŒ¨ì…˜ ì˜ˆë³´",
        "tomorrow.footer.copy": "Â© 2024 ë‚´ì¼ì˜ AI ì½”ë””. Open-Meteo APIë¡œ êµ¬ë™ë˜ëŠ” íŒ¨ì…˜ ì˜ˆë³´."
    },
    ja: {
        "app.title": "ä»Šæ—¥ã®AIã‚³ãƒ¼ãƒ‡",
        "app.subtitle": "ã©ã‚“ãªå¤©æ°—ã§ã‚‚AIãŒææ¡ˆã™ã‚‹ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ",
        "header.likedOutfits": "ã„ã„ã­ã—ãŸã‚³ãƒ¼ãƒ‡",
        "main.heading": "ã‚ãªãŸã¸ã®ãŠã™ã™ã‚ã‚³ãƒ¼ãƒ‡ã‚’ãƒã‚§ãƒƒã‚¯",
        "main.subheading": "ã‚ãªãŸã®å¥½ã¿ã‚’é¸æŠžã—ã¦ã€ç¾åœ¨ã®å¤©æ°—ã«åŸºã¥ã„ãŸãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãªã‚³ãƒ¼ãƒ‡ã‚’ã‚²ãƒƒãƒˆã—ã¾ã—ã‚‡ã†ã€‚",
        "gender.title": "1. æ€§åˆ¥ã‚’é¸æŠž",
        "gender.female": "å¥³æ€§",
        "gender.male": "ç”·æ€§",
        "style.title": "2. ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é¸æŠž",
        "style.casual": "ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«",
        "style.business": "ãƒ“ã‚¸ãƒã‚¹",
        "style.date": "ãƒ‡ãƒ¼ãƒˆ",
        "weather.title": "ç¾åœ¨ã®å¤©æ°—ã¨å ´æ‰€",
        "outfit.title": "AIç”Ÿæˆã‚³ãƒ¼ãƒ‡ã®ãŠã™ã™ã‚",
        "outfit.summary": "æ¦‚è¦",
        "outfit.clothing": "æœè£…",
        "outfit.footwear": "å±¥ç‰©",
        "outfit.accessories": "ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼",
        "outfit.promptTitle": "AIç”»åƒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ",
        "outfit.promptGenerating": "AIç”»åƒä½œæˆã®ãŸã‚ã®è©³ç´°ãªã‚³ãƒ¼ãƒ‡èª¬æ˜Žã‚’ç”Ÿæˆä¸­...",
        "outfit.generateImage": "AIã‚³ãƒ¼ãƒ‡ç”»åƒã‚’ç”Ÿæˆ",
        "outfit.loadingImage": "ç”»åƒã‚’ç”Ÿæˆä¸­...",
        "outfit.imageDisclaimer": "è¦–è¦šåŒ–ã®ãŸã‚ã®AIç”Ÿæˆç”»åƒã§ã™ã€‚ã‚³ãƒ¼ãƒ‡ã¯æŽ¨å¥¨äº‹é …ã§ã™ã€‚",
        "products.title": "ãŠã™ã™ã‚å•†å“",
        "products.noProducts": "ãŠã™ã™ã‚å•†å“ã¯ã‚ã‚Šã¾ã›ã‚“ - ãƒ†ã‚¹ãƒˆå•†å“ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚",
        "liked.title": "ã„ã„ã­ã—ãŸã‚³ãƒ¼ãƒ‡",
        "liked.noImages": "ã¾ã ã„ã„ã­ã—ãŸç”»åƒãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã§ã‚³ãƒ¼ãƒ‡ã‚’ç”Ÿæˆã—ã¦ã„ã„ã­ã—ã¦ãã ã•ã„ï¼",
        "footer.copy": "Â© 2023 ä»Šæ—¥ã®AIã‚³ãƒ¼ãƒ‡. ç„¡æ–­è¤‡å†™ãƒ»è»¢è¼‰ã‚’ç¦ã˜ã¾ã™.",
        "privacy.link": "ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼",
        "terms.link": "åˆ©ç”¨è¦ç´„",
        "privacy.title": "ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼",
        "privacy.introduction": "ã“ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€[è²´ç¤¾å/AI Outfit for Today]ï¼ˆæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯\"å½“ç¤¾\"ã¨ç·ç§°ï¼‰ãŒAI Outfit for Todayã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŠã‚ˆã³ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆ\"æœ¬ã‚µãƒ¼ãƒ“ã‚¹\"ï¼‰ã«é–¢é€£ã—ã¦ã€ãŠå®¢æ§˜ã®æƒ…å ±ã‚’åŽé›†ã€ä½¿ç”¨ã€é–‹ç¤ºã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜Žã—ã¾ã™ã€‚",
        "privacy.infoCollection": "åŽé›†ã™ã‚‹æƒ…å ±",
        "privacy.infoCollectionText1": "å½“ç¤¾ã¯ã€ãŠå®¢æ§˜ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹éš›ã«ç›´æŽ¥æä¾›ã™ã‚‹æƒ…å ±ï¼ˆã‚³ãƒ¼ãƒ‡ã®ãŠã™ã™ã‚ã«é–¢ã™ã‚‹æ€§åˆ¥ã‚„ã‚¹ã‚¿ã‚¤ãƒ«ã®å¥½ã¿ãªã©ï¼‰ã‚’åŽé›†ã—ã¾ã™ã€‚",
        "privacy.infoCollectionText2": "ãŠå®¢æ§˜ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹éš›ã€å½“ç¤¾ã¯IPã‚¢ãƒ‰ãƒ¬ã‚¹ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ç¨®é¡žã€ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã€åœ°ç†çš„ä½ç½®ï¼ˆIPã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®åœ°ç†ä½ç½®æƒ…å ±ã‚µãƒ¼ãƒ“ã‚¹ãŒæœ‰åŠ¹ãªå ´åˆã«åŸºã¥ãï¼‰ãªã©ã€ãŠå®¢æ§˜ã®ãƒ‡ãƒã‚¤ã‚¹ã«é–¢ã™ã‚‹ç‰¹å®šã®æƒ…å ±ã‚’è‡ªå‹•çš„ã«åŽé›†ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æƒ…å ±ã¯ã€åœ°åŸŸã«ç‰¹åŒ–ã—ãŸå¤©æ°—ãƒ‡ãƒ¼ã‚¿ã‚’æä¾›ã—ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚",
        "privacy.infoUsage": "æƒ…å ±ã®ä½¿ç”¨æ–¹æ³•",
        "privacy.infoUsageText1": "ã‚³ãƒ¼ãƒ‡ã®ãŠã™ã™ã‚ã‚„å¤©æ°—ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ãŠã‚ˆã³ç¶­æŒã®ãŸã‚ã€‚",
        "privacy.infoUsageText2": "æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æ”¹å–„ã€ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã€ãŠã‚ˆã³æ‹¡å¼µã®ãŸã‚ã€‚",
        "privacy.infoSharing": "æƒ…å ±ã®å…±æœ‰æ–¹æ³•",
        "privacy.infoSharingText1": "å½“ç¤¾ã¯ã€ãŠå®¢æ§˜ã®å€‹äººæƒ…å ±ã‚’ç¬¬ä¸‰è€…ã®ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒžãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ç›®çš„ã§è²©å£²ã€è²¸ä¸Žã€ã¾ãŸã¯ãã®ä»–ã®æ–¹æ³•ã§å…±æœ‰ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
        "privacy.infoSharingText2": "å½“ç¤¾ã¯ã€åˆ†æžã€ç ”ç©¶ã€ã¾ãŸã¯åŒæ§˜ã®ç›®çš„ã®ãŸã‚ã«ã€å€‹äººã‚’ç‰¹å®šã§ããªã„æƒ…å ±ï¼ˆé›†è¨ˆã•ã‚ŒãŸåˆ©ç”¨çŠ¶æ³ãƒ‡ãƒ¼ã‚¿ãªã©ï¼‰ã‚’ç¬¬ä¸‰è€…ã¨å…±æœ‰ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
        "privacy.dataStorage": "ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",
        "privacy.dataStorageText1": "å½“ç¤¾ã¯ã€ãŠå®¢æ§˜ã®è¨€èªžè¨­å®šã‚„ã„ã„ã­ã—ãŸã‚³ãƒ¼ãƒ‡ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆä¾‹ï¼šLocalStorageã€IndexedDBï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ã¯ãŠå®¢æ§˜ã®ãƒ‡ãƒã‚¤ã‚¹ã«ä¿å­˜ã•ã‚Œã€å½“ç¤¾ã®ã‚µãƒ¼ãƒãƒ¼ã«ã¯é€ä¿¡ã•ã‚Œã¾ã›ã‚“ã€‚",
        "privacy.changes": "æœ¬ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®å¤‰æ›´",
        "privacy.changesText1": "å½“ç¤¾ã¯ã€æœ¬ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã‚’éšæ™‚æ›´æ–°ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚å¤‰æ›´ãŒã‚ã£ãŸå ´åˆã¯ã€ã“ã®ãƒšãƒ¼ã‚¸ã«æ–°ã—ã„ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã‚’æŽ²è¼‰ã—ã¦ãŠå®¢æ§˜ã«é€šçŸ¥ã—ã¾ã™ã€‚",
        "privacy.contact": "ãŠå•ã„åˆã‚ã›",
        "privacy.contactText1": "æœ¬ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã«é–¢ã™ã‚‹ã”è³ªå•ã¯ã€kising26903854@gmail.comã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚",
        "terms.title": "åˆ©ç”¨è¦ç´„",
        "terms.introduction": "AI Outfit for Todayã«ã‚ˆã†ã“ãã€‚æœ¬åˆ©ç”¨è¦ç´„ï¼ˆ\"æœ¬è¦ç´„\"ï¼‰ã¯ã€AI Outfit for Todayã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŠã‚ˆã³ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆ\"æœ¬ã‚µãƒ¼ãƒ“ã‚¹\"ï¼‰ã®ã”åˆ©ç”¨ã‚’è¦å®šã™ã‚‹ã‚‚ã®ã§ã™ã€‚æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã¾ãŸã¯åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ãŠå®¢æ§˜ã¯æœ¬è¦ç´„ã«æ‹˜æŸã•ã‚Œã‚‹ã“ã¨ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã•ã‚Œã¾ã™ã€‚",
        "terms.useOfService": "1. ã‚µãƒ¼ãƒ“ã‚¹ã®ã”åˆ©ç”¨",
        "terms.useOfServiceText1": "æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€æ°—è±¡ãƒ‡ãƒ¼ã‚¿ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¥½ã¿ã«åŸºã¥ã„ã¦AIãŒç”Ÿæˆã—ãŸæœè£…ã®æŽ¨å¥¨ã‚’æä¾›ã—ã¾ã™ã€‚æœè£…ã®ç”»åƒã¯è¦–è¦šåŒ–ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€ç¬¬ä¸‰è€…ã®AIç”»åƒã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã¾ã™ã€‚",
        "terms.userConduct": "2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡Œç‚º",
        "terms.userConductText1": "ãŠå®¢æ§˜ã¯ã€é•æ³•ã¾ãŸã¯ç¦æ­¢ã•ã‚ŒãŸæ´»å‹•ã®ãŸã‚ã«æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ãªã„ã“ã¨ã«åŒæ„ã—ã¾ã™ã€‚",
        "terms.intellectualProperty": "3. çŸ¥çš„è²¡ç”£",
        "terms.intellectualPropertyText1": "æœ¬ã‚µãƒ¼ãƒ“ã‚¹ä¸Šã®ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€å•†æ¨™ã€ãŠã‚ˆã³çŸ¥çš„è²¡ç”£ã¯ã€[è²´ç¤¾å/AI Outfit for Today]ã¾ãŸã¯ãã®ãƒ©ã‚¤ã‚»ãƒ³ã‚µãƒ¼ãŒæ‰€æœ‰ã—ã¾ã™ã€‚äº‹å‰ã®æ›¸é¢ã«ã‚ˆã‚‹è¨±å¯ãªãã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®ã„ã‹ãªã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚‚ä½¿ç”¨ã—ã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚",
        "terms.disclaimer": "4. ä¿è¨¼ã®å¦èª",
        "terms.disclaimerText1": "æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€ã€Œç¾çŠ¶æœ‰å§¿ã€ãŠã‚ˆã³ã€Œåˆ©ç”¨å¯èƒ½ãªçŠ¶æ…‹ã€ã§æä¾›ã•ã‚Œã€æ˜Žç¤ºçš„ã¾ãŸã¯é»™ç¤ºçš„ã‚’å•ã‚ãšã€ã„ã‹ãªã‚‹ç¨®é¡žã®ä¿è¨¼ã‚‚è¡Œã„ã¾ã›ã‚“ã€‚",
        "terms.limitationOfLiability": "5. è²¬ä»»ã®åˆ¶é™",
        "terms.limitationOfLiabilityText1": "ã„ã‹ãªã‚‹å ´åˆã‚‚ã€[è²´ç¤¾å/AI Outfit for Today]ã¯ã€ãŠå®¢æ§˜ã®æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®ã”åˆ©ç”¨ã«èµ·å› ã¾ãŸã¯é–¢é€£ã™ã‚‹é–“æŽ¥çš„ã€å¶ç™ºçš„ã€ç‰¹åˆ¥ã€çµæžœçš„ã€ã¾ãŸã¯æ‡²ç½°çš„æå®³ã«ã¤ã„ã¦è²¬ä»»ã‚’è² ã‚ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚",
        "terms.changes": "6. è¦ç´„ã®å¤‰æ›´",
        "terms.changesText1": "å½“ç¤¾ã¯ã€æœ¬è¦ç´„ã‚’ã„ã¤ã§ã‚‚å¤‰æ›´ã¾ãŸã¯ç½®æ›ã™ã‚‹æ¨©åˆ©ã‚’ç•™ä¿ã—ã¾ã™ã€‚ã‹ã‹ã‚‹å¤‰æ›´å¾Œã‚‚æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç¶™ç¶šã—ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ãŠå®¢æ§˜ã¯æ–°ã—ã„è¦ç´„ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã•ã‚Œã¾ã™ã€‚",
        "terms.contact": "7. ãŠå•ã„åˆã‚ã›",
        "terms.contactText1": "æœ¬è¦ç´„ã«é–¢ã™ã‚‹ã”è³ªå•ã¯ã€kising26903854@gmail.comã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚",
        "howItWorks.title": "ä»•çµ„ã¿",
        "howItWorks.steps.location.title": "è‡ªå‹•ä½ç½®æƒ…å ±",
        "howItWorks.steps.location.description": "æ­£ç¢ºãªç¾åœ°ã®å¤©æ°—ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã€è‡ªå‹•çš„ã«ãŠå®¢æ§˜ã®ä½ç½®æƒ…å ±ã‚’æ¤œå‡ºã—ã¾ã™",
        "howItWorks.steps.weather.title": "å¤©æ°—åˆ†æž",
        "howItWorks.steps.weather.description": "æ°—æ¸©ã€æ¹¿åº¦ã€æ°—è±¡æ¡ä»¶ã‚’å«ã‚€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®å¤©æ°—æƒ…å ±ã‚’æä¾›ã—ã¾ã™",
        "howItWorks.steps.ai.title": "AIãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³",
        "howItWorks.steps.ai.description": "ã‚¹ãƒžãƒ¼ãƒˆãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒç¾åœ¨ã®å¤©æ°—ã«ã´ã£ãŸã‚Šã®ã‚³ãƒ¼ãƒ‡ã‚’ææ¡ˆã—ã¾ã™",
        "howItWorks.steps.visual.title": "è¦–è¦šç”Ÿæˆ",
        "howItWorks.steps.visual.description": "ãŠã™ã™ã‚ã®ã‚³ãƒ¼ãƒ‡ã®ç´ æ™´ã‚‰ã—ã„AIç”»åƒã‚’å³åº§ã«ç”Ÿæˆã—ã¾ã™",
        "trends.pageTitle": "æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ - ä»Šæ—¥ã®AIã‚³ãƒ¼ãƒ‡",
        "trends.headerTitle": "æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰",
        "trends.headerSubtitle": "AIã‚’æ´»ç”¨ã—ãŸæœ€æ–°ã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ç™ºè¦‹ã—ã¾ã—ã‚‡ã†ã€‚",
        "trends.sectionTitle": "æœ€æ–°ã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¬ãƒ³ãƒ‰",
        "trends.introText": "æœ€æ–°ã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¬ãƒ³ãƒ‰ã«é–¢ã™ã‚‹æ´žå¯Ÿã‚’å¾—ã¦ã€æµè¡Œã®æœ€å…ˆç«¯ã‚’è¡Œãã¾ã—ã‚‡ã†ã€‚å½“ç¤¾ã®AIã¯è†¨å¤§ãªãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã€æ—¬ã®äºˆæ¸¬ã¨ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚",
        "trends.trend1Title": "1. ã‚µã‚¹ãƒ†ãƒŠãƒ–ãƒ«ï¼†ã‚¨ã‚³å¿—å‘ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³",
        "trends.trend1Text": "ç’°å¢ƒã«å„ªã—ã„è¡£æ–™å“ã¸ã®éœ€è¦ã¯å¼•ãç¶šãé«˜ã¾ã£ã¦ã„ã¾ã™ã€‚å¤©ç„¶ç¹Šç¶­ã€ãƒªã‚µã‚¤ã‚¯ãƒ«ç´ æã€é€æ˜Žæ€§ã®ã‚ã‚‹ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ã«æ³¨ç›®ã—ã¾ã—ã‚‡ã†ã€‚",
        "trends.trend2Title": "2. å¿«é©æ€§é‡è¦–ã®ã‚¢ã‚¹ãƒ¬ã‚¸ãƒ£ãƒ¼",
        "trends.trend2Text": "å¿«é©æ€§ã¯ä¾ç„¶ã¨ã—ã¦é‡è¦ã§ã‚ã‚Šã€ã‚¢ã‚¹ãƒ¬ã‚¸ãƒ£ãƒ¼ã‚¦ã‚§ã‚¢ã¯æ§˜ã€…ãªã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãªå ´é¢ã«é©ã—ãŸæ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã¸ã¨é€²åŒ–ã—ã¦ã„ã¾ã™ã€‚",
        "trends.trend3Title": "3. å¤§èƒ†ãªè‰²ã¨ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãƒ”ãƒ¼ã‚¹",
        "trends.trend3Text": "æŽ§ãˆã‚ãªãƒˆãƒ¼ãƒ³ã®æ™‚ä»£ã‚’çµŒã¦ã€é®®ã‚„ã‹ãªè‰²ã‚„ãƒ¦ãƒ‹ãƒ¼ã‚¯ã§ç›®ã‚’å¼•ãã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãƒ”ãƒ¼ã‚¹ãŒå†ç‡ƒã—ã¦ã„ã¾ã™ã€‚",
        "trends.trend4Title": "4. ã‚¸ã‚§ãƒ³ãƒ€ãƒ¼ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã‚¢ãƒ‘ãƒ¬ãƒ«",
        "trends.trend4Text": "ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã¯ã¾ã™ã¾ã™åŒ…æ‹¬çš„ã«ãªã‚Šã€ã‚ˆã‚Šå¤šãã®ãƒ–ãƒ©ãƒ³ãƒ‰ãŒå¾“æ¥ã®è¦ç¯„ã«æŒ‘æˆ¦ã™ã‚‹ã‚¸ã‚§ãƒ³ãƒ€ãƒ¼ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚",
        "trends.trend5Title": "5. ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸ï¼†ãƒ¬ãƒˆãƒ­ãƒªãƒã‚¤ãƒãƒ«",
        "trends.trend5Text": "ãƒŽã‚¹ã‚¿ãƒ«ã‚¸ã‚¢ãŒå¤§ããªå½¹å‰²ã‚’æžœãŸã—ã¦ãŠã‚Šã€ç‰¹ã«70å¹´ä»£ã€90å¹´ä»£ã€2000å¹´ä»£åˆé ­ãªã©ã€éŽåŽ»æ•°åå¹´ã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¾—ã¦ã„ã¾ã™ã€‚",

        "tomorrow.title": "ðŸŒ… æ˜Žæ—¥ã®ã‚³ãƒ¼ãƒ‡ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        "tomorrow.subtitle": "AIæ­è¼‰ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³äºˆå ±ã§æ˜Žæ—¥ã®æº–å‚™ã‚’ã—ã¾ã—ã‚‡ã†",

        "tomorrow.loading.title": "æ˜Žæ—¥ã®å¤©æ°—ã‚’åˆ†æžä¸­...",
        "tomorrow.loading.text": "æ˜Žæ—¥ã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³äºˆå ±ã‚’æº–å‚™ã—ã¦ã„ã¾ã™",
        "tomorrow.loading.steps.weather": "æ˜Žæ—¥ã®å¤©æ°—ã‚’å–å¾—ä¸­",
        "tomorrow.loading.steps.outfit": "æ˜Žæ—¥ã®ã‚³ãƒ¼ãƒ‡ã‚’ç”Ÿæˆä¸­",
        "tomorrow.loading.steps.image": "ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆä¸­",
        "tomorrow.weather.title": "æ˜Žæ—¥ã®å¤©æ°—äºˆå ±",
        "tomorrow.weather.dateLoading": "ðŸ“… æ—¥ä»˜ã‚’èª­ã¿è¾¼ã¿ä¸­...",
        "tomorrow.outfit.title": "æ˜Žæ—¥ã®ãŸã‚ã®å®Œç’§ãªã‚³ãƒ¼ãƒ‡",
        "tomorrow.outfit.aiRecommended": "AIãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³äºˆå ±",
        "tomorrow.outfit.analyzing": "æ˜Žæ—¥ã®å¤©æ°—æ¡ä»¶ã‚’åˆ†æžã—ã¦å®Œç’§ãªã‚³ãƒ¼ãƒ‡ã‚’æŽ¨è–¦ã—ã¦ã„ã¾ã™...",
        "tomorrow.outfit.generateImage": "æ˜Žæ—¥ã®ã‚³ãƒ¼ãƒ‡ç”»åƒã‚’ç”Ÿæˆ",
        "tomorrow.outfit.generateNote": "AIãŒæ˜Žæ—¥ã®å¤©æ°—äºˆå ±ã«åŸºã¥ã„ã¦ã‚³ãƒ¼ãƒ‡ç”»åƒã‚’ä½œæˆã—ã¾ã™",


        "tomorrow.howItWorks.title": "æ˜Žæ—¥ã®äºˆå ±ã®ä»•çµ„ã¿",
        "tomorrow.howItWorks.steps.location.title": "è‡ªå‹•ä½ç½®æƒ…å ±",
        "tomorrow.howItWorks.steps.location.description": "æ­£ç¢ºãªæ˜Žæ—¥ã®å¤©æ°—äºˆå ±ã‚’å¾—ã‚‹ãŸã‚ã«ä½ç½®æƒ…å ±ã‚’æ¤œå‡ºã—ã¾ã™",
        "tomorrow.howItWorks.steps.weather.title": "æ˜Žæ—¥ã®å¤©æ°—",
        "tomorrow.howItWorks.steps.weather.description": "æ˜Žæ—¥ã®å¤©æ°—æ¡ä»¶ã¨æ°—æ¸©ã®é«˜åº¦ãªå¤©æ°—äºˆæ¸¬",
        "tomorrow.howItWorks.steps.ai.title": "AIãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³äºˆå ±",
        "tomorrow.howItWorks.steps.ai.description": "ã‚¹ãƒžãƒ¼ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒæ˜Žæ—¥ã®å¤©æ°—ã«å®Œç’§ãªã‚³ãƒ¼ãƒ‡ã‚’äºˆæ¸¬ã—ã¾ã™",
        "tomorrow.howItWorks.steps.visual.title": "ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        "tomorrow.howItWorks.steps.visual.description": "æ˜Žæ—¥ã®æŽ¨å¥¨ã‚³ãƒ¼ãƒ‡ã®ç´ æ™´ã‚‰ã—ã„AIç”»åƒã‚’ç”Ÿæˆã—ã¾ã™",
        "tomorrow.error.message": "ä½ç½®æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹ã‚’æœ‰åŠ¹ã«ã—ã¦ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã—ã€æ˜Žæ—¥ã®å¤©æ°—ãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ¼ãƒ‡æŽ¨å¥¨ã‚’å—ã‘å–ã£ã¦ãã ã•ã„ã€‚",
        "tomorrow.footer.brandName": "æ˜Žæ—¥ã®AIã‚³ãƒ¼ãƒ‡",
        "tomorrow.footer.brandSlogan": "ä¸–ç•Œä¸­ã®æ˜Žæ—¥ã®å¤©æ°—ã®ãŸã‚ã®ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³äºˆå ±",
        "tomorrow.footer.copy": "Â© 2024 æ˜Žæ—¥ã®AIã‚³ãƒ¼ãƒ‡. Open-Meteo APIã«ã‚ˆã‚‹ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³äºˆå ±."
    },
    zh: {
        "app.title": "ä»Šæ—¥AIç©¿æ­",
        "app.subtitle": "æ‚¨çš„AIé©±åŠ¨æ—¶å°šåŠ©æ‰‹ï¼Œåº”å¯¹ä»»ä½•å¤©æ°”",
        "header.likedOutfits": "å·²èµžç©¿æ­",
        "main.heading": "èŽ·å–æ‚¨çš„ç©¿æ­æŽ¨è",
        "main.subheading": "é€‰æ‹©æ‚¨çš„åå¥½ï¼Œæ ¹æ®å½“å‰å¤©æ°”èŽ·å–ä¸ªæ€§åŒ–ç©¿æ­ã€‚",
        "gender.title": "1. é€‰æ‹©æ€§åˆ«",
        "gender.female": "å¥³æ€§",
        "gender.male": "ç”·æ€§",
        "style.title": "2. é€‰æ‹©é£Žæ ¼",
        "style.casual": "ä¼‘é—²",
        "style.business": "å•†åŠ¡",
        "style.date": "çº¦ä¼š",
        "weather.title": "å½“å‰å¤©æ°”ä¸Žä½ç½®",
        "outfit.title": "æ‚¨çš„AIç”Ÿæˆç©¿æ­æŽ¨è",
        "outfit.summary": "æ€»ç»“",
        "outfit.clothing": "æœè£…",
        "outfit.footwear": "éž‹ç±»",
        "outfit.accessories": "é…é¥°",
        "outfit.promptTitle": "AIå›¾åƒæç¤º",
        "outfit.promptGenerating": "æ­£åœ¨ä¸ºAIå›¾åƒåˆ›å»ºç”Ÿæˆè¯¦ç»†çš„ç©¿æ­æè¿°...",
        "outfit.generateImage": "ç”ŸæˆAIç©¿æ­å›¾ç‰‡",
        "outfit.loadingImage": "æ­£åœ¨ç”Ÿæˆå›¾ç‰‡...",
        "outfit.imageDisclaimer": "AIç”Ÿæˆå›¾ç‰‡ä»…ä¾›å¯è§†åŒ–ã€‚ç©¿æ­ä¸ºæŽ¨èã€‚",
        "products.title": "æŽ¨èå•†å“",
        "products.noProducts": "æš‚æ— å•†å“æŽ¨è - æ˜¾ç¤ºæµ‹è¯•å•†å“ã€‚",
        "liked.title": "æ‚¨å–œæ¬¢çš„ç©¿æ­",
        "liked.noImages": "è¿˜æ²¡æœ‰å–œæ¬¢çš„å›¾ç‰‡ã€‚åœ¨ä¸»é¡µç”Ÿæˆå¹¶ç‚¹èµžä¸€äº›ç©¿æ­å§ï¼",
        "footer.copy": "Â© 2023 ä»Šæ—¥AIç©¿æ­. ä¿ç•™æ‰€æœ‰æƒåˆ©.",
        "privacy.link": "éšç§æ”¿ç­–",
        "terms.link": "æœåŠ¡æ¡æ¬¾",
        "privacy.title": "éšç§æ”¿ç­–",
        "privacy.introduction": "æœ¬éšç§æ”¿ç­–æè¿°äº† [æ‚¨çš„å…¬å¸åç§°/AI Outfit for Today]ï¼ˆæœ¬æ–‡ä¸­ç®€ç§°\"æˆ‘ä»¬\"ï¼‰å¦‚ä½•æ”¶é›†ã€ä½¿ç”¨å’ŒæŠ«éœ²æ‚¨åœ¨ä½¿ç”¨ AI Outfit for Today ç½‘ç«™å’ŒæœåŠ¡ï¼ˆ\"æœåŠ¡\"ï¼‰æ—¶æä¾›çš„ä¿¡æ¯ã€‚",
        "privacy.infoCollection": "æˆ‘ä»¬æ”¶é›†çš„ä¿¡æ¯",
        "privacy.infoCollectionText1": "å½“æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬ä¼šæ”¶é›†æ‚¨ç›´æŽ¥æä¾›ç»™æˆ‘ä»¬çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ‚¨å¯¹ç©¿æ­æŽ¨èçš„æ€§åˆ«å’Œé£Žæ ¼åå¥½ã€‚",
        "privacy.infoCollectionText2": "å½“æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè‡ªåŠ¨æ”¶é›†æœ‰å…³æ‚¨è®¾å¤‡çš„æŸäº›ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ‚¨çš„IPåœ°å€ã€æµè§ˆå™¨ç±»åž‹ã€æ“ä½œç³»ç»Ÿå’Œåœ°ç†ä½ç½®ï¼ˆæ ¹æ®æ‚¨çš„IPåœ°å€æˆ–æµè§ˆå™¨çš„åœ°ç†å®šä½æœåŠ¡ï¼Œå¦‚æžœå¯ç”¨ï¼‰ã€‚æ­¤ä¿¡æ¯ç”¨äºŽæä¾›æœ¬åœ°åŒ–å¤©æ°”æ•°æ®å’Œæ”¹è¿›æˆ‘ä»¬çš„æœåŠ¡ã€‚",
        "privacy.infoUsage": "æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨æ‚¨çš„ä¿¡æ¯",
        "privacy.infoUsageText1": "æä¾›å’Œç»´æŠ¤æˆ‘ä»¬çš„æœåŠ¡ï¼ŒåŒ…æ‹¬ç©¿æ­æŽ¨èå’Œå¤©æ°”æ•°æ®ã€‚",
        "privacy.infoUsageText2": "æ”¹è¿›ã€ä¸ªæ€§åŒ–å’Œæ‰©å±•æˆ‘ä»¬çš„æœåŠ¡ã€‚",
        "privacy.infoSharing": "æˆ‘ä»¬å¦‚ä½•å…±äº«æ‚¨çš„ä¿¡æ¯",
        "privacy.infoSharingText1": "æˆ‘ä»¬ä¸ä¼šå‡ºå”®ã€å‡ºç§Ÿæˆ–ä»¥å…¶ä»–æ–¹å¼å°†æ‚¨çš„ä¸ªäººä¿¡æ¯å…±äº«ç»™ç¬¬ä¸‰æ–¹ç”¨äºŽå…¶ç›´æŽ¥è¥é”€ç›®çš„ã€‚",
        "privacy.infoSharingText2": "æˆ‘ä»¬å¯èƒ½ä¼šä¸Žç¬¬ä¸‰æ–¹å…±äº«éžä¸ªäººèº«ä»½ä¿¡æ¯ï¼ˆä¾‹å¦‚æ±‡æ€»ä½¿ç”¨æ•°æ®ï¼‰ï¼Œç”¨äºŽåˆ†æžã€ç ”ç©¶æˆ–ç±»ä¼¼ç›®çš„ã€‚",
        "privacy.dataStorage": "æ•°æ®å­˜å‚¨å’Œå®‰å…¨",
        "privacy.dataStorageText1": "æˆ‘ä»¬ä½¿ç”¨å®¢æˆ·ç«¯å­˜å‚¨ï¼ˆä¾‹å¦‚ LocalStorageã€IndexedDBï¼‰æ¥å­˜å‚¨æ‚¨çš„è¯­è¨€åå¥½å’Œå–œæ¬¢çš„ç©¿æ­ã€‚æ­¤æ•°æ®å­˜å‚¨åœ¨æ‚¨çš„è®¾å¤‡ä¸Šï¼Œä¸ä¼šä¼ è¾“åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚",
        "privacy.changes": "æœ¬éšç§æ”¿ç­–çš„å˜æ›´",
        "privacy.changesText1": "æˆ‘ä»¬å¯èƒ½ä¼šä¸æ—¶æ›´æ–°æˆ‘ä»¬çš„éšç§æ”¿ç­–ã€‚æˆ‘ä»¬å°†é€šè¿‡åœ¨æ­¤é¡µé¢ä¸Šå‘å¸ƒæ–°çš„éšç§æ”¿ç­–æ¥é€šçŸ¥æ‚¨ä»»ä½•æ›´æ”¹ã€‚",
        "privacy.contact": "è”ç³»æˆ‘ä»¬",
        "privacy.contactText1": "å¦‚æžœæ‚¨å¯¹æœ¬éšç§æ”¿ç­–æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·é€šè¿‡ kising26903854@gmail.com è”ç³»æˆ‘ä»¬ã€‚",
        "terms.title": "æœåŠ¡æ¡æ¬¾",
        "terms.introduction": "æ¬¢è¿Žæ¥åˆ° AI Outfit for Todayã€‚æœ¬æœåŠ¡æ¡æ¬¾ï¼ˆ\"æ¡æ¬¾\"ï¼‰çº¦æŸæ‚¨å¯¹ AI Outfit for Today ç½‘ç«™å’ŒæœåŠ¡ï¼ˆ\"æœåŠ¡\"ï¼‰çš„ä½¿ç”¨ã€‚é€šè¿‡è®¿é—®æˆ–ä½¿ç”¨æœ¬æœåŠ¡ï¼Œå³è¡¨ç¤ºæ‚¨åŒæ„å—æœ¬æ¡æ¬¾çš„çº¦æŸã€‚",
        "terms.useOfService": "1. æœåŠ¡ä½¿ç”¨",
        "terms.useOfServiceText1": "æœ¬æœåŠ¡æä¾›åŸºäºŽå¤©æ°”æ•°æ®å’Œç”¨æˆ·åå¥½çš„AIç”Ÿæˆç©¿æ­æŽ¨èã€‚ç©¿æ­å›¾ç‰‡ä»…ä¾›å¯è§†åŒ–ç›®çš„ï¼Œç”±ç¬¬ä¸‰æ–¹AIå›¾ç‰‡æœåŠ¡ç”Ÿæˆã€‚",
        "terms.userConduct": "2. ç”¨æˆ·è¡Œä¸º",
        "terms.userConductText1": "æ‚¨åŒæ„ä¸å°†æœ¬æœåŠ¡ç”¨äºŽä»»ä½•éžæ³•æˆ–è¢«ç¦æ­¢çš„æ´»åŠ¨ã€‚",
        "terms.intellectualProperty": "3. çŸ¥è¯†äº§æƒ",
        "terms.intellectualPropertyText1": "æœ¬æœåŠ¡ä¸Šçš„æ‰€æœ‰å†…å®¹ã€å•†æ ‡å’ŒçŸ¥è¯†äº§æƒå‡å½’å±žäºŽ [æ‚¨çš„å…¬å¸åç§°/AI Outfit for Today] æˆ–å…¶è®¸å¯æ–¹ã€‚æœªç»äº‹å…ˆä¹¦é¢è®¸å¯ï¼Œæ‚¨ä¸å¾—ä½¿ç”¨æœ¬æœåŠ¡ä¸­çš„ä»»ä½•å†…å®¹ã€‚",
        "terms.disclaimer": "4. å…è´£å£°æ˜Ž",
        "terms.disclaimerText1": "æœ¬æœåŠ¡æŒ‰\"åŽŸæ ·\"å’Œ\"çŽ°æœ‰\"åŸºç¡€æä¾›ï¼Œä¸æä¾›ä»»ä½•æ˜Žç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚",
        "terms.limitationOfLiability": "5. è´£ä»»é™åˆ¶",
        "terms.limitationOfLiabilityText1": "åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œ[æ‚¨çš„å…¬å¸åç§°/AI Outfit for Today] å‡ä¸å¯¹å› æ‚¨ä½¿ç”¨æœ¬æœåŠ¡è€Œå¼•èµ·æˆ–ä¸Žä½¿ç”¨æœ¬æœåŠ¡ç›¸å…³çš„ä»»ä½•é—´æŽ¥ã€å¶ç„¶ã€ç‰¹æ®Šã€åŽæžœæ€§æˆ–æƒ©ç½šæ€§æŸå®³æ‰¿æ‹…è´£ä»»ã€‚",
        "terms.changes": "6. æ¡æ¬¾å˜æ›´",
        "terms.changesText1": "æˆ‘ä»¬ä¿ç•™éšæ—¶ä¿®æ”¹æˆ–æ›¿æ¢è¿™äº›æ¡æ¬¾çš„æƒåˆ©ã€‚æ‚¨åœ¨ä»»ä½•æ­¤ç±»æ›´æ”¹åŽç»§ç»­ä½¿ç”¨æœ¬æœåŠ¡å³è¡¨ç¤ºæ‚¨æŽ¥å—æ–°çš„æ¡æ¬¾ã€‚",
        "terms.contact": "7. è”ç³»ä¿¡æ¯",
        "terms.contactText1": "å¦‚æžœæ‚¨å¯¹æœ¬æ¡æ¬¾æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·é€šè¿‡ kising26903854@gmail.com è”ç³»æˆ‘ä»¬ã€‚",
        "howItWorks.title": "å·¥ä½œåŽŸç†",
        "howItWorks.steps.location.title": "è‡ªåŠ¨å®šä½",
        "howItWorks.steps.location.description": "æˆ‘ä»¬è‡ªåŠ¨æ£€æµ‹æ‚¨çš„ä½ç½®ä»¥èŽ·å–å‡†ç¡®çš„æœ¬åœ°å¤©æ°”æ•°æ®",
        "howItWorks.steps.weather.title": "å¤©æ°”åˆ†æž",
        "howItWorks.steps.weather.description": "æä¾›åŒ…æ‹¬æ¸©åº¦ã€æ¹¿åº¦å’Œå¤©æ°”æ¡ä»¶åœ¨å†…çš„å®žæ—¶å¤©æ°”ä¿¡æ¯",
        "howItWorks.steps.ai.title": "AIæŽ¨è",
        "howItWorks.steps.ai.description": "æ™ºèƒ½ç®—æ³•æ ¹æ®å½“å‰å¤©æ°”æŽ¨èå®Œç¾Žçš„ç©¿æ­",
        "howItWorks.steps.visual.title": "è§†è§‰ç”Ÿæˆ",
        "howItWorks.steps.visual.description": "å³æ—¶ç”Ÿæˆæ‚¨æŽ¨èç©¿æ­çš„ç²¾ç¾ŽAIå›¾ç‰‡",
        "trends.pageTitle": "æœ€æ–°è¶‹åŠ¿ - ä»Šæ—¥AIç©¿æ­",
        "trends.headerTitle": "æœ€æ–°è¶‹åŠ¿",
        "trends.headerSubtitle": "æŽ¢ç´¢ç”±AIé©±åŠ¨çš„æœ€æ–°æ—¶å°šè¶‹åŠ¿ã€‚",
        "trends.sectionTitle": "æ–°å…´æ—¶å°šè¶‹åŠ¿",
        "trends.introText": "é€šè¿‡å¯¹æœ€æ–°æ—¶å°šè¶‹åŠ¿çš„æ´žå¯Ÿï¼Œä¿æŒé¢†å…ˆã€‚æˆ‘ä»¬çš„AIåˆ†æžæµ·é‡æ—¶å°šæ•°æ®ï¼Œä¸ºæ‚¨å¸¦æ¥çƒ­é—¨é¢„æµ‹å’Œäº®ç‚¹ã€‚",
        "trends.trend1Title": "1. å¯æŒç»­å’ŒçŽ¯ä¿æ—¶å°š",
        "trends.trend1Text": "å¯¹çŽ¯ä¿æœè£…çš„éœ€æ±‚æŒç»­å¢žé•¿ã€‚å…³æ³¨å¤©ç„¶çº¤ç»´ã€å›žæ”¶ææ–™å’Œé€æ˜Žçš„ä¾›åº”é“¾ã€‚",
        "trends.trend2Title": "2. èˆ’é€‚è‡³ä¸Šçš„è¿åŠ¨ä¼‘é—²",
        "trends.trend2Text": "èˆ’é€‚æ€§ä¾ç„¶æ˜¯å…³é”®ï¼Œè¿åŠ¨ä¼‘é—²æœé¥°æ­£åœ¨æ¼”å˜ä¸ºé€‚åˆå„ç§ä¼‘é—²åœºåˆçš„æ›´ç²¾è‡´è®¾è®¡ã€‚",
        "trends.trend3Title": "3. å¤§èƒ†è‰²å½©ä¸Žä¸ªæ€§å•å“",
        "trends.trend3Text": "åœ¨ç»åŽ†äº†ä¸€æ®µæŸ”å’Œè‰²è°ƒçš„æ—¶æœŸåŽï¼Œé²œè‰³çš„è‰²å½©å’Œç‹¬ç‰¹ã€å¼•äººæ³¨ç›®çš„ä¸ªæ€§å•å“æ­£åœ¨å·åœŸé‡æ¥ã€‚",
        "trends.trend4Title": "4. æ— æ€§åˆ«æœè£…",
        "trends.trend4Text": "æ—¶å°šæ­£å˜å¾—è¶Šæ¥è¶ŠåŒ…å®¹ï¼Œè¶Šæ¥è¶Šå¤šçš„å“ç‰Œæä¾›æŒ‘æˆ˜ä¼ ç»Ÿè§„èŒƒçš„æ— æ€§åˆ«ç³»åˆ—ã€‚",
        "trends.trend5Title": "5. å¤å¤æ½®æµå›žå½’",
        "trends.trend5Text": "æ€€æ—§æƒ…ç»“æ‰®æ¼”ç€é‡è¦è§’è‰²ï¼Œæ—¶å°šä»Žè¿‡åŽ»çš„å‡ åå¹´ä¸­æ±²å–çµæ„Ÿï¼Œå°¤å…¶æ˜¯70å¹´ä»£ã€90å¹´ä»£å’Œ2000å¹´ä»£åˆæœŸã€‚",

        "tomorrow.title": "ðŸŒ… æ˜Žæ—¥ç©¿æ­é¢„è§ˆ",
        "tomorrow.subtitle": "ç”¨AIé©±åŠ¨çš„æ—¶å°šé¢„æŠ¥ä¸ºæ˜Žå¤©åšå‡†å¤‡",

        "tomorrow.loading.title": "æ­£åœ¨åˆ†æžæ˜Žå¤©çš„å¤©æ°”...",
        "tomorrow.loading.text": "æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡æ˜Žå¤©çš„æ—¶å°šé¢„æŠ¥",
        "tomorrow.loading.steps.weather": "æ­£åœ¨èŽ·å–æ˜Žå¤©çš„å¤©æ°”",
        "tomorrow.loading.steps.outfit": "æ­£åœ¨ç”Ÿæˆæ˜Žå¤©çš„ç©¿æ­",
        "tomorrow.loading.steps.image": "æ­£åœ¨åˆ›å»ºæ—¶å°šé¢„è§ˆ",
        "tomorrow.weather.title": "æ˜Žå¤©çš„å¤©æ°”é¢„æŠ¥",
        "tomorrow.weather.dateLoading": "ðŸ“… æ­£åœ¨åŠ è½½æ—¥æœŸ...",
        "tomorrow.outfit.title": "æ˜Žå¤©çš„å®Œç¾Žç©¿æ­",
        "tomorrow.outfit.aiRecommended": "AIæ—¶å°šé¢„æŠ¥",
        "tomorrow.outfit.analyzing": "æ­£åœ¨åˆ†æžæ˜Žå¤©çš„å¤©æ°”æ¡ä»¶ä»¥æŽ¨èå®Œç¾Žçš„ç©¿æ­...",
        "tomorrow.outfit.generateImage": "ç”Ÿæˆæ˜Žå¤©çš„ç©¿æ­å›¾ç‰‡",
        "tomorrow.outfit.generateNote": "AIå°†æ ¹æ®æ˜Žå¤©çš„å¤©æ°”é¢„æŠ¥åˆ›å»ºç©¿æ­å›¾ç‰‡",


        "tomorrow.howItWorks.title": "æ˜Žå¤©é¢„æŠ¥çš„å·¥ä½œåŽŸç†",
        "tomorrow.howItWorks.steps.location.title": "è‡ªåŠ¨å®šä½",
        "tomorrow.howItWorks.steps.location.description": "æˆ‘ä»¬æ£€æµ‹æ‚¨çš„ä½ç½®ä»¥èŽ·å¾—å‡†ç¡®çš„æ˜Žå¤©å¤©æ°”é¢„æŠ¥",
        "tomorrow.howItWorks.steps.weather.title": "æ˜Žå¤©çš„å¤©æ°”",
        "tomorrow.howItWorks.steps.weather.description": "æ˜Žå¤©å¤©æ°”æ¡ä»¶å’Œæ¸©åº¦çš„é«˜çº§å¤©æ°”é¢„æµ‹",
        "tomorrow.howItWorks.steps.ai.title": "AIæ—¶å°šé¢„æŠ¥",
        "tomorrow.howItWorks.steps.ai.description": "æ™ºèƒ½ç®—æ³•é¢„æµ‹æ˜Žå¤©å¤©æ°”çš„å®Œç¾Žç©¿æ­",
        "tomorrow.howItWorks.steps.visual.title": "è§†è§‰é¢„è§ˆ",
        "tomorrow.howItWorks.steps.visual.description": "ç”Ÿæˆæ˜Žå¤©æŽ¨èç©¿æ­çš„ç²¾ç¾ŽAIå›¾ç‰‡",
        "tomorrow.error.message": "è¯·å¯ç”¨ä½ç½®è®¿é—®å¹¶åˆ·æ–°é¡µé¢ä»¥èŽ·å–åŸºäºŽæ˜Žå¤©å¤©æ°”çš„ç©¿æ­æŽ¨èã€‚",
        "tomorrow.footer.brandName": "æ˜Žæ—¥AIç©¿æ­",
        "tomorrow.footer.brandSlogan": "å…¨çƒæ˜Žå¤©å¤©æ°”çš„æ—¶å°šé¢„æŠ¥",
        "tomorrow.footer.copy": "Â© 2024 æ˜Žæ—¥AIç©¿æ­. ç”±Open-Meteo APIæä¾›çš„æ—¶å°šé¢„æŠ¥."
    }
};

// Function to apply translations
function applyTranslations(lang) {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.dataset.i18n;
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        } else if (translations.en[key]) {
            // Fallback to English if translation not found for selected language
            element.textContent = translations.en[key];
        }
    });
}

// Global state
let appState = {
    currentWeather: null,
    currentLocation: null,
    outfitPrompt: '',
    selectedGender: 'female', // Default to female
    selectedStyle: 'casual', // Default to casual
    recommendedProducts: [],
    isLoading: false,
    steps: {
        location: false,
        weather: false,
        outfit: false,
        image: false
    }
};

// IndexedDB setup
const DB_NAME = 'AIOutfitDB';
const DB_VERSION = 1;
const STORE_NAME = 'likedOutfits';
let db;

async function openIndexedDB() {
    if (db && db.readyState === 'open') {
        console.log('IndexedDB: Connection already open, reusing.');
        return db;
    }

    return new Promise((resolve, reject) => {
        const request = indexedDB.open(DB_NAME, DB_VERSION);

        request.onupgradeneeded = (event) => {
            db = event.target.result;
            if (!db.objectStoreNames.contains(STORE_NAME)) {
                const objectStore = db.createObjectStore(STORE_NAME, { keyPath: 'id' });
                objectStore.createIndex('timestamp', 'timestamp', { unique: false });
                console.log('IndexedDB: Object store created');
            }
        };

        request.onsuccess = (event) => {
            db = event.target.result;
            console.log('IndexedDB: Database opened successfully');
            resolve(db);
        };

        request.onerror = (event) => {
            console.error('IndexedDB: Database error:', event.target.errorCode);
            reject(event.target.error);
        };
    });
}

async function saveLikedOutfit(outfitData) {
    await openIndexedDB(); // Ensure DB is open before transaction

    if (!db) {
        console.error('IndexedDB not initialized after opening attempt.');
        return;
    }

    const transaction = db.transaction([STORE_NAME], 'readwrite');
    const store = transaction.objectStore(STORE_NAME);

    // Generate a unique ID for the outfit
    outfitData.id = `outfit-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;
    outfitData.timestamp = Date.now();

    const request = store.add(outfitData);

    return new Promise((resolve, reject) => {
        request.onsuccess = () => {
            console.log('IndexedDB: Outfit saved successfully:', outfitData.id);
            resolve(outfitData);
        };
        request.onerror = (event) => {
            console.error('IndexedDB: Error saving outfit:', event.target.error);
            reject(event.target.error);
        };
    });
}

async function getLikedOutfits() {
    await openIndexedDB(); // Ensure DB is open before transaction

    if (!db) {
        console.error('IndexedDB not initialized after opening attempt.');
        return [];
    }

    const transaction = db.transaction([STORE_NAME], 'readonly');
    const store = transaction.objectStore(STORE_NAME);
    const request = store.getAll();

    return new Promise((resolve, reject) => {
        request.onsuccess = () => {
            console.log('IndexedDB: Liked outfits retrieved:', request.result);
            resolve(request.result);
        };
        request.onerror = (event) => {
            console.error('IndexedDB: Error getting liked outfits:', event.target.error);
            reject(event.target.error);
        };
    });
}

async function deleteLikedOutfit(id) {
    await openIndexedDB(); // Ensure DB is open before transaction

    if (!db) {
        console.error('IndexedDB not initialized after opening attempt.');
        return;
    }

    const transaction = db.transaction([STORE_NAME], 'readwrite');
    const store = transaction.objectStore(STORE_NAME);
    const request = store.delete(id);

    return new Promise((resolve, reject) => {
        request.onsuccess = () => {
            console.log('IndexedDB: Outfit deleted successfully:', id);
            resolve();
        };
        request.onerror = (event) => {
            console.error('IndexedDB: Error deleting outfit:', event.target.error);
            reject(event.target.error);
        };
    });
}

// Amazon Affiliate Product Database
const AMAZON_PRODUCTS = {
    // Women's Clothing
    female: {
        winter_coat: {
            name: "Women's Winter Puffer Coat",
            price: "",
            image: "https://m.media-amazon.com/images/I/61FUZ-xv35L._AC_SX569_.jpg",
            affiliate: "https://amzn.to/4on02Bw",
            category: "outerwear"
        },
        spring_jacket: {
            name: "Lightweight Spring Jacket",
            price: "",
            image: "https://m.media-amazon.com/images/I/61mTe1kuWdL._AC_SX466_.jpg",
            affiliate: "https://amzn.to/4fqmqG3",
            category: "outerwear"
        },
        summer_blouse: {
            name: "Flowy Summer Blouse",
            price: "",
            image: "https://m.media-amazon.com/images/I/71gYKEETzAL._AC_SX679_.jpg",
            affiliate: "https://amzn.to/4mnuR77",
            category: "tops"
        },
        jeans: {
            name: "High-Waisted Skinny Jeans",
            price: "",
            image: "https://m.media-amazon.com/images/I/51u9zd4tMuL._AC_SX466_.jpg",
            affiliate: "https://amzn.to/41pWwME",
            category: "bottoms"
        },
        ankle_boots: {
            name: "Stylish Ankle Boots",
            price: "",
            image: "https://m.media-amazon.com/images/I/71jz1gFIw8L._AC_SY500_.jpg",
            affiliate: "https://amzn.to/4fq524c",
            category: "shoes"
        },
        sandals: {
            name: "Comfortable Summer Sandals",
            price: "",
            image: "https://m.media-amazon.com/images/I/71+mXAInehL._AC_SX500_.jpg",
            affiliate: "https://amzn.to/3UcL5nG",
            category: "shoes"
        },
        umbrella: {
            name: "Compact Travel Umbrella",
            price: "",
            image: "https://m.media-amazon.com/images/I/71zIdlkvCYL._AC_SY606_.jpg",
            affiliate: "https://amzn.to/3H7qXR5",
            category: "accessories"
        },
        sunglasses: {
            name: "Trendy Sunglasses",
            price: "",
            image: "https://m.media-amazon.com/images/I/61OWQuAXOmL._AC_SX569_.jpg",
            affiliate: "https://amzn.to/4ldLkd8",
            category: "accessories"
        }
    },
    // Men's Clothing
    male: {
        winter_jacket: {
            name: "Men's Winter Parka",
            price: "",
            image: "https://m.media-amazon.com/images/I/71bUNRWp1EL._AC_SX522_.jpg",
            affiliate: "https://amzn.to/3J0uuRC",
            category: "outerwear"
        },
        casual_jacket: {
            name: "Casual Spring Jacket",
            price: "",
            image: "https://m.media-amazon.com/images/I/61-Zj9GaFnL._AC_SX679_.jpg",
            affiliate: "https://amzn.to/41mdpI8",
            category: "outerwear"
        },
        polo_shirt: {
            name: "Classic Polo Shirt",
            price: "",
            image: "https://m.media-amazon.com/images/I/81LUX6h9NVL._AC_SX569_.jpg",
            affiliate: "https://amzn.to/4fkqbN4",
            category: "tops"
        },
        chinos: {
            name: "Slim Fit Chino Pants",
            price: "",
            image: "https://m.media-amazon.com/images/I/612D6TEIEoL._AC_SY741_.jpg",
            affiliate: "https://amzn.to/3ULfucY",
            category: "bottoms"
        },
        sneakers: {
            name: "Casual Sneakers",
            price: "",
            image: "https://m.media-amazon.com/images/I/711lA5rk08L._AC_SY625_.jpg",
            affiliate: "https://amzn.to/3J0sY23",
            category: "shoes"
        },
        boat_shoes: {
            name: "Classic Boat Shoes",
            price: "",
            image: "https://m.media-amazon.com/images/I/51RtzZIlnoL._AC_SY625_.jpg",
            affiliate: "https://amzn.to/3HfitHB",
            category: "shoes"
        },
        cap: {
            name: "Baseball Cap",
            price: "",
            image: "https://m.media-amazon.com/images/I/712CSDnz+mL._AC_SX679_.jpg",
            affiliate: "https://amzn.to/4ojKBKg",
            category: "accessories"
        },
        sunglasses: {
            name: "Classic Aviator Sunglasses",
            price: "",
            image: "https://m.media-amazon.com/images/I/61Rvz5ust9L._AC_SX569_.jpg",
            affiliate: "https://amzn.to/4fmwRdN",
            category: "accessories"
        }
    }
};

// Weather code mappings for global use
const WEATHER_CODES = {
    0: { icon: 'â˜€ï¸', condition: 'Clear sky', severity: 'mild' },
    1: { icon: 'ðŸŒ¤ï¸', condition: 'Mainly clear', severity: 'mild' },
    2: { icon: 'â›…', condition: 'Partly cloudy', severity: 'mild' },
    3: { icon: 'â˜ï¸', condition: 'Overcast', severity: 'moderate' },
    45: { icon: 'ðŸŒ«ï¸', condition: 'Fog', severity: 'moderate' },
    48: { icon: 'ðŸŒ«ï¸', condition: 'Depositing rime fog', severity: 'moderate' },
    51: { icon: 'ðŸŒ¦ï¸', condition: 'Light drizzle', severity: 'moderate' },
    53: { icon: 'ðŸŒ¦ï¸', condition: 'Moderate drizzle', severity: 'moderate' },
    55: { icon: 'ðŸŒ§ï¸', condition: 'Dense drizzle', severity: 'heavy' },
    56: { icon: 'ðŸŒ¨ï¸', condition: 'Light freezing drizzle', severity: 'heavy' },
    57: { icon: 'ðŸŒ¨ï¸', condition: 'Dense freezing drizzle', severity: 'heavy' },
    61: { icon: 'ðŸŒ§ï¸', condition: 'Slight rain', severity: 'moderate' },
    63: { icon: 'ðŸŒ§ï¸', condition: 'Moderate rain', severity: 'moderate' },
    65: { icon: 'ðŸŒ§ï¸', condition: 'Heavy rain', severity: 'heavy' },
    66: { icon: 'ðŸŒ¨ï¸', condition: 'Light freezing rain', severity: 'heavy' },
    67: { icon: 'ðŸŒ¨ï¸', condition: 'Heavy freezing rain', severity: 'heavy' },
    71: { icon: 'â„ï¸', condition: 'Slight snow fall', severity: 'heavy' },
    73: { icon: 'â„ï¸', condition: 'Moderate snow fall', severity: 'heavy' },
    75: { icon: 'â„ï¸', condition: 'Heavy snow fall', severity: 'severe' },
    77: { icon: 'ðŸŒ¨ï¸', condition: 'Snow grains', severity: 'heavy' },
    80: { icon: 'ðŸŒ¦ï¸', condition: 'Slight rain showers', severity: 'moderate' },
    81: { icon: 'ðŸŒ§ï¸', condition: 'Moderate rain showers', severity: 'moderate' },
    82: { icon: 'â›ˆï¸', condition: 'Violent rain showers', severity: 'severe' },
    85: { icon: 'ðŸŒ¨ï¸', condition: 'Slight snow showers', severity: 'heavy' },
    86: { icon: 'ðŸŒ¨ï¸', condition: 'Heavy snow showers', severity: 'severe' },
    95: { icon: 'â›ˆï¸', condition: 'Thunderstorm', severity: 'severe' },
    96: { icon: 'â›ˆï¸', condition: 'Thunderstorm with slight hail', severity: 'severe' },
    99: { icon: 'â›ˆï¸', condition: 'Thunderstorm with heavy hail', severity: 'severe' }
};

// Initialize app when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
});

// Main app initialization
async function initializeApp() {
    console.log('ðŸŒ AI Outfit for Today - Initializing global weather app...');
    
    // Language selection initialization moved here
    const userLang = navigator.language.split('-')[0];
    const savedLang = localStorage.getItem('selectedLanguage');
    const initialLang = savedLang || (translations[userLang] ? userLang : 'en');

    const languageSelect = document.getElementById('language-select');
    if (languageSelect) {
        languageSelect.value = initialLang;
        applyTranslations(initialLang);

        languageSelect.addEventListener('change', (event) => {
            const newLang = event.target.value;
            localStorage.setItem('selectedLanguage', newLang);
            applyTranslations(newLang);
        });
    } else {
        console.warn('âš ï¸ Language selector element not found on this page. Applying translations once.');
        // Apply translations once even without the selector for static pages
        applyTranslations(initialLang);
    }

    const loadingSectionCheck = document.getElementById('loading-state'); // Changed from loading-section
    const weatherSectionCheck = document.getElementById('weather-section');
    const outfitSectionCheck = document.getElementById('outfit-section');
    const errorSectionCheck = document.getElementById('error-section');
    const imageDisplayCheck = document.getElementById('image-display');
    const imageActionsCheck = document.querySelector('.image-actions'); // Use querySelector for class

    console.log('DEBUG initializeApp: loadingSectionCheck', loadingSectionCheck);
    console.log('DEBUG initializeApp: weatherSectionCheck', weatherSectionCheck);
    console.log('DEBUG initializeApp: outfitSectionCheck', outfitSectionCheck);
    console.log('DEBUG initializeApp: errorSectionCheck', errorSectionCheck);
    console.log('DEBUG initializeApp: imageDisplayCheck', imageDisplayCheck);
    console.log('DEBUG initializeApp: imageActionsCheck', imageActionsCheck);

    // Only proceed with weather/outfit logic if we are on index.html
    if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
        try {
            appState.isLoading = true;
            showLoadingState();

            // Initialize IndexedDB
            await openIndexedDB();
            
            // Step 1: Get user location
            updateLoadingStep('location', 'active');
            const position = await getCurrentPosition();
            const { latitude, longitude } = position.coords;
            appState.currentLocation = { latitude, longitude };
            updateLoadingStep('location', 'completed');
            
            // Step 2: Fetch weather data
            updateLoadingStep('weather', 'active');
            const weatherData = await fetchWeatherData(latitude, longitude);
            appState.currentWeather = weatherData;
            updateLoadingStep('weather', 'completed');
            
            // Step 3: Generate outfit recommendation
            updateLoadingStep('outfit', 'active');
            const outfitData = generateOutfitRecommendation(weatherData, appState.selectedGender, appState.selectedStyle);
            appState.outfitPrompt = outfitData.prompt;
            appState.recommendedProducts = outfitData.products;
            updateLoadingStep('outfit', 'completed');
            
            // Step 4: Prepare image generation
            updateLoadingStep('image', 'active');
            await new Promise(resolve => setTimeout(resolve, 500)); // Brief pause for UX
            updateLoadingStep('image', 'completed');
            
            // Get location name for display
            const locationName = await getLocationName(latitude, longitude);
            
            // Update UI with all data
            await updateWeatherUI(weatherData, locationName);
            updateOutfitUI(outfitData);
            
            // Show main content
            hideLoadingState();
            showMainContent();
            
            appState.isLoading = false;
            console.log('âœ… App initialized successfully');
            
        } catch (error) {
            console.error('âŒ App initialization failed:', error);
            handleAppError(error);
            appState.isLoading = false;
        }
    } else if (window.location.pathname === '/liked.html') {
        // For liked.html, only initialize IndexedDB and display liked outfits
        console.log('DEBUG: Initializing for liked.html');
        try {
            await openIndexedDB();
            await displayLikedOutfits();
            // Hide any loading states that might appear on liked.html if not explicitly handled
            hideLoadingState(); 
        } catch (error) {
            console.error('âŒ Liked page initialization failed:', error);
            // Display an error message on the liked page if something goes wrong
            const likedImagesGrid = document.getElementById('liked-images-grid');
            if (likedImagesGrid) {
                likedImagesGrid.innerHTML = '<p class="error-message">Failed to load liked images due to an error.</p>';
            }
        }
    }
}

async function initializeLikedOutfitsPage() {
    console.log('DEBUG: Initializing for liked.html');
    try {
        // Add a small delay to ensure DOM is fully ready, even with defer
        await new Promise(resolve => setTimeout(resolve, 50)); 

        await openIndexedDB();
        await displayLikedOutfits();
        // Hide any loading states that might appear on liked.html if not explicitly handled
        hideLoadingState(); 
    } catch (error) {
        console.error('âŒ Liked page initialization failed:', error);
        // Display an error message on the liked page if something goes wrong
        const likedImagesGrid = document.getElementById('liked-images-grid');
        if (likedImagesGrid) {
            likedImagesGrid.innerHTML = '<p class="error-message">Failed to load liked images due to an error.</p>';
        }
    }
}

// Get current position with enhanced error handling
function getCurrentPosition() {
    return new Promise((resolve, reject) => {
        if (!navigator.geolocation) {
            reject(new Error('Geolocation is not supported by this browser'));
            return;
        }
        
        const options = {
            enableHighAccuracy: true,
            timeout: 15000,
            maximumAge: CONFIG.locationCacheTime
        };
        
        navigator.geolocation.getCurrentPosition(
            position => {
                console.log('ðŸ“ Location detected:', position.coords.latitude, position.coords.longitude);
                resolve(position);
            },
            error => {
                console.error('âŒ Geolocation error:', error);
                let errorMessage = 'Unable to detect location. ';
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        errorMessage += 'Please enable location access and refresh the page.';
                        break;
                    case error.POSITION_UNAVAILABLE:
                        errorMessage += 'Location information is unavailable.';
                        break;
                    case error.TIMEOUT:
                        errorMessage += 'Location request timed out. Please try again.';
                        break;
                    default:
                        errorMessage += 'An unknown error occurred.';
                        break;
                }
                reject(new Error(errorMessage));
            },
            options
        );
    });
}

// Fetch comprehensive weather data from Open-Meteo API
async function fetchWeatherData(latitude, longitude) {
    const params = new URLSearchParams({
        latitude: latitude.toString(),
        longitude: longitude.toString(),
        current: [
            'temperature_2m',
            'relative_humidity_2m',
            'apparent_temperature',
            'weather_code',
            'wind_speed_10m',
            'wind_direction_10m'
        ].join(','),
        hourly: 'temperature_2m,weather_code',
        daily: 'temperature_2m_max,temperature_2m_min,weather_code',
        timezone: 'auto',
        forecast_days: 1
    });
    
    const url = `${CONFIG.weatherAPI}?${params}`;
    console.log('ðŸŒ¡ï¸ Fetching weather data from:', url);
    
    const response = await fetch(url);
    if (!response.ok) {
        throw new Error(`Weather API request failed: ${response.status} ${response.statusText}`);
    }
    
    const data = await response.json();
    console.log('âœ… Weather data received:', data);
    
    return {
        current: data.current,
        daily: data.daily,
        timezone: data.timezone,
        location: { latitude, longitude }
    };
}

// Get location name using reverse geocoding
async function getLocationName(latitude, longitude) {
    try {
        const currentLang = localStorage.getItem('selectedLanguage') || 'en';
        const params = new URLSearchParams({
            latitude: latitude.toString(),
            longitude: longitude.toString(),
            localityLanguage: currentLang // Request location name in current language
        });
        
        const url = `${CONFIG.geocodingAPI}?${params}`;
        console.log('ðŸ“ Fetching location name from BigDataCloud:', url);

        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`BigDataCloud Geocoding API request failed: ${response.status} ${response.statusText}`);
        }
        
        const data = await response.json();
        console.log('âœ… BigDataCloud Geocoding data received:', data);
        
        if (data.city) {
            return data.city; // Prefer city name
        } else if (data.principalSubdivision) {
            return data.principalSubdivision; // Fallback to subdivision (e.g., province/state)
        } else if (data.countryName) {
            return data.countryName; // Fallback to country name
        } else {
            return 'Your Location';
        }
    } catch (error) {
        console.warn('âš ï¸ Could not get accurate location name from BigDataCloud:', error);
        return 'Your Location';
    }
}

// Generate comprehensive outfit recommendation based on gender
function generateOutfitRecommendation(weatherData, gender = appState.selectedGender, style = appState.selectedStyle) {
    const current = weatherData.current;
    const temp = Math.round(current.temperature_2m);
    const feelsLike = Math.round(current.apparent_temperature);
    const humidity = current.relative_humidity_2m;
    const weatherCode = current.weather_code;
    const windSpeed = current.wind_speed_10m;
    
    const weather = WEATHER_CODES[weatherCode] || WEATHER_CODES[1];
    
    console.log('ðŸ‘” Generating outfit for:', { temp, feelsLike, humidity, weatherCode, weather: weather.condition, gender, style });
    
    // Determine base clothing based on temperature
    let clothing = [];
    let footwear = [];
    let accessories = [];
    let outfitStyleDescription = '';
    let colors = [];
    
    // Temperature-based clothing selection with gender and style preferences
    if (temp <= -10) {
        if (gender === 'female') {
            clothing = ['heavy winter coat', 'thermal leggings', 'wool sweater', 'warm scarf', 'winter hat', 'insulated gloves'];
            footwear = ['insulated winter boots', 'warm wool socks'];
            outfitStyleDescription = 'cozy arctic winter';
            colors = ['deep burgundy', 'charcoal gray', 'winter white'];
        } else {
            clothing = ['heavy winter parka', 'thermal underwear', 'wool pullover', 'insulated pants', 'warm scarf', 'beanie', 'winter gloves'];
            footwear = ['insulated winter boots', 'thick wool socks'];
            outfitStyleDescription = 'rugged arctic winter';
            colors = ['dark navy', 'charcoal black', 'forest green'];
        }
    } else if (temp <= 0) {
        if (gender === 'female') {
            clothing = ['stylish winter coat', 'warm sweater', 'skinny jeans or leggings', 'fashionable scarf', 'cute beanie'];
            footwear = ['fashionable winter boots', 'warm socks'];
            outfitStyleDescription = 'chic winter';
            colors = ['camel', 'burgundy', 'cream white'];
        } else {
            clothing = ['winter jacket', 'warm hoodie or sweater', 'jeans', 'warm scarf', 'knit beanie'];
            footwear = ['winter boots', 'thick socks'];
            outfitStyleDescription = 'casual winter';
            colors = ['navy blue', 'forest green', 'charcoal'];
        }
    } else if (temp <= 10) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['wool blazer', 'turtleneck sweater', 'tailored trousers', 'elegant scarf'];
                footwear = ['leather ankle boots'];
                outfitStyleDescription = 'business formal autumn';
                colors = ['charcoal', 'navy', 'dark green'];
            } else if (style === 'date') {
                clothing = ['stylish trench coat', 'midi dress', 'fashionable scarf'];
                footwear = ['heeled boots'];
                outfitStyleDescription = 'romantic autumn date';
                colors = ['wine red', 'deep purple', 'black'];
            } else { // Casual
                clothing = ['trench coat or stylish jacket', 'cozy sweater', 'jeans or cute pants', 'light scarf'];
                footwear = ['ankle boots or sneakers'];
                outfitStyleDescription = 'elegant autumn';
                colors = ['camel', 'rust orange', 'olive green'];
            }
        } else {
            if (style === 'business') {
                clothing = ['wool blend overcoat', 'dress shirt', 'dress pants', 'tie'];
                footwear = ['leather dress shoes'];
                outfitStyleDescription = 'business professional autumn';
                colors = ['dark grey', 'navy blue', 'black'];
            } else if (style === 'date') {
                clothing = ['smart casual blazer', 'collared shirt', 'dark jeans or chinos'];
                footwear = ['leather boots or loafers'];
                outfitStyleDescription = 'sophisticated date night';
                colors = ['deep blue', 'burgundy', 'camel'];
            } else { // Casual
                clothing = ['casual jacket or hoodie', 'long-sleeve shirt', 'chinos or jeans', 'light scarf'];
                footwear = ['casual boots or sneakers'];
                outfitStyleDescription = 'relaxed autumn';
                colors = ['earth tones', 'burgundy', 'navy'];
            }
        }
    } else if (temp <= 15) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['blazer', 'silk blouse', 'pencil skirt or tailored pants'];
                footwear = ['low heels or elegant flats'];
                outfitStyleDescription = 'business chic spring';
                colors = ['light grey', 'beige', 'pastel blue'];
            } else if (style === 'date') {
                clothing = ['lightweight knit top', 'A-line skirt or flowy pants', 'denim jacket'];
                footwear = ['stylish sandals or wedges'];
                outfitStyleDescription = 'casual date spring';
                colors = ['blush pink', 'mint green', 'cream'];
            } else { // Casual
                clothing = ['light cardigan or blazer', 'blouse or long-sleeve top', 'jeans or stylish pants'];
                footwear = ['flats or low heels', 'comfortable sneakers'];
                outfitStyleDescription = 'spring chic';
                colors = ['soft pink', 'light blue', 'sage green'];
            }
        } else {
            if (style === 'business') {
                clothing = ['sport coat', 'button-down shirt', 'dress chinos', 'leather belt'];
                footwear = ['derby shoes or loafers'];
                outfitStyleDescription = 'smart business spring';
                colors = ['khaki', 'light blue', 'white'];
            } else if (style === 'date') {
                clothing = ['light knit sweater', 'dark wash jeans', 'casual blazer'];
                footwear = ['suede loafers or neat sneakers'];
                outfitStyleDescription = 'relaxed date';
                colors = ['navy', 'grey', 'olive'];
            } else { // Casual
                clothing = ['light jacket or cardigan', 'button-down shirt', 'chinos or jeans'];
                footwear = ['loafers or sneakers'];
                outfitStyleDescription = 'smart casual spring';
                colors = ['light gray', 'navy', 'khaki'];
            }
        }
    } else if (temp <= 20) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['lightweight blazer', 'blouse', 'culottes or wide-leg pants'];
                footwear = ['block heels or elegant flats'];
                outfitStyleDescription = 'professional summer';
                colors = ['navy', 'white', 'pastel'];
            } else if (style === 'date') {
                clothing = ['floral midi dress', 'light cardigan'];
                footwear = ['strappy sandals or espadrilles'];
                outfitStyleDescription = 'sweet summer date';
                colors = ['peach', 'lavender', 'mint'];
            } else { // Casual
                clothing = ['light sweater or blouse', 'comfortable jeans or pants', 'light cardigan'];
                footwear = ['comfortable flats or sneakers'];
                outfitStyleDescription = 'casual spring';
                colors = ['coral', 'mint green', 'soft yellow'];
            }
        } else {
            if (style === 'business') {
                clothing = ['linen blend blazer', 'light dress shirt', 'lightweight trousers'];
                footwear = ['polished loafers'];
                outfitStyleDescription = 'summer business casual';
                colors = ['light blue', 'tan', 'white'];
            } else if (style === 'date') {
                clothing = ['short-sleeve button-down', 'chinos', 'casual jacket'];
                footwear = ['clean white sneakers or driving mocs'];
                outfitStyleDescription = 'evening casual date';
                colors = ['olive green', 'navy', 'beige'];
            } else { // Casual
                clothing = ['polo shirt or casual shirt', 'chinos or jeans'];
                footwear = ['casual shoes or sneakers'];
                outfitStyleDescription = 'relaxed spring';
                colors = ['light blue', 'khaki', 'white'];
            }
        }
    } else if (temp <= 25) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['tailored jumpsuit or dress', 'light scarf'];
                footwear = ['comfortable pumps'];
                outfitStyleDescription = 'chic office summer';
                colors = ['cream', 'navy', 'dusty rose'];
            } else if (style === 'date') {
                clothing = ['maxi dress', 'denim jacket'];
                footwear = ['flat sandals'];
                outfitStyleDescription = 'relaxed summer date';
                colors = ['bright florals', 'aqua', 'lemon'];
            } else { // Casual
                clothing = ['cute t-shirt or blouse', 'jeans or stylish pants', 'light cardigan'];
                footwear = ['sandals or comfortable sneakers'];
                outfitStyleDescription = 'fresh casual';
                colors = ['bright coral', 'turquoise', 'sunny yellow'];
            }
        } else {
            if (style === 'business') {
                clothing = ['short-sleeve linen shirt', 'light dress pants'];
                footwear = ['breathable loafers'];
                outfitStyleDescription = 'summer corporate';
                colors = ['white', 'light grey', 'pale blue'];
            } else if (style === 'date') {
                clothing = ['stylish polo', 'linen shorts'];
                footwear = ['espadrille sneakers'];
                outfitStyleDescription = 'beach date casual';
                colors = ['pastel shades', 'coral', 'sand'];
            } else { // Casual
                clothing = ['casual t-shirt or polo', 'shorts or light pants'];
                footwear = ['sneakers or casual shoes'];
                outfitStyleDescription = 'comfortable casual';
                colors = ['navy', 'khaki', 'white'];
            }
        }
    } else if (temp <= 30) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['lightweight tailored dress', 'minimalist jewelry'];
                footwear = ['open-toe block heels'];
                outfitStyleDescription = 'elegant summer office';
                colors = ['crisp white', 'powder blue', 'cream'];
            } else if (style === 'date') {
                clothing = ['flowy sundress', 'strappy sandals'];
                footwear = ['wedge sandals'];
                outfitStyleDescription = 'romantic summer evening';
                colors = ['vibrant floral', 'ocean blue', 'sunset orange'];
            } else { // Casual
                clothing = ['tank top or summer blouse', 'shorts or summer dress', 'light cardigan'];
                footwear = ['sandals or summer sneakers'];
                outfitStyleDescription = 'breezy summer';
                colors = ['bright summer colors', 'coral pink', 'turquoise'];
            }
        } else {
            if (style === 'business') {
                clothing = ['light linen shirt', 'tailored shorts', 'loafers'];
                footwear = ['no-show socks'];
                outfitStyleDescription = 'smart summer business';
                colors = ['light pastels', 'beige', 'blue'];
            } else if (style === 'date') {
                clothing = ['short sleeve button-up', 'chino shorts', 'casual loafers'];
                footwear = ['leather sandals'];
                outfitStyleDescription = 'resort casual date';
                colors = ['tropical prints', 'teal', 'white'];
            } else { // Casual
                clothing = ['breathable t-shirt', 'shorts', 'light shirt'];
                footwear = ['sneakers or boat shoes'];
                outfitStyleDescription = 'summer casual';
                colors = ['light blue', 'white', 'khaki'];
            }
        }
    } else { // temp > 30
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['lightweight cotton dress', 'open-knit cardigan'];
                footwear = ['comfortable and stylish flat sandals'];
                outfitStyleDescription = 'heatwave office chic';
                colors = ['white', 'beige', 'light blue'];
            } else if (style === 'date') {
                clothing = ['flowy crop top', 'high-waisted linen shorts', 'statement earrings'];
                footwear = ['minimalist sandals'];
                outfitStyleDescription = 'hot weather casual date';
                colors = ['bold patterns', 'neon accents', 'silver'];
            } else { // Casual
                clothing = ['breathable tank top or summer top', 'shorts or light summer dress', 'sun hat'];
                footwear = ['comfortable sandals'];
                outfitStyleDescription = 'hot summer chic';
                colors = ['white', 'light pastels', 'bright coral'];
            }
        } else {
            if (style === 'business') {
                clothing = ['breathable polo shirt', 'lightweight chino shorts'];
                footwear = ['canvas espadrilles'];
                outfitStyleDescription = 'tropical business casual';
                colors = ['khaki', 'navy', 'white'];
            } else if (style === 'date') {
                clothing = ['graphic tee', 'swim shorts', 'flip-flops'];
                footwear = ['water sandals'];
                outfitStyleDescription = 'poolside date casual';
                colors = ['bright and bold', 'black', 'grey'];
            } else { // Casual
                clothing = ['lightweight t-shirt', 'shorts', 'sun hat or cap'];
                footwear = ['breathable sneakers or sandals'];
                outfitStyleDescription = 'hot summer casual';
                colors = ['white', 'light gray', 'navy'];
            }
        }
    }
    
    // Weather condition adjustments
    if (weather.severity === 'heavy' || weather.severity === 'severe') {
        if (weatherCode >= 61 && weatherCode <= 67) { // Rain
            accessories.push('umbrella', 'waterproof jacket');
            footwear = ['waterproof shoes or boots'];
        } else if (weatherCode >= 71 && weatherCode <= 77) { // Snow
            accessories.push('warm hat', 'insulated gloves');
            footwear = ['insulated waterproof boots'];
        } else if (weatherCode >= 95) { // Thunderstorm
            accessories.push('waterproof jacket', 'sturdy umbrella');
        }
    } else if (weather.severity === 'moderate') {
        if (weatherCode >= 51 && weatherCode <= 55) { // Drizzle
            accessories.push('light rain jacket');
        }
    }
    
    // Wind adjustments
    if (windSpeed > 20) {
        accessories.push('windproof outer layer');
    }
    
    // Humidity adjustments
    if (humidity > 80) {
        clothing = clothing.map(item => item.includes('breathable') ? item : `breathable ${item}`);
        outfitStyleDescription = `lightweight ${outfitStyleDescription}`;
    }
    
    // Sunny weather accessories
    if (weatherCode <= 1) {
        accessories.push('sunglasses');
        if (temp > 20) accessories.push('sun hat');
    }
    
    // Generate detailed AI prompt focused on person wearing outfit
    const personDescriptions = {
        female: ['young woman', 'stylish woman', 'fashionable lady', 'elegant female model'],
        male: ['young man', 'stylish man', 'fashionable gentleman', 'handsome male model']
    };
    const selectedPerson = personDescriptions[gender][Math.floor(Math.random() * personDescriptions[gender].length)];
    const selectedColor = colors[Math.floor(Math.random() * colors.length)] || 'stylish colors';
    
    const promptParts = [
        `A ${selectedPerson} modeling and wearing`,
        clothing.length > 0 ? clothing.slice(0, 4).join(', ') : '', // Check if clothing array is not empty
        footwear.length > 0 ? footwear.join(' and ') : '',         // Check if footwear array is not empty
        accessories.length > 0 ? `with ${accessories.slice(0, 3).join(', ')}` : '',
        `in ${selectedColor}`,
        `${outfitStyleDescription} fashion outfit`,
        `for a ${style} occasion`,
        `posing for a fashion photoshoot`,
        `outdoors in ${weather.condition.toLowerCase()} weather`,
        `${temp}Â°C temperature`,
        'professional fashion photography',
        'portrait style',
        'person clearly visible',
        'human model',
        'fashion model pose',
        'full body shot showing complete outfit',
        'realistic human proportions',
        'detailed clothing textures'
    ].filter(Boolean);
    
    const aiPrompt = promptParts.join(', ');
    
    // Generate human-readable summary
    const summary = `Perfect for ${temp}Â°C ${weather.condition.toLowerCase()} weather and a ${style} occasion. ${
        temp <= 10 ? 'Layer up to stay warm and cozy.' :
        temp <= 20 ? 'Light layers for comfortable temperature control.' :
        temp <= 30 ? 'Breathable fabrics to stay cool and comfortable.' :
        'Light, airy clothing to beat the heat.'
    }`;
    
    // Generate Amazon product recommendations
    const recommendedProducts = generateProductRecommendations(temp, weatherCode, gender, style);
    
    return {
        prompt: aiPrompt,
        summary: summary,
        clothing: clothing.slice(0, 3).join(', '),
        footwear: footwear[0] || 'comfortable shoes',
        accessories: accessories.length > 0 ? accessories.slice(0, 2).join(', ') : 'none needed',
        style: outfitStyleDescription,
        temperature: temp,
        weatherCondition: weather.condition,
        products: recommendedProducts
    };
}

// Update weather UI with comprehensive information
async function updateWeatherUI(weatherData, locationName) {
    const current = weatherData.current;
    const weather = WEATHER_CODES[current.weather_code] || WEATHER_CODES[1];
    
    // Update weather display
    const weatherIconElement = document.getElementById('weather-icon');
    const temperatureElement = document.getElementById('temperature');
    const weatherConditionElement = document.getElementById('weather-condition');
    const feelsLikeElement = document.getElementById('feels-like');
    const humidityElement = document.getElementById('humidity');
    const locationNameElement = document.getElementById('location-name');
    const localTimeElement = document.getElementById('local-time');

    if (weatherIconElement) weatherIconElement.textContent = weather.icon;
    if (temperatureElement) temperatureElement.textContent = `${Math.round(current.temperature_2m)}Â°C`;
    if (weatherConditionElement) weatherConditionElement.textContent = weather.condition;
    if (feelsLikeElement) feelsLikeElement.textContent = `Feels like ${Math.round(current.apparent_temperature)}Â°C`;
    if (humidityElement) humidityElement.textContent = `Humidity ${current.relative_humidity_2m}%`;
    if (locationNameElement) locationNameElement.textContent = `ðŸ“ ${locationName}`;
    
    // Update local time
    try {
        const now = new Date();
        const timeString = now.toLocaleTimeString([], { 
            hour: '2-digit', 
            minute: '2-digit',
            timeZoneName: 'short'
        });
        if (localTimeElement) localTimeElement.textContent = `ðŸ• ${timeString}`;
    } catch (error) {
        if (localTimeElement) localTimeElement.textContent = ' Local time';
    }
}

// Generate Amazon product recommendations based on weather
function generateProductRecommendations(temp, weatherCode, gender, style) {
    console.log('ðŸ›ï¸ Generating products for:', { temp, weatherCode, gender, style });
    
    const products = [];
    const genderProducts = AMAZON_PRODUCTS[gender];
    
    if (!genderProducts) {
        console.error('âŒ No products found for gender:', gender);
        return [];
    }
    
    console.log('âœ… Available products for', gender, ':', Object.keys(genderProducts));
    
    // Temperature-based recommendations
    if (temp <= 0) {
        // Winter products
        if (gender === 'female') {
            if (genderProducts.winter_coat) products.push(genderProducts.winter_coat);
            if (genderProducts.ankle_boots) products.push(genderProducts.ankle_boots);
        } else {
            if (genderProducts.winter_jacket) products.push(genderProducts.winter_jacket);
            if (genderProducts.sneakers) products.push(genderProducts.sneakers);
        }
    } else if (temp <= 15) {
        // Spring/Fall products
        if (gender === 'female') {
            if (genderProducts.spring_jacket) products.push(genderProducts.spring_jacket);
            if (genderProducts.jeans) products.push(genderProducts.jeans);
            if (genderProducts.ankle_boots) products.push(genderProducts.ankle_boots);
        } else {
            if (genderProducts.casual_jacket) products.push(genderProducts.casual_jacket);
            if (genderProducts.chinos) products.push(genderProducts.chinos);
            if (genderProducts.sneakers) products.push(genderProducts.sneakers);
        }
    } else if (temp <= 25) {
        // Mild weather products
        if (gender === 'female') {
            if (genderProducts.summer_blouse) products.push(genderProducts.summer_blouse);
            if (genderProducts.jeans) products.push(genderProducts.jeans);
            if (genderProducts.sandals) products.push(genderProducts.sandals);
        } else {
            if (genderProducts.polo_shirt) products.push(genderProducts.polo_shirt);
            if (genderProducts.chinos) products.push(genderProducts.chinos);
            if (genderProducts.boat_shoes) products.push(genderProducts.boat_shoes);
        }
    } else {
        // Hot weather products
        if (gender === 'female') {
            if (genderProducts.summer_blouse) products.push(genderProducts.summer_blouse);
            if (genderProducts.sandals) products.push(genderProducts.sandals);
        } else {
            if (genderProducts.polo_shirt) products.push(genderProducts.polo_shirt);
            if (genderProducts.boat_shoes) products.push(genderProducts.boat_shoes);
        }
    }
    
    // Weather-specific accessories
    if ([51, 53, 55, 56, 57, 61, 63, 65, 66, 67, 80, 81, 82].includes(weatherCode)) {
        // Rainy weather
        const umbrella = genderProducts.umbrella || AMAZON_PRODUCTS.female.umbrella;
        if (umbrella) products.push(umbrella);
    }
    
    if ([0, 1].includes(weatherCode) && temp > 15) {
        // Sunny weather
        if (genderProducts.sunglasses) products.push(genderProducts.sunglasses);
        if (gender === 'male' && temp > 20 && genderProducts.cap) {
            products.push(genderProducts.cap);
        }
    }
    
    // Remove duplicates and limit to 4 products
    const uniqueProducts = products.filter((product, index, self) => 
        product && index === self.findIndex(p => p && p.name === product.name)
    ).slice(0, 4);
    
    console.log('ðŸŽ¯ Final recommended products:', uniqueProducts.length, uniqueProducts.map(p => p.name));
    
    return uniqueProducts;
}

// Note: updateOutfitUI function moved to bottom with gender support

// Generate AI outfit image directly in the app
async function generateOutfitImage() {
    if (!appState.outfitPrompt) {
        alert('Please wait for the outfit recommendation to load first.');
        return;
    }
    
    // Get the prompt text and the entire prompt preview section (they should remain hidden)
    const aiPromptElement = document.getElementById('ai-prompt');
    const promptPreviewElement = document.querySelector('.prompt-preview');

    // Ensure the prompt elements remain hidden, or are hidden again if somehow visible
    if (aiPromptElement) {
        aiPromptElement.classList.add('hidden');
    }
    if (promptPreviewElement) {
        promptPreviewElement.classList.add('hidden');
    }

    console.log('ðŸŽ¨ Generating AI image with prompt:', appState.outfitPrompt);
    
    // Show loading state
    const generateBtn = document.getElementById('generate-image-btn');
    const originalContent = generateBtn.innerHTML;
    generateBtn.innerHTML = '<span class="btn-icon">â³</span><span class="btn-text">Generating Image...</span>';
    generateBtn.disabled = true;
    
    try {
        // Wait for DOM to be ready and get the existing image container
        await new Promise(resolve => {
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', resolve);
            } else {
                resolve();
            }
        });
        
        let imageContainer = document.getElementById('generated-image-container');
        if (!imageContainer) {
            console.warn('âš ï¸ Image container not found, creating it...');
            console.log('ðŸ“‹ Available elements with IDs:', Array.from(document.querySelectorAll('[id]')).map(el => el.id));
            
            // Create the container if it doesn't exist
            imageContainer = document.createElement('div');
            imageContainer.id = 'generated-image-container';
            imageContainer.className = 'generated-image-container';
            imageContainer.style.display = 'none';
            
            // Find a good place to insert it (after the generate button)
            const generateBtn = document.getElementById('generate-image-btn');
            if (generateBtn && generateBtn.parentNode) {
                generateBtn.parentNode.insertBefore(imageContainer, generateBtn.nextSibling);
            } else {
                // Fallback: append to outfit section
                const outfitSection = document.getElementById('outfit-section');
                if (outfitSection) {
                    outfitSection.appendChild(imageContainer);
                }
            }
        }
        
        console.log('âœ… Found image container:', imageContainer);
        
        // Show the container with high visibility
        imageContainer.style.display = 'block';
        imageContainer.style.visibility = 'visible';
        imageContainer.style.opacity = '1';
        imageContainer.style.position = 'relative';
        imageContainer.style.zIndex = '1000';
        
        console.log('ðŸŽ¯ Container made visible with styles:', {
            display: imageContainer.style.display,
            visibility: imageContainer.style.visibility,
            opacity: imageContainer.style.opacity
        });
        
        // Show loading placeholders immediately
        console.log('ðŸŽ¬ Showing loading placeholders...');
        const loadingPlaceholders = Array(2).fill(0).map((_, index) => `
            <div class="generated-image-item" style="animation-delay: ${index * 0.2}s;">
                <div class="image-wrapper loading">
                    <div class="image-loading-overlay">
                        <div class="loading-spinner-small"></div>
                        <div class="loading-text-small">ðŸŽ¨ Creating...</div>
                        <div class="loading-progress-small">
                            <div class="loading-progress-fill-small"></div>
                        </div>
                    </div>
                </div>
                <p class="image-description">Generating AI outfit image...</p>
                <p class="image-usage">Please wait</p>
            </div>
        `).join('');
        
        // Just show the loading placeholders without the big popup
        imageContainer.innerHTML = `
            <div class="generated-images-header">
                <h4>ðŸŽ¨ Creating Your AI-Generated Outfit</h4>
                <p>Perfect for today's weather conditions</p>
            </div>
            <div class="generated-images-grid">
                ${loadingPlaceholders}
            </div>
        `;
        
        console.log('ðŸ“¦ Container HTML set, checking visibility...');
        console.log('ðŸ“ Container dimensions:', imageContainer.getBoundingClientRect());
        console.log('ðŸ‘€ Container styles:', window.getComputedStyle(imageContainer));
        
        // Force scroll to container
        imageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        // Verify the loading element was created
        const loadingElement = imageContainer.querySelector('.image-loading');
        if (loadingElement) {
            console.log('âœ… Loading element created successfully');
            console.log('ðŸ“ Loading element dimensions:', loadingElement.getBoundingClientRect());
            console.log('ðŸŽ¯ Container parent:', imageContainer.parentElement);
            console.log('ðŸ‘€ Container visible:', imageContainer.offsetHeight > 0 && imageContainer.offsetWidth > 0);
        } else {
            console.error('âŒ Loading element not found!');
        }
        
        // Force scroll to the loading animation
        imageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        // Generate multiple AI images using different free services
        // Add progressive loading messages for better UX
        const loadingMessages = [
            { text: 'ðŸŽ¨ Analyzing your outfit style...', subtext: 'Processing weather and preferences' },
            { text: 'ðŸ§  Generating AI prompt...', subtext: 'Creating detailed description' },
            { text: 'âœ¨ Creating your images...', subtext: 'AI is painting your perfect look' },
            { text: 'ðŸ–¼ï¸ Finalizing results...', subtext: 'Almost ready!' }
        ];
        
        // Update loading messages progressively
        const updateLoadingMessage = (index) => {
            if (index < loadingMessages.length) {
                const message = loadingMessages[index];
                const loadingDiv = imageContainer.querySelector('.image-loading');
                if (loadingDiv) {
                    loadingDiv.querySelector('.loading-text').textContent = message.text;
                    loadingDiv.querySelector('.loading-subtext').textContent = message.subtext;
                }
            }
        };
        
        // Start image generation and progressive messages
        const imagePromise = generateMultipleImages(appState.outfitPrompt, appState.selectedGender);
        
        // Update messages every 500ms
        for (let i = 0; i < loadingMessages.length; i++) {
            setTimeout(() => updateLoadingMessage(i), i * 500);
        }
        
        // Wait for both image generation and minimum loading time
        const [imageResults] = await Promise.all([
            imagePromise,
            new Promise(resolve => setTimeout(resolve, 2000)) // Minimum 2 second loading
        ]);
        
        if (imageResults.length > 0) {
            displayGeneratedImages(imageResults, imageContainer, appState.outfitPrompt);
        } else {
            // Show error message instead of external service
            imageContainer.innerHTML = `
                <div class="image-error" style="
                    background: #fee2e2;
                    border: 2px solid #fca5a5;
                    border-radius: 12px;
                    padding: 30px;
                    text-align: center;
                    margin: 20px 0;
                ">
                    <div style="font-size: 48px; margin-bottom: 16px;">âš ï¸</div>
                    <h4 style="color: #dc2626; margin-bottom: 12px;">Image Generation Failed</h4>
                    <p style="color: #7f1d1d; margin-bottom: 20px;">Unable to generate images at this time. Please try again.</p>
                    <button onclick="generateOutfitImage()" style="
                        background: #dc2626;
                        color: white;
                        border: none;
                        padding: 12px 24px;
                        border-radius: 8px;
                        font-weight: 600;
                        cursor: pointer;
                    ">
                        ðŸ”„ Try Again
                    </button>
                </div>
            `;
            // Ensure the prompt preview and prompt text remain hidden on error
            if (aiPromptElement) aiPromptElement.classList.add('hidden');
            if (promptPreviewElement) promptPreviewElement.classList.add('hidden');
        }
        
    } catch (error) {
        console.error('âŒ Image generation failed:', error);
        showImageGenerationError(imageContainer);
        // Ensure the prompt preview and prompt text remain hidden on error
        if (aiPromptElement) aiPromptElement.classList.add('hidden');
        if (promptPreviewElement) promptPreviewElement.classList.add('hidden');
    } finally {
        // Restore button
        generateBtn.innerHTML = originalContent;
        generateBtn.disabled = false;
    }
}

// Generate images using multiple free AI services focused on people
async function generateMultipleImages(prompt, gender) {
    const imageResults = [];
    
    try {
        // Add multiple layers of randomization for unique images
        const timestamp = Date.now();
        const randomSeed = Math.floor(Math.random() * 1000000);
        const sessionId = Math.random().toString(36).substring(7);
        
        // Gender-specific subject description
        const genderSubject = gender === 'female' ? 'a beautiful female model' : 'a handsome male model';

        // Multiple style variations for more diversity
        const styleVariations = [
            'professional fashion model',
            'stylish person',
            'elegant individual',
            'fashionable model',
            'trendy fashion influencer',
            'sophisticated dresser',
            'chic fashion enthusiast',
            'modern style icon',
            'runway model',
            'magazine cover model',
            'street style icon',
            'high fashion editorial',
            'minimalist aesthetic',
            'avant-garde fashion',
            'bohemian style icon',
            'vintage fashion enthusiast',
            'contemporary artist',
            'urban fashion blogger',
            'lifestyle influencer',
            'creative professional'
        ];
        
        const backgroundVariations = [
            'urban street background',
            'modern studio setting',
            'outdoor natural lighting',
            'minimalist backdrop',
            'city environment',
            'contemporary setting',
            'dramatic cityscape',
            'serene nature backdrop',
            'futuristic architecture',
            'vintage industrial space',
            'luxury interior',
            'artistic loft space',
            'rooftop terrace',
            'cozy cafe setting',
            'modern office lobby',
            'park with autumn leaves',
            'beach boardwalk',
            'mountain landscape',
            'urban art district',
            'boutique hotel lobby'
        ];
        
        const poseVariations = [
            'confident pose',
            'casual stance',
            'elegant posture',
            'dynamic pose',
            'relaxed position',
            'fashion pose',
            'walking pose',
            'sitting pose',
            'candid shot',
            'profile view',
            'full body view',
            'leaning against wall',
            'hands in pockets',
            'looking over shoulder',
            'mid-stride walking',
            'thoughtful expression',
            'laughing naturally',
            'wind-blown hair',
            'crossed arms confidently',
            'adjusting accessories'
        ];
        
        // Additional diversity elements
        const lightingVariations = [
            'golden hour lighting',
            'soft natural light',
            'dramatic shadows',
            'bright daylight',
            'warm studio lighting',
            'cool blue tones',
            'sunset glow',
            'overcast soft light',
            'morning sunlight',
            'evening ambiance'
        ];
        
        const cameraAngles = [
            'eye level shot',
            'slightly low angle',
            'high fashion angle',
            'three-quarter view',
            'front facing',
            'side profile',
            'dynamic angle',
            'editorial perspective',
            'candid angle',
            'artistic composition'
        ];
        
        // Select random elements for maximum diversity
        const selectedStyle = styleVariations[Math.floor(Math.random() * styleVariations.length)];
        const selectedBackground = backgroundVariations[Math.floor(Math.random() * backgroundVariations.length)];
        const selectedPose = poseVariations[Math.floor(Math.random() * poseVariations.length)];
        const selectedLighting = lightingVariations[Math.floor(Math.random() * lightingVariations.length)];
        const selectedAngle = cameraAngles[Math.floor(Math.random() * cameraAngles.length)];
        
        // Generate unique seed for each image to ensure variety
        const uniqueSeed1 = Math.floor(Math.random() * 999999) + timestamp;
        const uniqueSeed2 = Math.floor(Math.random() * 999999) + timestamp + 1000;
        
        const enhancedPrompt = `${genderSubject}, ${selectedStyle} ${prompt}, ${selectedPose}, ${selectedBackground}, ${selectedLighting}, ${selectedAngle}, no objects only, no clothing items only, must show person wearing clothes, human figure required, fashion model, person visible, realistic photography, high quality, detailed`;
        
        // Method 1: Use Pollinations AI with Flux model
        const pollinationsUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(enhancedPrompt)}?width=512&height=768&model=flux&enhance=true&nologo=true&seed=${uniqueSeed1}&timestamp=${timestamp}&session=${sessionId}`;
        imageResults.push({
            url: pollinationsUrl,
            service: 'Pollinations AI (Flux)',
            description: 'AI-generated person wearing recommended outfit',
            license: 'AI-generated content, no traditional copyright',
            usage: 'Free for personal and commercial use'
        });
        
        // Method 2: Alternative with completely different approach
        const altStyle = styleVariations[Math.floor(Math.random() * styleVariations.length)];
        const altBackground = backgroundVariations[Math.floor(Math.random() * backgroundVariations.length)];
        const altPose = poseVariations[Math.floor(Math.random() * poseVariations.length)];
        const altLighting = lightingVariations[Math.floor(Math.random() * lightingVariations.length)];
        const altAngle = cameraAngles[Math.floor(Math.random() * cameraAngles.length)];
        
        const altPrompt = `${genderSubject}, ${altStyle} wearing ${prompt}, ${altPose}, ${altBackground}, ${altLighting}, ${altAngle}, photorealistic, high fashion, professional photography, detailed clothing, person clearly visible, full body shot`;
        const pollinationsUrl2 = `https://image.pollinations.ai/prompt/${encodeURIComponent(altPrompt)}?width=512&height=768&model=turbo&enhance=true&seed=${uniqueSeed2}&timestamp=${timestamp + 1000}&session=${sessionId}_alt`;
        imageResults.push({
            url: pollinationsUrl2,
            service: 'Pollinations AI (Turbo)',
            description: 'Alternative fashion model in weather-appropriate outfit',
            license: 'AI-generated content, no traditional copyright',
            usage: 'Free for personal and commercial use'
        });
        
        console.log('ðŸŽ¨ Generated image URLs with randomization:', imageResults.map(r => r.url));
        
    } catch (error) {
        console.error('Error generating images:', error);
    }
    
    return imageResults;
}

// Display generated images in the UI
function displayGeneratedImages(imageResults, container, outfitPrompt) {
    const imagesHTML = imageResults.map((result, index) => `
        <div class="generated-image-item" style="animation-delay: ${index * 0.2}s">
            <div class="image-wrapper loading">
                <!-- Loading Animation -->
                <div class="image-loading-overlay">
                    <div class="loading-spinner-small"></div>
                    <div class="loading-text-small">ðŸŽ¨ Loading...</div>
                    <div class="loading-progress-small">
                        <div class="loading-progress-fill-small"></div>
                    </div>
                </div>
                
                <img src="${result.url}" alt="${result.description}" 
                     onload="this.parentElement.classList.remove('loading'); this.parentElement.classList.add('loaded')"
                     onerror="this.parentElement.classList.remove('loading'); this.parentElement.classList.add('error')">
                <div class="image-overlay">
                    <div class="image-service">${result.service}</div>
                    <div class="image-license">${result.license || 'AI-generated'}</div>
                </div>
            </div>
            <p class="image-description">${result.description}</p>
            <p class="image-usage">${result.usage || 'Free to use'}</p>
            <button class="like-button" data-image-url="${result.url}" data-prompt="${outfitPrompt}">â¤ï¸ Like</button>
        </div>
    `).join('');
    
    container.innerHTML = `
        <div class="generated-images-header">
            <h4>ðŸŽ¨ Your AI-Generated Outfit</h4>
            <p>Perfect for today's weather conditions</p>
        </div>
        <div class="generated-images-grid">
            ${imagesHTML}
        </div>
        <div class="image-actions">
            <button onclick="generateOutfitImage()" class="regenerate-btn">
                <span class="btn-icon">ðŸ”„</span>
                <span class="btn-text">Generate New Images</span>
            </button>
        </div>
    `;

    // Attach event listeners to like buttons
    container.querySelectorAll('.like-button').forEach(button => {
        button.addEventListener('click', async (event) => {
            const imageUrl = event.target.dataset.imageUrl;
            const prompt = event.target.dataset.prompt;
            const likedOutfit = {
                imageUrl: imageUrl,
                prompt: prompt,
                gender: appState.selectedGender,
                timestamp: Date.now()
            };
            try {
                await saveLikedOutfit(likedOutfit);
                event.target.textContent = 'â¤ï¸ Liked!';
                event.target.disabled = true;
                // displayLikedOutfits(); // Refresh liked outfits display - removed as liked images are on a separate page
            } catch (error) {
                console.error('Error liking image:', error);
                alert('Failed to save liked image. Please try again.');
            }
        });
    });
    // Hide the AI image prompt element after images are displayed.
    const aiPromptElement = document.getElementById('ai-prompt');
    if (aiPromptElement) {
        aiPromptElement.classList.add('hidden');
    }
}

// Function to display generated images
async function displayGeneratedImage(imageUrl, prompt) {
    const aiGeneratedImage = document.getElementById('ai-generated-image');
    const imagePromptDisplay = document.getElementById('image-prompt-display');
    const imageDisplay = document.getElementById('image-display');
    const imageActions = document.querySelector('.image-actions'); // Use querySelector for class

    console.log('DEBUG displayGeneratedImage: aiGeneratedImage', aiGeneratedImage);
    console.log('DEBUG displayGeneratedImage: imagePromptDisplay', imagePromptDisplay);
    console.log('DEBUG displayGeneratedImage: imageDisplay', imageDisplay);
    console.log('DEBUG displayGeneratedImage: imageActions', imageActions);

    if (aiGeneratedImage) {
        aiGeneratedImage.src = imageUrl;
        aiGeneratedImage.classList.remove('hidden');
    }
    if (imagePromptDisplay) {
        imagePromptDisplay.textContent = prompt;
        imagePromptDisplay.classList.remove('hidden');
    }
    if (imageDisplay) {
        imageDisplay.classList.remove('hidden');
    }
    if (imageActions) {
        imageActions.classList.remove('hidden'); // Ensure buttons are visible
    }
}

// Function to display liked images
async function displayLikedOutfits() {
    const likedImagesGrid = document.getElementById('liked-images-grid');
    const noLikedImagesMessage = document.getElementById('no-liked-images');
    const likedImagesSection = document.getElementById('liked-images-section');

    console.log('DEBUG displayLikedOutfits: Checking elements...');
    console.log('DEBUG displayLikedOutfits: document.readyState', document.readyState);
    console.log('DEBUG displayLikedOutfits: likedImagesGrid', likedImagesGrid);
    console.log('DEBUG displayLikedOutfits: noLikedImagesMessage', noLikedImagesMessage);
    console.log('DEBUG displayLikedOutfits: likedImagesSection', likedImagesSection);
    console.log('DEBUG displayLikedOutfits: body innerHTML snippet', document.body.innerHTML.substring(document.body.innerHTML.indexOf('<section id="liked-images-section"'), document.body.innerHTML.indexOf('</section>') + 10));

    if (!likedImagesGrid || !noLikedImagesMessage || !likedImagesSection) {
        console.error('Required elements for liked images display not found.');
        return;
    }

    try {
        const likedOutfits = await getLikedOutfits();

        if (likedOutfits.length === 0) {
            likedImagesGrid.innerHTML = ''; // Clear grid
            noLikedImagesMessage.style.display = 'block'; // Show message
            likedImagesSection.classList.add('hidden'); // Hide section if no images
            return;
        }

        // Sort by most recent
        likedOutfits.sort((a, b) => b.timestamp - a.timestamp);

        const likedImagesHTML = likedOutfits.map(outfit => `
            <div class="liked-image-item" data-id="${outfit.id}">
                <img src="${outfit.imageUrl}" alt="${outfit.prompt}" class="liked-image">
                <div class="liked-image-overlay">
                    <button class="unlike-button" data-id="${outfit.id}">ðŸ—‘ï¸ Unlike</button>
                </div>
            </div>
        `).join('');

        likedImagesGrid.innerHTML = likedImagesHTML;
        noLikedImagesMessage.style.display = 'none'; // Hide message
        likedImagesSection.classList.remove('hidden'); // Show section

        // Attach event listeners to unlike buttons
        likedImagesGrid.querySelectorAll('.unlike-button').forEach(button => {
            button.addEventListener('click', async (event) => {
                const outfitId = event.target.dataset.id;
                const likedImageItem = event.target.closest('.liked-image-item'); // Get the parent item
                try {
                    await deleteLikedOutfit(outfitId);
                    if (likedImageItem) {
                        likedImageItem.remove(); // Immediately remove from DOM
                        console.log('DEBUG: Successfully removed liked image item from DOM.', outfitId);
                    }
                    // After removing, re-check if there are any liked outfits left to update the empty message
                    const remainingOutfits = await getLikedOutfits();
                    if (remainingOutfits.length === 0) {
                        if (noLikedImagesMessage) {
                            noLikedImagesMessage.style.display = 'block';
                        }
                        if (likedImagesGrid) {
                            likedImagesGrid.innerHTML = ''; // Ensure grid is empty
                        }
                        if (likedImagesSection) {
                            likedImagesSection.classList.add('hidden');
                        }
                    }

                } catch (error) {
                    console.error('Error unliking image:', error);
                    alert('Failed to remove liked image. Please try again.');
                }
            });
        });

    } catch (error) {
        console.error('Error displaying liked outfits:', error);
        // Safely try to update if elements exist for error message
        if (likedImagesGrid) {
            likedImagesGrid.innerHTML = '<p class="error-message">Failed to load liked images.</p>';
        }
        if (noLikedImagesMessage) {
            noLikedImagesMessage.style.display = 'none';
        }
        if (likedImagesSection) {
            likedImagesSection.classList.remove('hidden');
        }
    }
}

// Show image generation error
function showImageGenerationError(container) {
    container.innerHTML = `
        <div class="image-error">
            <div class="error-icon">âš ï¸</div>
            <h4>Image Generation Temporarily Unavailable</h4>
            <p>Please try generating images again in a few moments</p>
            <button onclick="generateOutfitImage()" class="retry-btn">
                <span class="btn-icon">ðŸ”„</span>
                <span class="btn-text">Try Again</span>
            </button>
        </div>
    `;
}

// Copy prompt to clipboard
function copyPromptToClipboard() {
    navigator.clipboard.writeText(appState.outfitPrompt).then(() => {
        const copyHint = document.querySelector('.copy-hint');
        if (copyHint) {
            copyHint.textContent = 'Copied!';
            setTimeout(() => {
                copyHint.textContent = 'Click to copy';
            }, 2000);
        }
    });
}

// Loading state management
function showLoadingState() {
    const loadingSection = document.getElementById('loading-section');
    const weatherSection = document.getElementById('weather-section');
    const outfitSection = document.getElementById('outfit-section');
    const productRecommendationsSection = document.querySelector('.product-recommendations');
    const howItWorksSection = document.getElementById('how-it-works-section');
    const errorSection = document.getElementById('error-section');

    // Hide all main content sections and show only loading
    if (loadingSection) loadingSection.classList.remove('hidden');
    if (weatherSection) weatherSection.classList.add('hidden');
    if (outfitSection) outfitSection.classList.add('hidden');
    if (productRecommendationsSection) productRecommendationsSection.classList.add('hidden');
    if (howItWorksSection) howItWorksSection.classList.add('hidden');
    if (errorSection) errorSection.classList.add('hidden');
}

function hideLoadingState() {
    const loadingSection = document.getElementById('loading-section');
    const weatherSection = document.getElementById('weather-section');
    const outfitSection = document.getElementById('outfit-section');
    const productRecommendationsSection = document.querySelector('.product-recommendations');
    const howItWorksSection = document.getElementById('how-it-works-section');
    const errorSection = document.getElementById('error-section');

    // Hide all main content and loading sections
    if (loadingSection) loadingSection.classList.add('hidden');
    if (weatherSection) weatherSection.classList.add('hidden');
    if (outfitSection) outfitSection.classList.add('hidden');
    if (productRecommendationsSection) productRecommendationsSection.classList.add('hidden');
    if (howItWorksSection) howItWorksSection.classList.add('hidden');
    if (errorSection) errorSection.classList.add('hidden');
}

function showMainContent() {
    const weatherSection = document.getElementById('weather-section');
    const outfitSection = document.getElementById('outfit-section');
    const productRecommendationsSection = document.querySelector('.product-recommendations');
    const howItWorksSection = document.getElementById('how-it-works-section');
    const loadingSection = document.getElementById('loading-section');
    const errorSection = document.getElementById('error-section');

    // Show main content sections, hide loading and error
    if (loadingSection) loadingSection.classList.add('hidden');
    if (errorSection) errorSection.classList.add('hidden');
    if (weatherSection) weatherSection.classList.remove('hidden');
    if (outfitSection) outfitSection.classList.remove('hidden');
    if (productRecommendationsSection) productRecommendationsSection.classList.remove('hidden');
    if (howItWorksSection) howItWorksSection.classList.remove('hidden');
}

function updateLoadingStep(stepName, status) {
    const stepElement = document.getElementById(`step-${stepName}`);
    if (stepElement) {
        stepElement.className = `step ${status}`;
        appState.steps[stepName] = status === 'completed';
    }
}

// Error handling
function handleAppError(error) {
    console.error('âŒ Application error:', error);
    
    hideLoadingState(); // This hides all content except error
    const errorMessageElement = document.getElementById('error-message');
    const errorSectionElement = document.getElementById('error-section');

    if (errorMessageElement) {
        errorMessageElement.textContent = error.message || 'An unexpected error occurred. Please refresh the page and try again.';
    }
    if (errorSectionElement) {
        errorSectionElement.classList.remove('hidden');
    }
}

// Global error handler
window.addEventListener('error', function(event) {
    console.error('âŒ Global error:', event.error);
    if (!appState.isLoading) {
        handleAppError(new Error('A technical error occurred. Please refresh the page.'));
    }
});

// Unhandled promise rejection handler
window.addEventListener('unhandledrejection', function(event) {
    console.error('âŒ Unhandled promise rejection:', event.reason);
    if (!appState.isLoading) {
        handleAppError(new Error('A network error occurred. Please check your connection and try again.'));
    }
});

// Utility function to refresh the app
function refreshApp() {
    console.log('ðŸ”„ Refreshing app...');
    location.reload();
}

// Function to update selected preferences (gender and style)
function updatePreferences(type, value) {
    console.log(`Updating preference: ${type} to ${value}`);

    if (type === 'gender') {
        appState.selectedGender = value;
        // Update UI for gender buttons
        document.querySelectorAll('.gender-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-gender="${value}"]`).classList.add('active');
    } else if (type === 'style') {
        appState.selectedStyle = value;
        // Update UI for style buttons
        document.querySelectorAll('.style-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-style="${value}"]`).classList.add('active');
    }

    // Regenerate outfit recommendation if weather data is available
    if (appState.currentWeather) {
        try {
            const outfitData = generateOutfitRecommendation(appState.currentWeather, appState.selectedGender, appState.selectedStyle);
            appState.outfitPrompt = outfitData.prompt;
            appState.recommendedProducts = outfitData.products;
            updateOutfitUI(outfitData);

            // Clear any existing generated images
            const imageContainer = document.getElementById('generated-image-container');
            if (imageContainer) {
                imageContainer.innerHTML = ''; // Clear content
                imageContainer.style.display = 'none'; // Hide container
            }
        } catch (error) {
            console.error('Error generating outfit after preference change:', error);
            handleAppError(new Error('Failed to update outfit recommendation. Please try again.'));
        }
    }
}

// Add event listeners for gender buttons
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.gender-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            updatePreferences('gender', event.target.dataset.gender || event.target.closest('.gender-btn').dataset.gender);
        });
    });

    // Add event listener for style buttons
    document.querySelectorAll('.style-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            updatePreferences('style', event.target.dataset.style || event.target.closest('.style-btn').dataset.style);
        });
    });

    // Initial update of gender UI on load (if not already handled by initializeApp)
    const initialGenderBtn = document.querySelector(`[data-gender="${appState.selectedGender}"]`);
    if (initialGenderBtn) {
        initialGenderBtn.classList.add('active');
    }

    // Initial update of style UI on load
    const initialStyleBtn = document.querySelector(`[data-style="${appState.selectedStyle}"]`);
    if (initialStyleBtn) {
        initialStyleBtn.classList.add('active');
    }
});

// Update outfit UI to show gender-specific recommendations
function updateOutfitUI(outfitData) {
    console.log('DEBUG: updateOutfitUI called with outfitData:', outfitData);
    const outfitStyleDisplayElement = document.getElementById('outfit-style-display');
    console.log('DEBUG: outfit-style-display element:', outfitStyleDisplayElement);

    if (outfitStyleDisplayElement) {
        const genderText = appState.selectedGender === 'female' ? 'Women\'s' : 'Men\'s';
        const styleText = appState.selectedStyle.charAt(0).toUpperCase() + appState.selectedStyle.slice(1); // Capitalize first letter
        
        document.getElementById('outfit-summary').textContent = outfitData.summary;
        document.getElementById('clothing-items').textContent = outfitData.clothing;
        document.getElementById('footwear').textContent = outfitData.footwear;
        document.getElementById('accessories').textContent = outfitData.accessories;
        outfitStyleDisplayElement.textContent = outfitData.style; // Using the checked element
        
        // Hide AI image prompt related elements by default
        const aiPromptElement = document.getElementById('ai-prompt');
        const promptPreviewElement = document.querySelector('.prompt-preview');

        if (aiPromptElement) aiPromptElement.classList.add('hidden');
        if (promptPreviewElement) promptPreviewElement.classList.add('hidden');

        // Update product recommendations
        updateProductRecommendations(outfitData.products);
    } else {
        console.error('ERROR: outfit-style-display element not found in DOM!');
    }
}

function updateProductRecommendations(products) {
    const productsContainer = document.getElementById('recommended-products'); // Corrected ID
    if (!productsContainer) return;

    if (products.length === 0) {
        productsContainer.innerHTML = '<p data-i18n="products.noProducts">No product recommendations available - showing test product.</p>';
        return;
    }

    const productsHTML = products.map(product => `
        <div class="product-item">
            <a href="${product.affiliate}" target="_blank" rel="noopener noreferrer" class="product-image-link">
                <img src="${product.image}" alt="${product.name}" class="product-image">
            </a>
            <div class="product-info">
                <h5 class="product-name">${product.name}</h5>
                <p class="product-price">${product.price}</p>
                <a href="${product.affiliate}" target="_blank" rel="noopener noreferrer" class="buy-now-btn">Buy Now</a>
            </div>
        </div>
    `).join('');

    productsContainer.innerHTML = productsHTML;

    // Attach translation to the "No product recommendations" message if it appears
    const noProductsMsg = productsContainer.querySelector('[data-i18n="products.noProducts"]');
    if (noProductsMsg) {
        applyTranslations(localStorage.getItem('selectedLanguage') || (translations[navigator.language.split('-')[0]] ? navigator.language.split('-')[0] : 'en'));
    }
}

// Export for global access
window.generateOutfitImage = generateOutfitImage;
window.updatePreferences = updatePreferences; // Export new function
window.refreshApp = refreshApp;
window.displayGeneratedImages = displayGeneratedImages; // Export this as well for testing if needed
window.displayLikedOutfits = displayLikedOutfits; // Export for external use
window.saveLikedOutfit = saveLikedOutfit; // Export for external use (e.g., debugging)
window.getLikedOutfits = getLikedOutfits; // Export for external use (e.g., debugging)
window.deleteLikedOutfit = deleteLikedOutfit; // Export for external use (e.g., debugging)
window.initializeLikedOutfitsPage = initializeLikedOutfitsPage; // Export for liked.html

console.log('ðŸŒ AI Outfit for Today - Script loaded successfully'); 










