// Global configuration
const CONFIG = {
    weatherAPI: 'https://api.open-meteo.com/v1/forecast',
    geocodingAPI: 'https://us1.api-bdc.net/data/reverse-geocode-client',
    updateInterval: 300000, // 5 minutes
    locationCacheTime: 3600000 // 1 hour
};

// Translations object
const translations = {
    en: {
        "app.title": "AI Outfit for Today",
        "app.subtitle": "Your AI-Powered Fashion Assistant for Any Weather",
        "header.likedOutfits": "Liked Outfits",
        "main.heading": "Get Your Outfit Recommendation",
        "main.subheading": "Select your preferences and get a personalized outfit based on current weather.",
        "gender.title": "1. Select Gender",
        "gender.female": "Female",
        "gender.male": "Male",
        "style.title": "2. Select Style",
        "style.casual": "Casual",
        "style.business": "Business",
        "style.date": "Date",
        "weather.title": "Current Weather & Location",
        "outfit.title": "Your AI-Generated Outfit Recommendation",
        "outfit.summary": "Summary",
        "outfit.clothing": "Clothing",
        "outfit.footwear": "Footwear",
        "outfit.accessories": "Accessories",
        "outfit.promptTitle": "AI Image Prompt",
        "outfit.promptGenerating": "Generating detailed outfit description for AI image creation...",
        "outfit.generateImage": "Generate AI Outfit Image",
        "outfit.loadingImage": "Generating Image...",
        "outfit.imageDisclaimer": "AI-generated image for visualization. Outfits are recommendations.",
        "products.title": "Recommended Products",
        "products.noProducts": "No product recommendations available - showing test product.",
        "liked.title": "Your Liked Outfits",
        "liked.noImages": "No liked images yet. Generate and like some outfits on the main page!",
        "footer.copy": "¬© 2023 AI Outfit for Today. All rights reserved.",
        "privacy.link": "Privacy Policy",
        "terms.link": "Terms of Service",
        "privacy.title": "Privacy Policy",
        "privacy.introduction": "This Privacy Policy describes how [Your Company Name/AI Outfit for Today] (\"we,\" \"us,\" or \"our\") collects, uses, and discloses your information in connection with your use of the AI Outfit for Today website and services (the \"Service\").",
        "privacy.infoCollection": "Information We Collect",
        "privacy.infoCollectionText1": "We collect information you provide directly to us when you use our Service, such as your gender and style preferences for outfit recommendations.",
        "privacy.infoCollectionText2": "When you use our Service, we may automatically collect certain information about your device, including your IP address, browser type, operating system, and geographic location (based on your IP address or browser's geolocation services, if enabled). This information is used to provide localized weather data and improve our Service.",
        "privacy.infoUsage": "How We Use Your Information",
        "privacy.infoUsageText1": "To provide and maintain our Service, including outfit recommendations and weather data.",
        "privacy.infoUsageText2": "To improve, personalize, and expand our Service.",
        "privacy.infoSharing": "How We Share Your Information",
        "privacy.infoSharingText1": "We do not sell, rent, or otherwise share your personal information with third parties for their direct marketing purposes.",
        "privacy.infoSharingText2": "We may share non-personally identifiable information (such as aggregated usage data) with third parties for analytics, research, or similar purposes.",
        "privacy.dataStorage": "Data Storage and Security",
        "privacy.dataStorageText1": "We use client-side storage (e.g., LocalStorage, IndexedDB) to store your language preference and liked outfits. This data is stored on your device and is not transmitted to our servers.",
        "privacy.changes": "Changes to This Privacy Policy",
        "privacy.changesText1": "We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.",
        "privacy.contact": "Contact Us",
        "privacy.contactText1": "If you have any questions about this Privacy Policy, please contact us at kising26903854@gmail.com.",
        "terms.title": "Terms of Service",
        "terms.introduction": "Welcome to AI Outfit for Today. These Terms of Service (\"Terms\") govern your use of the AI Outfit for Today website and services (the \"Service\"). By accessing or using the Service, you agree to be bound by these Terms.",
        "terms.useOfService": "1. Use of Service",
        "terms.useOfServiceText1": "The Service provides AI-generated outfit recommendations based on weather data and user preferences. The outfit images are for visualization purposes only and are generated by third-party AI image services.",
        "terms.userConduct": "2. User Conduct",
        "terms.userConductText1": "You agree not to use the Service for any unlawful or prohibited activities.",
        "terms.intellectualProperty": "3. Intellectual Property",
        "terms.intellectualPropertyText1": "All content, trademarks, and intellectual property on the Service are owned by [Your Company Name/AI Outfit for Today] or its licensors. You may not use any content from the Service without prior written permission.",
        "terms.disclaimer": "4. Disclaimer of Warranties",
        "terms.disclaimerText1": "The Service is provided \"as is\" and \"as available\" without any warranties of any kind, either express or implied.",
        "terms.limitationOfLiability": "5. Limitation of Liability",
        "terms.limitationOfLiabilityText1": "In no event shall [Your Company Name/AI Outfit for Today] be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of the Service.",
        "terms.changes": "6. Changes to Terms",
        "terms.changesText1": "We reserve the right to modify or replace these Terms at any time. Your continued use of the Service after any such changes constitutes your acceptance of the new Terms.",
        "terms.contact": "7. Contact Information",
        "terms.contactText1": "If you have any questions about these Terms, please contact us at kising26903854@gmail.com.",
        "howItWorks.title": "How It Works",
        "howItWorks.steps.location.title": "Auto Location",
        "howItWorks.steps.location.description": "We detect your location automatically to get accurate local weather data",
        "howItWorks.steps.weather.title": "Weather Analysis",
        "howItWorks.steps.weather.description": "Real-time weather conditions including temperature, humidity, and conditions",
        "howItWorks.steps.ai.title": "AI Recommendation",
        "howItWorks.steps.ai.description": "Smart algorithms suggest the perfect outfit based on current weather",
        "howItWorks.steps.visual.title": "Visual Generation",
        "howItWorks.steps.visual.description": "Generate stunning AI images of your recommended outfit instantly",
        "trends.pageTitle": "Latest Trends - AI Outfit for Today",
        "trends.headerTitle": "Latest Trends",
        "trends.headerSubtitle": "Discover the hottest fashion trends powered by AI.",
        "trends.sectionTitle": "Emerging Fashion Trends",
        "trends.introText": "Stay ahead of the curve with insights into the latest fashion trends. Our AI analyzes vast amounts of fashion data to bring you predictions and highlights of what's hot.",
        "trends.trend1Title": "1. Sustainable & Eco-Conscious Fashion",
        "trends.trend1Text": "The demand for environmentally friendly clothing continues to rise. Look for natural fibers, recycled materials, and transparent supply chains.",
        "trends.trend2Title": "2. Comfort-First Athleisure",
        "trends.trend2Text": "Comfort remains key, with athleisure wear evolving to include more sophisticated designs suitable for various casual settings.",
        "trends.trend3Title": "3. Bold Colors & Statement Pieces",
        "trends.trend3Text": "After a period of muted tones, vibrant colors and unique, eye-catching statement pieces are making a comeback.",
        "trends.trend4Title": "4. Gender-Neutral Apparel",
        "trends.trend4Text": "Fashion is becoming increasingly inclusive, with more brands offering gender-neutral collections that challenge traditional norms.",
        "trends.trend5Title": "5. Vintage & Retro Revival",
        "trends.trend5Text": "Nostalgia plays a big role, with fashion drawing inspiration from past decades, particularly the 70s, 90s, and early 2000s."
    },
    ko: {
        "app.title": "Ïò§ÎäòÏùò AI ÏΩîÎîî",
        "app.subtitle": "Ïñ¥Îñ§ ÎÇ†Ïî®ÏóêÎèÑ AIÍ∞Ä Ï∂îÏ≤úÌïòÎäî ÎßûÏ∂§Ìòï Ìå®ÏÖò ÎèÑÏö∞ÎØ∏",
        "header.likedOutfits": "Ï¢ãÏïÑÏöî ÎàÑÎ•∏ ÏΩîÎîî",
        "main.heading": "ÎÇòÎßåÏùò ÏΩîÎîî Ï∂îÏ≤ú Î∞õÍ∏∞",
        "main.subheading": "ÏÑ†Ìò∏ÎèÑÎ•º ÏÑ†ÌÉùÌïòÍ≥† ÌòÑÏû¨ ÎÇ†Ïî®Ïóê ÎßûÎäî ÎßûÏ∂§Ìòï ÏΩîÎîîÎ•º Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî.",
        "gender.title": "1. ÏÑ±Î≥Ñ ÏÑ†ÌÉù",
        "gender.female": "Ïó¨ÏÑ±",
        "gender.male": "ÎÇ®ÏÑ±",
        "style.title": "2. Ïä§ÌÉÄÏùº ÏÑ†ÌÉù",
        "style.casual": "Ï∫êÏ£ºÏñº",
        "style.business": "ÎπÑÏ¶àÎãàÏä§",
        "style.date": "Îç∞Ïù¥Ìä∏",
        "weather.title": "ÌòÑÏû¨ ÎÇ†Ïî® Î∞è ÏúÑÏπò",
        "outfit.title": "AI ÏÉùÏÑ± ÏΩîÎîî Ï∂îÏ≤ú",
        "outfit.summary": "ÏöîÏïΩ",
        "outfit.clothing": "ÏùòÎ•ò",
        "outfit.footwear": "Ïã†Î∞ú",
        "outfit.accessories": "Ïï°ÏÑ∏ÏÑúÎ¶¨",
        "outfit.promptTitle": "AI Ïù¥ÎØ∏ÏßÄ ÌîÑÎ°¨ÌîÑÌä∏",
        "outfit.promptGenerating": "AI Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±ÏùÑ ÏúÑÌïú ÏÉÅÏÑ∏ ÏΩîÎîî ÏÑ§Î™Ö ÏÉùÏÑ± Ï§ë...",
        "outfit.generateImage": "AI ÏΩîÎîî Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±",
        "outfit.loadingImage": "Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± Ï§ë...",
        "outfit.imageDisclaimer": "ÏãúÍ∞ÅÌôîÎ•º ÏúÑÌïú AI ÏÉùÏÑ± Ïù¥ÎØ∏ÏßÄÏûÖÎãàÎã§. ÏΩîÎîîÎäî Ï∂îÏ≤ú ÏÇ¨Ìï≠ÏûÖÎãàÎã§.",
        "products.title": "Ï∂îÏ≤ú ÏÉÅÌíà",
        "products.noProducts": "Ï∂îÏ≤ú ÏÉÅÌíàÏù¥ ÏóÜÏäµÎãàÎã§ - ÌÖåÏä§Ìä∏ ÏÉÅÌíàÏùÑ ÌëúÏãúÌï©ÎãàÎã§.",
        "liked.title": "Ï¢ãÏïÑÏöî ÎàÑÎ•∏ ÏΩîÎîî",
        "liked.noImages": "ÏïÑÏßÅ Ï¢ãÏïÑÏöîÎ•º ÎàÑÎ•∏ Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§. Î©îÏù∏ ÌéòÏù¥ÏßÄÏóêÏÑú ÏΩîÎîîÎ•º ÏÉùÏÑ±ÌïòÍ≥† Ï¢ãÏïÑÏöîÎ•º ÎàåÎü¨Î≥¥ÏÑ∏Ïöî!",
        "footer.copy": "¬© 2023 Ïò§ÎäòÏùò AI ÏΩîÎîî. Î™®Îì† Í∂åÎ¶¨ Î≥¥Ïú†.",
        "privacy.link": "Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®",
        "terms.link": "Ïù¥Ïö©ÏïΩÍ¥Ä",
        "privacy.title": "Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®",
        "privacy.introduction": "Ïù¥ Í∞úÏù∏ Ï†ïÎ≥¥ Î≥¥Ìò∏ Ï†ïÏ±ÖÏùÄ [ÌöåÏÇ¨ Ïù¥Î¶Ñ/Ïò§ÎäòÏùò AI ÏΩîÎîî](Î≥∏Î¨∏ÏóêÏÑúÎäî \"ÎãπÏÇ¨\", \"Ï†ÄÌù¨\" ÎòêÎäî \"Ï†ÄÌù¨Ïùò\"Î°ú ÏßÄÏπ≠)Í∞Ä AI Outfit for Today ÏõπÏÇ¨Ïù¥Ìä∏ Î∞è ÏÑúÎπÑÏä§(\"ÏÑúÎπÑÏä§\")ÏôÄ Í¥ÄÎ†®ÌïòÏó¨ Í∑ÄÌïòÏùò Ï†ïÎ≥¥Î•º ÏàòÏßë, ÏÇ¨Ïö© Î∞è Í≥µÍ∞úÌïòÎäî Î∞©Î≤ïÏùÑ ÏÑ§Î™ÖÌï©ÎãàÎã§.",
        "privacy.infoCollection": "ÏàòÏßëÌïòÎäî Ï†ïÎ≥¥",
        "privacy.infoCollectionText1": "ÎãπÏÇ¨Îäî Í∑ÄÌïòÍ∞Ä ÏÑúÎπÑÏä§ Ïù¥Ïö© Ïãú ÏßÅÏ†ë Ï†úÍ≥µÌïòÎäî Ï†ïÎ≥¥(Ïòà: ÏΩîÎîî Ï∂îÏ≤úÏùÑ ÏúÑÌïú ÏÑ±Î≥Ñ Î∞è Ïä§ÌÉÄÏùº ÏÑ†Ìò∏ÎèÑ)Î•º ÏàòÏßëÌï©ÎãàÎã§.",
        "privacy.infoCollectionText2": "Í∑ÄÌïòÍ∞Ä ÎãπÏÇ¨ ÏÑúÎπÑÏä§Î•º Ïù¥Ïö©Ìï† Îïå, ÎãπÏÇ¨Îäî Í∑ÄÌïòÏùò IP Ï£ºÏÜå, Î∏åÎùºÏö∞Ï†Ä Ïú†Ìòï, Ïö¥ÏòÅ Ï≤¥Ï†ú Î∞è ÏßÄÎ¶¨Ï†Å ÏúÑÏπò(Í∑ÄÌïòÏùò IP Ï£ºÏÜå ÎòêÎäî Î∏åÎùºÏö∞Ï†ÄÏùò ÏßÄÎ¶¨Ï†Å ÏúÑÏπò ÏÑúÎπÑÏä§Í∞Ä ÌôúÏÑ±ÌôîÎêú Í≤ΩÏö∞ Í∏∞Î∞ò)Î•º Ìè¨Ìï®Ìïú ÌäπÏ†ï Ïû•Ïπò Ï†ïÎ≥¥Î•º ÏûêÎèôÏúºÎ°ú ÏàòÏßëÌï† Ïàò ÏûàÏäµÎãàÎã§. Ïù¥ Ï†ïÎ≥¥Îäî ÌòÑÏßÄÌôîÎêú ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞Î•º Ï†úÍ≥µÌïòÍ≥† ÏÑúÎπÑÏä§ Í∞úÏÑ†ÏùÑ ÏúÑÌï¥ ÏÇ¨Ïö©Îê©ÎãàÎã§.",
        "privacy.infoUsage": "Ï†ïÎ≥¥ ÏÇ¨Ïö© Î∞©Î≤ï",
        "privacy.infoUsageText1": "ÏΩîÎîî Ï∂îÏ≤ú Î∞è ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞Î•º Ìè¨Ìï®Ìïú ÏÑúÎπÑÏä§ Ï†úÍ≥µ Î∞è Ïú†ÏßÄ.",
        "privacy.infoUsageText2": "ÏÑúÎπÑÏä§ Í∞úÏÑ†, Í∞úÏù∏Ìôî Î∞è ÌôïÏû•.",
        "privacy.infoSharing": "Ï†ïÎ≥¥ Í≥µÏú† Î∞©Î≤ï",
        "privacy.infoSharingText1": "ÎãπÏÇ¨Îäî Í∑ÄÌïòÏùò Í∞úÏù∏ Ï†ïÎ≥¥Î•º Ï†ú3ÏûêÏóêÍ≤å ÏßÅÏ†ë ÎßàÏºÄÌåÖ Î™©Ï†ÅÏúºÎ°ú ÌåêÎß§, ÎåÄÏó¨ ÎòêÎäî Í≥µÏú†ÌïòÏßÄ ÏïäÏäµÎãàÎã§.",
        "privacy.infoSharingText2": "ÎãπÏÇ¨Îäî ÎπÑÏãùÎ≥Ñ Ï†ïÎ≥¥(Ïòà: ÏßëÍ≥ÑÎêú ÏÇ¨Ïö© Îç∞Ïù¥ÌÑ∞)Î•º Î∂ÑÏÑù, Ïó∞Íµ¨ ÎòêÎäî Ïú†ÏÇ¨Ìïú Î™©Ï†ÅÏúºÎ°ú Ï†ú3ÏûêÏôÄ Í≥µÏú†Ìï† Ïàò ÏûàÏäµÎãàÎã§.",
        "privacy.dataStorage": "Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Î∞è Î≥¥Ïïà",
        "privacy.dataStorageText1": "ÎãπÏÇ¨Îäî Í∑ÄÌïòÏùò Ïñ∏Ïñ¥ Í∏∞Î≥∏ ÏÑ§Ï†ï Î∞è Ï¢ãÏïÑÏöîÎ•º ÎàÑÎ•∏ ÏΩîÎîîÎ•º Ï†ÄÏû•ÌïòÍ∏∞ ÏúÑÌï¥ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ï∏° Ï†ÄÏû•ÏÜå(Ïòà: LocalStorage, IndexedDB)Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§. Ïù¥ Îç∞Ïù¥ÌÑ∞Îäî Í∑ÄÌïòÏùò Ïû•ÏπòÏóê Ï†ÄÏû•ÎêòÎ©∞ ÎãπÏÇ¨ ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°ÎêòÏßÄ ÏïäÏäµÎãàÎã§.",
        "privacy.changes": "Í∞úÏù∏ Ï†ïÎ≥¥ Î≥¥Ìò∏ Ï†ïÏ±Ö Î≥ÄÍ≤Ω",
        "privacy.changesText1": "ÎãπÏÇ¨Îäî Í∞úÏù∏ Ï†ïÎ≥¥ Î≥¥Ìò∏ Ï†ïÏ±ÖÏùÑ ÏàòÏãúÎ°ú ÏóÖÎç∞Ïù¥Ìä∏Ìï† Ïàò ÏûàÏäµÎãàÎã§. Î≥ÄÍ≤Ω ÏÇ¨Ìï≠Ïù¥ ÏûàÏùÑ Í≤ΩÏö∞ Ïù¥ ÌéòÏù¥ÏßÄÏóê ÏÉàÎ°úÏö¥ Í∞úÏù∏ Ï†ïÎ≥¥ Î≥¥Ìò∏ Ï†ïÏ±ÖÏùÑ Í≤åÏãúÌïòÏó¨ Í∑ÄÌïòÏóêÍ≤å ÌÜµÏßÄÌï† Í≤ÉÏûÖÎãàÎã§.",
        "privacy.contact": "Î¨∏ÏùòÌïòÍ∏∞",
        "privacy.contactText1": "Ïù¥ Í∞úÏù∏ Ï†ïÎ≥¥ Î≥¥Ìò∏ Ï†ïÏ±ÖÏóê ÎåÄÌï¥ ÏßàÎ¨∏Ïù¥ ÏûàÏúºÏãúÎ©¥ kising26903854@gmail.comÏúºÎ°ú Î¨∏ÏùòÌïòÏã≠ÏãúÏò§.",
        "terms.title": "Ïù¥Ïö©ÏïΩÍ¥Ä",
        "terms.introduction": "AI Outfit for TodayÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§. Î≥∏ Ïù¥Ïö©ÏïΩÍ¥Ä(\"ÏïΩÍ¥Ä\")ÏùÄ AI Outfit for Today ÏõπÏÇ¨Ïù¥Ìä∏ Î∞è ÏÑúÎπÑÏä§(\"ÏÑúÎπÑÏä§\")Ïùò ÏÇ¨Ïö©Ïóê Ï†ÅÏö©Îê©ÎãàÎã§. ÏÑúÎπÑÏä§Ïóê Ïï°ÏÑ∏Ïä§ÌïòÍ±∞ÎÇò ÏÑúÎπÑÏä§Î•º ÏÇ¨Ïö©Ìï®ÏúºÎ°úÏç® Í∑ÄÌïòÎäî Î≥∏ ÏïΩÍ¥ÄÏóê ÎèôÏùòÌïòÎäî Í≤ÉÏûÖÎãàÎã§.",
        "terms.useOfService": "1. ÏÑúÎπÑÏä§ Ïù¥Ïö©",
        "terms.useOfServiceText1": "Î≥∏ ÏÑúÎπÑÏä§Îäî ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞ Î∞è ÏÇ¨Ïö©Ïûê ÏÑ†Ìò∏ÎèÑÏóê Í∏∞Î∞òÌïú AI ÏÉùÏÑ± ÏΩîÎîî Ï∂îÏ≤úÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§. ÏΩîÎîî Ïù¥ÎØ∏ÏßÄÎäî ÏãúÍ∞ÅÌôî Î™©Ï†ÅÏúºÎ°úÎßå Ï†úÍ≥µÎêòÎ©∞, ÌÉÄÏÇ¨ AI Ïù¥ÎØ∏ÏßÄ ÏÑúÎπÑÏä§Ïóê ÏùòÌï¥ ÏÉùÏÑ±Îê©ÎãàÎã§.",
        "terms.userConduct": "2. ÏÇ¨Ïö©Ïûê ÌñâÎèô",
        "terms.userConductText1": "Í∑ÄÌïòÎäî Î∂àÎ≤ïÏ†ÅÏù¥Í±∞ÎÇò Í∏àÏßÄÎêú ÌôúÎèôÏùÑ ÏúÑÌï¥ ÏÑúÎπÑÏä§Î•º ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÏùÑ Í≤ÉÏóê ÎèôÏùòÌï©ÎãàÎã§.",
        "terms.intellectualProperty": "3. ÏßÄÏ†Å Ïû¨ÏÇ∞Í∂å",
        "terms.intellectualPropertyText1": "ÏÑúÎπÑÏä§Ïùò Î™®Îì† ÏΩòÌÖêÏ∏†, ÏÉÅÌëú Î∞è ÏßÄÏ†Å Ïû¨ÏÇ∞Í∂åÏùÄ [ÌöåÏÇ¨ Ïù¥Î¶Ñ/Ïò§ÎäòÏùò AI ÏΩîÎîî] ÎòêÎäî Í∑∏ ÎùºÏù¥ÏÑ†Ïä§ Ï†úÍ≥µÏûêÏóêÍ≤å ÏûàÏäµÎãàÎã§. ÏÇ¨Ï†Ñ ÏÑúÎ©¥ ÌóàÍ∞Ä ÏóÜÏù¥ ÏÑúÎπÑÏä§Ïùò Ïñ¥Îñ§ ÏΩòÌÖêÏ∏†ÎèÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.",
        "terms.disclaimer": "4. Î≥¥Ï¶ù Î∂ÄÏù∏",
        "terms.disclaimerText1": "Î≥∏ ÏÑúÎπÑÏä§Îäî Î™ÖÏãúÏ†ÅÏù¥Îì† Î¨µÏãúÏ†ÅÏù¥Îì† Ïñ¥Îñ†Ìïú Ï¢ÖÎ•òÏùò Î≥¥Ï¶ù ÏóÜÏù¥ \"ÏûàÎäî Í∑∏ÎåÄÎ°ú\" Î∞è \"Ïù¥Ïö© Í∞ÄÎä•Ìïú ÏÉÅÌÉúÎ°ú\" Ï†úÍ≥µÎê©ÎãàÎã§.",
        "terms.limitationOfLiability": "5. Ï±ÖÏûÑÏùò Ï†úÌïú",
        "terms.limitationOfLiabilityText1": "Ïñ¥Îñ†Ìïú Í≤ΩÏö∞ÏóêÎèÑ [ÌöåÏÇ¨ Ïù¥Î¶Ñ/Ïò§ÎäòÏùò AI ÏΩîÎîî]Îäî ÏÑúÎπÑÏä§ ÏÇ¨Ïö©ÏúºÎ°ú Ïù∏Ìï¥ Î∞úÏÉùÌïòÍ±∞ÎÇò ÏÑúÎπÑÏä§ ÏÇ¨Ïö©Í≥º Í¥ÄÎ†®Îêú Í∞ÑÏ†ëÏ†Å, Î∂ÄÏàòÏ†Å, ÌäπÎ≥Ñ, Í≤∞Í≥ºÏ†Å ÎòêÎäî ÏßïÎ≤åÏ†Å ÏÜêÌï¥Ïóê ÎåÄÌï¥ Ï±ÖÏûÑÏùÑ ÏßÄÏßÄ ÏïäÏäµÎãàÎã§.",
        "terms.changes": "6. ÏïΩÍ¥Ä Î≥ÄÍ≤Ω",
        "terms.changesText1": "ÎãπÏÇ¨Îäî Ïñ∏Ï†úÎì†ÏßÄ Î≥∏ ÏïΩÍ¥ÄÏùÑ ÏàòÏ†ïÌïòÍ±∞ÎÇò ÍµêÏ≤¥Ìï† Í∂åÎ¶¨Î•º Î≥¥Ïú†Ìï©ÎãàÎã§. Í∑∏Îü¨Ìïú Î≥ÄÍ≤Ω ÌõÑÏóêÎèÑ ÏÑúÎπÑÏä§Î•º Í≥ÑÏÜç ÏÇ¨Ïö©ÌïòÎäî Í≤ÉÏùÄ ÏÉàÎ°úÏö¥ ÏïΩÍ¥ÄÏóê ÎèôÏùòÌïòÎäî Í≤ÉÏúºÎ°ú Í∞ÑÏ£ºÎê©ÎãàÎã§.",
        "terms.contact": "7. Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥",
        "terms.contactText1": "If you have any questions about these Terms, please contact us at kising26903854@gmail.com.",
        "howItWorks.title": "ÏûëÎèô Î∞©Ïãù",
        "howItWorks.steps.location.title": "ÏûêÎèô ÏúÑÏπò",
        "howItWorks.steps.location.description": "Ï†ïÌôïÌïú ÌòÑÏßÄ ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞Î•º ÏñªÍ∏∞ ÏúÑÌï¥ ÏûêÎèôÏúºÎ°ú Í∑ÄÌïòÏùò ÏúÑÏπòÎ•º Í∞êÏßÄÌï©ÎãàÎã§",
        "howItWorks.steps.weather.title": "ÎÇ†Ïî® Î∂ÑÏÑù",
        "howItWorks.steps.weather.description": "Í∏∞Ïò®, ÏäµÎèÑ, Í∏∞ÏÉÅ Ï°∞Í±¥ÏùÑ Ìè¨Ìï®Ìïú Ïã§ÏãúÍ∞Ñ ÎÇ†Ïî® Ï†ïÎ≥¥Î•º Ï†úÍ≥µÌï©ÎãàÎã§",
        "howItWorks.steps.ai.title": "AI Ï∂îÏ≤ú",
        "howItWorks.steps.ai.description": "Ïä§ÎßàÌä∏ ÏïåÍ≥†Î¶¨Ï¶òÏù¥ ÌòÑÏû¨ ÎÇ†Ïî®Ïóê ÎßûÎäî ÏôÑÎ≤ΩÌïú ÏΩîÎîîÎ•º Ï†úÏïàÌï©ÎãàÎã§",
        "howItWorks.steps.visual.title": "ÏãúÍ∞ÅÏ†Å ÏÉùÏÑ±",
        "howItWorks.steps.visual.description": "Ï∂îÏ≤ú ÏΩîÎîîÏùò Î©ãÏßÑ AI Ïù¥ÎØ∏ÏßÄÎ•º Ï¶âÏãú ÏÉùÏÑ±Ìï©ÎãàÎã§",
        "trends.pageTitle": "ÏµúÏã† Ìä∏Î†åÎìú - Ïò§ÎäòÏùò AI ÏΩîÎîî",
        "trends.headerTitle": "ÏµúÏã† Ìä∏Î†åÎìú",
        "trends.headerSubtitle": "AI Í∏∞Î∞òÏùò ÏµúÏã† Ìå®ÏÖò Ìä∏Î†åÎìúÎ•º Î∞úÍ≤¨ÌïòÏÑ∏Ïöî.",
        "trends.sectionTitle": "Îñ†Ïò§Î•¥Îäî Ìå®ÏÖò Ìä∏Î†åÎìú",
        "trends.introText": "ÏµúÏã† Ìå®ÏÖò Ìä∏Î†åÎìúÏóê ÎåÄÌïú Ïù∏ÏÇ¨Ïù¥Ìä∏Î°ú ÏïûÏÑú ÎÇòÍ∞ÄÏÑ∏Ïöî. Ï†ÄÌù¨ AIÎäî Î∞©ÎåÄÌïú Ìå®ÏÖò Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑùÌïòÏó¨ Îú®Í±∞Ïö¥ Ìä∏Î†åÎìú ÏòàÏ∏°Í≥º ÌïòÏù¥ÎùºÏù¥Ìä∏Î•º Ï†úÍ≥µÌï©ÎãàÎã§.",
        "trends.trend1Title": "1. ÏßÄÏÜç Í∞ÄÎä•ÌïòÍ≥† ÏπúÌôòÍ≤ΩÏ†ÅÏù∏ Ìå®ÏÖò",
        "trends.trend1Text": "ÌôòÍ≤Ω ÏπúÌôîÏ†ÅÏù∏ ÏùòÎ•òÏóê ÎåÄÌïú ÏàòÏöîÎäî Í≥ÑÏÜç Ï¶ùÍ∞ÄÌïòÍ≥† ÏûàÏäµÎãàÎã§. Ï≤úÏó∞ ÏÑ¨Ïú†, Ïû¨ÌôúÏö© Ïû¨Î£å Î∞è Ìà¨Î™ÖÌïú Í≥µÍ∏âÎßùÏùÑ Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî.",
        "trends.trend2Title": "2. Ìé∏ÏïàÌï®ÏùÑ ÏµúÏö∞ÏÑ†ÏúºÎ°ú ÌïòÎäî Ïï†Ïä¨Î†àÏ†Ä",
        "trends.trend2Text": "Îã§ÏñëÌïú Ï∫êÏ£ºÏñº ÌôòÍ≤ΩÏóê Ï†ÅÌï©Ìïú ÏÑ∏Î†®Îêú ÎîîÏûêÏù∏ÏùÑ Ìè¨Ìï®ÌïòÎèÑÎ°ù Ïï†Ïä¨Î†àÏ†ÄÏõ®Ïñ¥Í∞Ä ÏßÑÌôîÌïòÎ©¥ÏÑú Ìé∏ÏïàÌï®Ïù¥ Ïó¨Ï†ÑÌûà Ï§ëÏöîÌï©ÎãàÎã§.",
        "trends.trend3Title": "3. ÎåÄÎã¥Ìïú ÏÉâÏÉÅ Î∞è Ïä§ÌÖåÏù¥Ìä∏Î®ºÌä∏ ÏùòÎ•ò",
        "trends.trend3Text": "Ï∞®Î∂ÑÌïú ÌÜ§Ïùò ÏãúÎåÄÎ•º ÏßÄÎÇò, ÏÉùÏÉùÌïú ÏÉâÏÉÅÍ≥º ÎèÖÌäπÌïòÍ≥† ÏãúÏÑ†ÏùÑ ÏÇ¨Î°úÏû°Îäî Ïä§ÌÖåÏù¥Ìä∏Î®ºÌä∏ ÏùòÎ•òÍ∞Ä Îã§Ïãú Ïú†ÌñâÌïòÍ≥† ÏûàÏäµÎãàÎã§.",
        "trends.trend4Title": "4. ÏÑ± Ï§ëÎ¶Ω ÏùòÎ•ò",
        "trends.trend4Text": "Ìå®ÏÖòÏùÄ Ï†êÏ†ê Îçî Ìè¨Í¥ÑÏ†ÅÏúºÎ°ú Î≥ÄÌïòÍ≥† ÏûàÏúºÎ©∞, Îçî ÎßéÏùÄ Î∏åÎûúÎìúÍ∞Ä Ï†ÑÌÜµÏ†ÅÏù∏ Í∑úÎ≤îÏóê ÎèÑÏ†ÑÌïòÎäî ÏÑ± Ï§ëÎ¶Ω Ïª¨Î†âÏÖòÏùÑ Ï†úÍ≥µÌïòÍ≥† ÏûàÏäµÎãàÎã§.",
        "trends.trend5Title": "5. ÎπàÌã∞ÏßÄ Î∞è Î†àÌä∏Î°ú Î∂ÄÌôú",
        "trends.trend5Text": "Í≥ºÍ±∞ ÏàòÏã≠ ÎÖÑ, ÌäπÌûà 70ÎÖÑÎåÄ, 90ÎÖÑÎåÄ, 2000ÎÖÑÎåÄ Ï¥àÎ∞òÏóêÏÑú ÏòÅÍ∞êÏùÑ ÏñªÏùÄ Ìå®ÏÖòÏù¥ Ìñ•ÏàòÎ•º Î∂àÎü¨ÏùºÏúºÌÇ§Î©∞ ÌÅ∞ Ïó≠Ìï†ÏùÑ ÌïòÍ≥† ÏûàÏäµÎãàÎã§."
    },
    ja: {
        "app.title": "‰ªäÊó•„ÅÆAI„Ç≥„Éº„Éá",
        "app.subtitle": "„Å©„Çì„Å™Â§©Ê∞ó„Åß„ÇÇAI„ÅåÊèêÊ°à„Åô„Çã„Éë„Éº„ÇΩ„Éä„É´„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Ç¢„Ç∑„Çπ„Çø„É≥„Éà",
        "header.likedOutfits": "„ÅÑ„ÅÑ„Å≠„Åó„Åü„Ç≥„Éº„Éá",
        "main.heading": "„ÅÇ„Å™„Åü„Å∏„ÅÆ„Åä„Åô„Åô„ÇÅ„Ç≥„Éº„Éá„Çí„ÉÅ„Çß„ÉÉ„ÇØ",
        "main.subheading": "„ÅÇ„Å™„Åü„ÅÆÂ•Ω„Åø„ÇíÈÅ∏Êäû„Åó„Å¶„ÄÅÁèæÂú®„ÅÆÂ§©Ê∞ó„Å´Âü∫„Å•„ÅÑ„Åü„Éë„Éº„ÇΩ„Éä„É´„Å™„Ç≥„Éº„Éá„Çí„Ç≤„ÉÉ„Éà„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ",
        "gender.title": "1. ÊÄßÂà•„ÇíÈÅ∏Êäû",
        "gender.female": "Â•≥ÊÄß",
        "gender.male": "Áî∑ÊÄß",
        "style.title": "2. „Çπ„Çø„Ç§„É´„ÇíÈÅ∏Êäû",
        "style.casual": "„Ç´„Ç∏„É•„Ç¢„É´",
        "style.business": "„Éì„Ç∏„Éç„Çπ",
        "style.date": "„Éá„Éº„Éà",
        "weather.title": "ÁèæÂú®„ÅÆÂ§©Ê∞ó„Å®Â†¥ÊâÄ",
        "outfit.title": "AIÁîüÊàê„Ç≥„Éº„Éá„ÅÆ„Åä„Åô„Åô„ÇÅ",
        "outfit.summary": "Ê¶ÇË¶Å",
        "outfit.clothing": "ÊúçË£Ö",
        "outfit.footwear": "Â±•Áâ©",
        "outfit.accessories": "„Ç¢„ÇØ„Çª„Çµ„É™„Éº",
        "outfit.promptTitle": "AIÁîªÂÉè„Éó„É≠„É≥„Éó„Éà",
        "outfit.promptGenerating": "AIÁîªÂÉè‰ΩúÊàê„ÅÆ„Åü„ÇÅ„ÅÆË©≥Á¥∞„Å™„Ç≥„Éº„ÉáË™¨Êòé„ÇíÁîüÊàê‰∏≠...",
        "outfit.generateImage": "AI„Ç≥„Éº„ÉáÁîªÂÉè„ÇíÁîüÊàê",
        "outfit.loadingImage": "ÁîªÂÉè„ÇíÁîüÊàê‰∏≠...",
        "outfit.imageDisclaimer": "Ë¶ñË¶öÂåñ„ÅÆ„Åü„ÇÅ„ÅÆAIÁîüÊàêÁîªÂÉè„Åß„Åô„ÄÇ„Ç≥„Éº„Éá„ÅØÊé®Â•®‰∫ãÈ†Ö„Åß„Åô„ÄÇ",
        "products.title": "„Åä„Åô„Åô„ÇÅÂïÜÂìÅ",
        "products.noProducts": "„Åä„Åô„Åô„ÇÅÂïÜÂìÅ„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì - „ÉÜ„Çπ„ÉàÂïÜÂìÅ„ÇíË°®Á§∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
        "liked.title": "„ÅÑ„ÅÑ„Å≠„Åó„Åü„Ç≥„Éº„Éá",
        "liked.noImages": "„Åæ„Å†„ÅÑ„ÅÑ„Å≠„Åó„ÅüÁîªÂÉè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„É°„Ç§„É≥„Éö„Éº„Ç∏„Åß„Ç≥„Éº„Éá„ÇíÁîüÊàê„Åó„Å¶„ÅÑ„ÅÑ„Å≠„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ",
        "footer.copy": "¬© 2023 ‰ªäÊó•„ÅÆAI„Ç≥„Éº„Éá. ÁÑ°Êñ≠Ë§áÂÜô„ÉªËª¢Ëºâ„ÇíÁ¶Å„Åò„Åæ„Åô.",
        "privacy.link": "„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº",
        "terms.link": "Âà©Áî®Ë¶èÁ¥Ñ",
        "privacy.title": "„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº",
        "privacy.introduction": "„Åì„ÅÆ„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº„ÅØ„ÄÅ[Ë≤¥Á§æÂêç/AI Outfit for Today]ÔºàÊú¨„Çµ„Éº„Éì„Çπ„Åß„ÅØ\"ÂΩìÁ§æ\"„Å®Á∑èÁß∞Ôºâ„ÅåAI Outfit for Today„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„Åä„Çà„Å≥„Çµ„Éº„Éì„ÇπÔºà\"Êú¨„Çµ„Éº„Éì„Çπ\"Ôºâ„Å´Èñ¢ÈÄ£„Åó„Å¶„ÄÅ„ÅäÂÆ¢Êßò„ÅÆÊÉÖÂ†±„ÇíÂèéÈõÜ„ÄÅ‰ΩøÁî®„ÄÅÈñãÁ§∫„Åô„ÇãÊñπÊ≥ï„ÇíË™¨Êòé„Åó„Åæ„Åô„ÄÇ",
        "privacy.infoCollection": "ÂèéÈõÜ„Åô„ÇãÊÉÖÂ†±",
        "privacy.infoCollectionText1": "ÂΩìÁ§æ„ÅØ„ÄÅ„ÅäÂÆ¢Êßò„ÅåÊú¨„Çµ„Éº„Éì„Çπ„ÇíÂà©Áî®„Åô„ÇãÈöõ„Å´Áõ¥Êé•Êèê‰æõ„Åô„ÇãÊÉÖÂ†±Ôºà„Ç≥„Éº„Éá„ÅÆ„Åä„Åô„Åô„ÇÅ„Å´Èñ¢„Åô„ÇãÊÄßÂà•„ÇÑ„Çπ„Çø„Ç§„É´„ÅÆÂ•Ω„Åø„Å™„Å©Ôºâ„ÇíÂèéÈõÜ„Åó„Åæ„Åô„ÄÇ",
        "privacy.infoCollectionText2": "„ÅäÂÆ¢Êßò„ÅåÊú¨„Çµ„Éº„Éì„Çπ„ÇíÂà©Áî®„Åô„ÇãÈöõ„ÄÅÂΩìÁ§æ„ÅØIP„Ç¢„Éâ„É¨„Çπ„ÄÅ„Éñ„É©„Ç¶„Ç∂„ÅÆÁ®ÆÈ°û„ÄÅ„Ç™„Éö„É¨„Éº„ÉÜ„Ç£„É≥„Ç∞„Ç∑„Çπ„ÉÜ„É†„ÄÅÂú∞ÁêÜÁöÑ‰ΩçÁΩÆÔºàIP„Ç¢„Éâ„É¨„Çπ„Åæ„Åü„ÅØ„Éñ„É©„Ç¶„Ç∂„ÅÆÂú∞ÁêÜ‰ΩçÁΩÆÊÉÖÂ†±„Çµ„Éº„Éì„Çπ„ÅåÊúâÂäπ„Å™Â†¥Âêà„Å´Âü∫„Å•„ÅèÔºâ„Å™„Å©„ÄÅ„ÅäÂÆ¢Êßò„ÅÆ„Éá„Éê„Ç§„Çπ„Å´Èñ¢„Åô„ÇãÁâπÂÆö„ÅÆÊÉÖÂ†±„ÇíËá™ÂãïÁöÑ„Å´ÂèéÈõÜ„Åô„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÊÉÖÂ†±„ÅØ„ÄÅÂú∞Âüü„Å´ÁâπÂåñ„Åó„ÅüÂ§©Ê∞ó„Éá„Éº„Çø„ÇíÊèê‰æõ„Åó„ÄÅÊú¨„Çµ„Éº„Éì„Çπ„ÇíÊîπÂñÑ„Åô„Çã„Åü„ÇÅ„Å´‰ΩøÁî®„Åï„Çå„Åæ„Åô„ÄÇ",
        "privacy.infoUsage": "ÊÉÖÂ†±„ÅÆ‰ΩøÁî®ÊñπÊ≥ï",
        "privacy.infoUsageText1": "„Ç≥„Éº„Éá„ÅÆ„Åä„Åô„Åô„ÇÅ„ÇÑÂ§©Ê∞ó„Éá„Éº„Çø„ÇíÂê´„ÇÄÊú¨„Çµ„Éº„Éì„Çπ„ÅÆÊèê‰æõ„Åä„Çà„Å≥Á∂≠ÊåÅ„ÅÆ„Åü„ÇÅ„ÄÇ",
        "privacy.infoUsageText2": "Êú¨„Çµ„Éº„Éì„Çπ„ÅÆÊîπÂñÑ„ÄÅ„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„ÄÅ„Åä„Çà„Å≥Êã°Âºµ„ÅÆ„Åü„ÇÅ„ÄÇ",
        "privacy.infoSharing": "ÊÉÖÂ†±„ÅÆÂÖ±ÊúâÊñπÊ≥ï",
        "privacy.infoSharingText1": "ÂΩìÁ§æ„ÅØ„ÄÅ„ÅäÂÆ¢Êßò„ÅÆÂÄã‰∫∫ÊÉÖÂ†±„ÇíÁ¨¨‰∏âËÄÖ„ÅÆ„ÉÄ„Ç§„É¨„ÇØ„Éà„Éû„Éº„Ç±„ÉÜ„Ç£„É≥„Ç∞ÁõÆÁöÑ„ÅßË≤©Â£≤„ÄÅË≤∏‰∏é„ÄÅ„Åæ„Åü„ÅØ„Åù„ÅÆ‰ªñ„ÅÆÊñπÊ≥ï„ÅßÂÖ±Êúâ„Åô„Çã„Åì„Å®„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",
        "privacy.infoSharingText2": "ÂΩìÁ§æ„ÅØ„ÄÅÂàÜÊûê„ÄÅÁ†îÁ©∂„ÄÅ„Åæ„Åü„ÅØÂêåÊßò„ÅÆÁõÆÁöÑ„ÅÆ„Åü„ÇÅ„Å´„ÄÅÂÄã‰∫∫„ÇíÁâπÂÆö„Åß„Åç„Å™„ÅÑÊÉÖÂ†±ÔºàÈõÜË®à„Åï„Çå„ÅüÂà©Áî®Áä∂Ê≥Å„Éá„Éº„Çø„Å™„Å©Ôºâ„ÇíÁ¨¨‰∏âËÄÖ„Å®ÂÖ±Êúâ„Åô„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",
        "privacy.dataStorage": "„Éá„Éº„Çø‰øùÂ≠ò„Å®„Çª„Ç≠„É•„É™„ÉÜ„Ç£",
        "privacy.dataStorageText1": "ÂΩìÁ§æ„ÅØ„ÄÅ„ÅäÂÆ¢Êßò„ÅÆË®ÄË™ûË®≠ÂÆö„ÇÑ„ÅÑ„ÅÑ„Å≠„Åó„Åü„Ç≥„Éº„Éá„Çí‰øùÂ≠ò„Åô„Çã„Åü„ÇÅ„Å´„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂÅ¥„ÅÆ„Çπ„Éà„É¨„Éº„Ç∏Ôºà‰æãÔºöLocalStorage„ÄÅIndexedDBÔºâ„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆ„Éá„Éº„Çø„ÅØ„ÅäÂÆ¢Êßò„ÅÆ„Éá„Éê„Ç§„Çπ„Å´‰øùÂ≠ò„Åï„Çå„ÄÅÂΩìÁ§æ„ÅÆ„Çµ„Éº„Éê„Éº„Å´„ÅØÈÄÅ‰ø°„Åï„Çå„Åæ„Åõ„Çì„ÄÇ",
        "privacy.changes": "Êú¨„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº„ÅÆÂ§âÊõ¥",
        "privacy.changesText1": "ÂΩìÁ§æ„ÅØ„ÄÅÊú¨„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº„ÇíÈöèÊôÇÊõ¥Êñ∞„Åô„Çã„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÂ§âÊõ¥„Åå„ÅÇ„Å£„ÅüÂ†¥Âêà„ÅØ„ÄÅ„Åì„ÅÆ„Éö„Éº„Ç∏„Å´Êñ∞„Åó„ÅÑ„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº„ÇíÊé≤Ëºâ„Åó„Å¶„ÅäÂÆ¢Êßò„Å´ÈÄöÁü•„Åó„Åæ„Åô„ÄÇ",
        "privacy.contact": "„ÅäÂïè„ÅÑÂêà„Çè„Åõ",
        "privacy.contactText1": "Êú¨„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº„Å´Èñ¢„Åô„Çã„ÅîË≥™Âïè„ÅØ„ÄÅkising26903854@gmail.com„Åæ„Åß„ÅäÂïè„ÅÑÂêà„Çè„Åõ„Åè„Å†„Åï„ÅÑ„ÄÇ",
        "terms.title": "Âà©Áî®Ë¶èÁ¥Ñ",
        "terms.introduction": "AI Outfit for Today„Å´„Çà„ÅÜ„Åì„Åù„ÄÇÊú¨Âà©Áî®Ë¶èÁ¥ÑÔºà\"Êú¨Ë¶èÁ¥Ñ\"Ôºâ„ÅØ„ÄÅAI Outfit for Today„ÅÆ„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„Åä„Çà„Å≥„Çµ„Éº„Éì„ÇπÔºà\"Êú¨„Çµ„Éº„Éì„Çπ\"Ôºâ„ÅÆ„ÅîÂà©Áî®„ÇíË¶èÂÆö„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇÊú¨„Çµ„Éº„Éì„Çπ„Å´„Ç¢„ÇØ„Çª„Çπ„Åæ„Åü„ÅØÂà©Áî®„Åô„Çã„Åì„Å®„Å´„Çà„Çä„ÄÅ„ÅäÂÆ¢Êßò„ÅØÊú¨Ë¶èÁ¥Ñ„Å´ÊãòÊùü„Åï„Çå„Çã„Åì„Å®„Å´ÂêåÊÑè„Åó„Åü„ÇÇ„ÅÆ„Å®„Åø„Å™„Åï„Çå„Åæ„Åô„ÄÇ",
        "terms.useOfService": "1. „Çµ„Éº„Éì„Çπ„ÅÆ„ÅîÂà©Áî®",
        "terms.useOfServiceText1": "Êú¨„Çµ„Éº„Éì„Çπ„ÅØ„ÄÅÊ∞óË±°„Éá„Éº„Çø„Å®„É¶„Éº„Ç∂„Éº„ÅÆÂ•Ω„Åø„Å´Âü∫„Å•„ÅÑ„Å¶AI„ÅåÁîüÊàê„Åó„ÅüÊúçË£Ö„ÅÆÊé®Â•®„ÇíÊèê‰æõ„Åó„Åæ„Åô„ÄÇÊúçË£Ö„ÅÆÁîªÂÉè„ÅØË¶ñË¶öÂåñ„ÅÆ„Åø„ÇíÁõÆÁöÑ„Å®„Åó„Å¶„Åä„Çä„ÄÅÁ¨¨‰∏âËÄÖ„ÅÆAIÁîªÂÉè„Çµ„Éº„Éì„Çπ„Å´„Çà„Å£„Å¶ÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇ",
        "terms.userConduct": "2. „É¶„Éº„Ç∂„Éº„ÅÆË°åÁÇ∫",
        "terms.userConductText1": "„ÅäÂÆ¢Êßò„ÅØ„ÄÅÈÅïÊ≥ï„Åæ„Åü„ÅØÁ¶ÅÊ≠¢„Åï„Çå„ÅüÊ¥ªÂãï„ÅÆ„Åü„ÇÅ„Å´Êú¨„Çµ„Éº„Éì„Çπ„ÇíÂà©Áî®„Åó„Å™„ÅÑ„Åì„Å®„Å´ÂêåÊÑè„Åó„Åæ„Åô„ÄÇ",
        "terms.intellectualProperty": "3. Áü•ÁöÑË≤°Áî£",
        "terms.intellectualPropertyText1": "Êú¨„Çµ„Éº„Éì„Çπ‰∏ä„ÅÆ„Åô„Åπ„Å¶„ÅÆ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÄÅÂïÜÊ®ô„ÄÅ„Åä„Çà„Å≥Áü•ÁöÑË≤°Áî£„ÅØ„ÄÅ[Ë≤¥Á§æÂêç/AI Outfit for Today]„Åæ„Åü„ÅØ„Åù„ÅÆ„É©„Ç§„Çª„É≥„Çµ„Éº„ÅåÊâÄÊúâ„Åó„Åæ„Åô„ÄÇ‰∫ãÂâç„ÅÆÊõ∏Èù¢„Å´„Çà„ÇãË®±ÂèØ„Å™„Åè„ÄÅÊú¨„Çµ„Éº„Éì„Çπ„ÅÆ„ÅÑ„Åã„Å™„Çã„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇÇ‰ΩøÁî®„Åó„Å¶„ÅØ„Å™„Çä„Åæ„Åõ„Çì„ÄÇ",
        "terms.disclaimer": "4. ‰øùË®º„ÅÆÂê¶Ë™ç",
        "terms.disclaimerText1": "Êú¨„Çµ„Éº„Éì„Çπ„ÅØ„ÄÅ„ÄåÁèæÁä∂ÊúâÂßø„Äç„Åä„Çà„Å≥„ÄåÂà©Áî®ÂèØËÉΩ„Å™Áä∂ÊÖã„Äç„ÅßÊèê‰æõ„Åï„Çå„ÄÅÊòéÁ§∫ÁöÑ„Åæ„Åü„ÅØÈªôÁ§∫ÁöÑ„ÇíÂïè„Çè„Åö„ÄÅ„ÅÑ„Åã„Å™„ÇãÁ®ÆÈ°û„ÅÆ‰øùË®º„ÇÇË°å„ÅÑ„Åæ„Åõ„Çì„ÄÇ",
        "terms.limitationOfLiability": "5. Ë≤¨‰ªª„ÅÆÂà∂Èôê",
        "terms.limitationOfLiabilityText1": "„ÅÑ„Åã„Å™„ÇãÂ†¥Âêà„ÇÇ„ÄÅ[Ë≤¥Á§æÂêç/AI Outfit for Today]„ÅØ„ÄÅ„ÅäÂÆ¢Êßò„ÅÆÊú¨„Çµ„Éº„Éì„Çπ„ÅÆ„ÅîÂà©Áî®„Å´Ëµ∑Âõ†„Åæ„Åü„ÅØÈñ¢ÈÄ£„Åô„ÇãÈñìÊé•ÁöÑ„ÄÅÂÅ∂Áô∫ÁöÑ„ÄÅÁâπÂà•„ÄÅÁµêÊûúÁöÑ„ÄÅ„Åæ„Åü„ÅØÊá≤ÁΩ∞ÁöÑÊêçÂÆ≥„Å´„Å§„ÅÑ„Å¶Ë≤¨‰ªª„ÇíË≤†„Çè„Å™„ÅÑ„ÇÇ„ÅÆ„Å®„Åó„Åæ„Åô„ÄÇ",
        "terms.changes": "6. Ë¶èÁ¥Ñ„ÅÆÂ§âÊõ¥",
        "terms.changesText1": "ÂΩìÁ§æ„ÅØ„ÄÅÊú¨Ë¶èÁ¥Ñ„Çí„ÅÑ„Å§„Åß„ÇÇÂ§âÊõ¥„Åæ„Åü„ÅØÁΩÆÊèõ„Åô„ÇãÊ®©Âà©„ÇíÁïô‰øù„Åó„Åæ„Åô„ÄÇ„Åã„Åã„ÇãÂ§âÊõ¥Âæå„ÇÇÊú¨„Çµ„Éº„Éì„Çπ„ÇíÁ∂ôÁ∂ö„Åó„Å¶Âà©Áî®„Åô„Çã„Åì„Å®„Å´„Çà„Çä„ÄÅ„ÅäÂÆ¢Êßò„ÅØÊñ∞„Åó„ÅÑË¶èÁ¥Ñ„Å´ÂêåÊÑè„Åó„Åü„ÇÇ„ÅÆ„Å®„Åø„Å™„Åï„Çå„Åæ„Åô„ÄÇ",
        "terms.contact": "7. „ÅäÂïè„ÅÑÂêà„Çè„Åõ",
        "terms.contactText1": "Êú¨Ë¶èÁ¥Ñ„Å´Èñ¢„Åô„Çã„ÅîË≥™Âïè„ÅØ„ÄÅkising26903854@gmail.com„Åæ„Åß„ÅäÂïè„ÅÑÂêà„Çè„Åõ„Åè„Å†„Åï„ÅÑ„ÄÇ",
        "howItWorks.title": "‰ªïÁµÑ„Åø",
        "howItWorks.steps.location.title": "Ëá™Âãï‰ΩçÁΩÆÊÉÖÂ†±",
        "howItWorks.steps.location.description": "Ê≠£Á¢∫„Å™ÁèæÂú∞„ÅÆÂ§©Ê∞ó„Éá„Éº„Çø„ÇíÂèñÂæó„Åô„Çã„Åü„ÇÅ„Å´„ÄÅËá™ÂãïÁöÑ„Å´„ÅäÂÆ¢Êßò„ÅÆ‰ΩçÁΩÆÊÉÖÂ†±„ÇíÊ§úÂá∫„Åó„Åæ„Åô",
        "howItWorks.steps.weather.title": "Â§©Ê∞óÂàÜÊûê",
        "howItWorks.steps.weather.description": "Ê∞óÊ∏©„ÄÅÊπøÂ∫¶„ÄÅÊ∞óË±°Êù°‰ª∂„ÇíÂê´„ÇÄ„É™„Ç¢„É´„Çø„Ç§„É†„ÅÆÂ§©Ê∞óÊÉÖÂ†±„ÇíÊèê‰æõ„Åó„Åæ„Åô",
        "howItWorks.steps.ai.title": "AI„É¨„Ç≥„É°„É≥„Éá„Éº„Ç∑„Éß„É≥",
        "howItWorks.steps.ai.description": "„Çπ„Éû„Éº„Éà„Å™„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÅåÁèæÂú®„ÅÆÂ§©Ê∞ó„Å´„Å¥„Å£„Åü„Çä„ÅÆ„Ç≥„Éº„Éá„ÇíÊèêÊ°à„Åó„Åæ„Åô",
        "howItWorks.steps.visual.title": "Ë¶ñË¶öÁîüÊàê",
        "howItWorks.steps.visual.description": "„Åä„Åô„Åô„ÇÅ„ÅÆ„Ç≥„Éº„Éá„ÅÆÁ¥†Êô¥„Çâ„Åó„ÅÑAIÁîªÂÉè„ÇíÂç≥Â∫ß„Å´ÁîüÊàê„Åó„Åæ„Åô",
        "trends.pageTitle": "ÊúÄÊñ∞„Éà„É¨„É≥„Éâ - ‰ªäÊó•„ÅÆAI„Ç≥„Éº„Éá",
        "trends.headerTitle": "ÊúÄÊñ∞„Éà„É¨„É≥„Éâ",
        "trends.headerSubtitle": "AI„ÇíÊ¥ªÁî®„Åó„ÅüÊúÄÊñ∞„ÅÆ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Éª„Éà„É¨„É≥„Éâ„ÇíÁô∫Ë¶ã„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ",
        "trends.sectionTitle": "ÊúÄÊñ∞„ÅÆ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Éà„É¨„É≥„Éâ",
        "trends.introText": "ÊúÄÊñ∞„ÅÆ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Éà„É¨„É≥„Éâ„Å´Èñ¢„Åô„ÇãÊ¥ûÂØü„ÇíÂæó„Å¶„ÄÅÊµÅË°å„ÅÆÊúÄÂÖàÁ´Ø„ÇíË°å„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇÂΩìÁ§æ„ÅÆAI„ÅØËÜ®Â§ß„Å™„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø„ÇíÂàÜÊûê„Åó„ÄÅÊó¨„ÅÆ‰∫àÊ∏¨„Å®„Éè„Ç§„É©„Ç§„Éà„Çí„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ",
        "trends.trend1Title": "1. „Çµ„Çπ„ÉÜ„Éä„Éñ„É´ÔºÜ„Ç®„Ç≥ÂøóÂêë„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥",
        "trends.trend1Text": "Áí∞Â¢É„Å´ÂÑ™„Åó„ÅÑË°£ÊñôÂìÅ„Å∏„ÅÆÈúÄË¶Å„ÅØÂºï„ÅçÁ∂ö„ÅçÈ´ò„Åæ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÂ§©ÁÑ∂ÁπäÁ∂≠„ÄÅ„É™„Çµ„Ç§„ÇØ„É´Á¥†Êùê„ÄÅÈÄèÊòéÊÄß„ÅÆ„ÅÇ„Çã„Çµ„Éó„É©„Ç§„ÉÅ„Çß„Éº„É≥„Å´Ê≥®ÁõÆ„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ",
        "trends.trend2Title": "2. Âø´ÈÅ©ÊÄßÈáçË¶ñ„ÅÆ„Ç¢„Çπ„É¨„Ç∏„É£„Éº",
        "trends.trend2Text": "Âø´ÈÅ©ÊÄß„ÅØ‰æùÁÑ∂„Å®„Åó„Å¶ÈáçË¶Å„Åß„ÅÇ„Çä„ÄÅ„Ç¢„Çπ„É¨„Ç∏„É£„Éº„Ç¶„Çß„Ç¢„ÅØÊßò„ÄÖ„Å™„Ç´„Ç∏„É•„Ç¢„É´„Å™Â†¥Èù¢„Å´ÈÅ©„Åó„ÅüÊ¥óÁ∑¥„Åï„Çå„Åü„Éá„Ç∂„Ç§„É≥„Å∏„Å®ÈÄ≤Âåñ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
        "trends.trend3Title": "3. Â§ßËÉÜ„Å™Ëâ≤„Å®„Çπ„ÉÜ„Éº„Éà„É°„É≥„Éà„Éî„Éº„Çπ",
        "trends.trend3Text": "Êéß„Åà„ÇÅ„Å™„Éà„Éº„É≥„ÅÆÊôÇ‰ª£„ÇíÁµå„Å¶„ÄÅÈÆÆ„ÇÑ„Åã„Å™Ëâ≤„ÇÑ„É¶„Éã„Éº„ÇØ„ÅßÁõÆ„ÇíÂºï„Åè„Çπ„ÉÜ„Éº„Éà„É°„É≥„Éà„Éî„Éº„Çπ„ÅåÂÜçÁáÉ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
        "trends.trend4Title": "4. „Ç∏„Çß„É≥„ÉÄ„Éº„Éã„É•„Éº„Éà„É©„É´„Ç¢„Éë„É¨„É´",
        "trends.trend4Text": "„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„ÅØ„Åæ„Åô„Åæ„ÅôÂåÖÊã¨ÁöÑ„Å´„Å™„Çä„ÄÅ„Çà„ÇäÂ§ö„Åè„ÅÆ„Éñ„É©„É≥„Éâ„ÅåÂæìÊù•„ÅÆË¶èÁØÑ„Å´ÊåëÊà¶„Åô„Çã„Ç∏„Çß„É≥„ÉÄ„Éº„Éã„É•„Éº„Éà„É©„É´„Å™„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥„ÇíÊèê‰æõ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
        "trends.trend5Title": "5. „É¥„Ç£„É≥„ÉÜ„Éº„Ç∏ÔºÜ„É¨„Éà„É≠„É™„Éê„Ç§„Éê„É´",
        "trends.trend5Text": "„Éé„Çπ„Çø„É´„Ç∏„Ç¢„ÅåÂ§ß„Åç„Å™ÂΩπÂâ≤„ÇíÊûú„Åü„Åó„Å¶„Åä„Çä„ÄÅÁâπ„Å´70Âπ¥‰ª£„ÄÅ90Âπ¥‰ª£„ÄÅ2000Âπ¥‰ª£ÂàùÈ†≠„Å™„Å©„ÄÅÈÅéÂéªÊï∞ÂçÅÂπ¥„ÅÆ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Åã„Çâ„Ç§„É≥„Çπ„Éî„É¨„Éº„Ç∑„Éß„É≥„ÇíÂæó„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
    },
    zh: {
        "app.title": "‰ªäÊó•AIÁ©øÊê≠",
        "app.subtitle": "ÊÇ®ÁöÑAIÈ©±Âä®Êó∂Â∞öÂä©ÊâãÔºåÂ∫îÂØπ‰ªª‰ΩïÂ§©Ê∞î",
        "header.likedOutfits": "Â∑≤ËµûÁ©øÊê≠",
        "main.heading": "Ëé∑ÂèñÊÇ®ÁöÑÁ©øÊê≠Êé®Ëçê",
        "main.subheading": "ÈÄâÊã©ÊÇ®ÁöÑÂÅèÂ•ΩÔºåÊ†πÊçÆÂΩìÂâçÂ§©Ê∞îËé∑Âèñ‰∏™ÊÄßÂåñÁ©øÊê≠„ÄÇ",
        "gender.title": "1. ÈÄâÊã©ÊÄßÂà´",
        "gender.female": "Â•≥ÊÄß",
        "gender.male": "Áî∑ÊÄß",
        "style.title": "2. ÈÄâÊã©È£éÊ†º",
        "style.casual": "‰ºëÈó≤",
        "style.business": "ÂïÜÂä°",
        "style.date": "Á∫¶‰ºö",
        "weather.title": "ÂΩìÂâçÂ§©Ê∞î‰∏é‰ΩçÁΩÆ",
        "outfit.title": "ÊÇ®ÁöÑAIÁîüÊàêÁ©øÊê≠Êé®Ëçê",
        "outfit.summary": "ÊÄªÁªì",
        "outfit.clothing": "ÊúçË£Ö",
        "outfit.footwear": "ÈûãÁ±ª",
        "outfit.accessories": "ÈÖçÈ•∞",
        "outfit.promptTitle": "AIÂõæÂÉèÊèêÁ§∫",
        "outfit.promptGenerating": "Ê≠£Âú®‰∏∫AIÂõæÂÉèÂàõÂª∫ÁîüÊàêËØ¶ÁªÜÁöÑÁ©øÊê≠ÊèèËø∞...",
        "outfit.generateImage": "ÁîüÊàêAIÁ©øÊê≠ÂõæÁâá",
        "outfit.loadingImage": "Ê≠£Âú®ÁîüÊàêÂõæÁâá...",
        "outfit.imageDisclaimer": "AIÁîüÊàêÂõæÁâá‰ªÖ‰æõÂèØËßÜÂåñ„ÄÇÁ©øÊê≠‰∏∫Êé®Ëçê„ÄÇ",
        "products.title": "Êé®ËçêÂïÜÂìÅ",
        "products.noProducts": "ÊöÇÊó†ÂïÜÂìÅÊé®Ëçê - ÊòæÁ§∫ÊµãËØïÂïÜÂìÅ„ÄÇ",
        "liked.title": "ÊÇ®ÂñúÊ¨¢ÁöÑÁ©øÊê≠",
        "liked.noImages": "ËøòÊ≤°ÊúâÂñúÊ¨¢ÁöÑÂõæÁâá„ÄÇÂú®‰∏ªÈ°µÁîüÊàêÂπ∂ÁÇπËµû‰∏Ä‰∫õÁ©øÊê≠ÂêßÔºÅ",
        "footer.copy": "¬© 2023 ‰ªäÊó•AIÁ©øÊê≠. ‰øùÁïôÊâÄÊúâÊùÉÂà©.",
        "privacy.link": "ÈöêÁßÅÊîøÁ≠ñ",
        "terms.link": "ÊúçÂä°Êù°Ê¨æ",
        "privacy.title": "ÈöêÁßÅÊîøÁ≠ñ",
        "privacy.introduction": "Êú¨ÈöêÁßÅÊîøÁ≠ñÊèèËø∞‰∫Ü [ÊÇ®ÁöÑÂÖ¨Âè∏ÂêçÁß∞/AI Outfit for Today]ÔºàÊú¨Êñá‰∏≠ÁÆÄÁß∞\"Êàë‰ª¨\"ÔºâÂ¶Ç‰ΩïÊî∂ÈõÜ„ÄÅ‰ΩøÁî®ÂíåÊä´Èú≤ÊÇ®Âú®‰ΩøÁî® AI Outfit for Today ÁΩëÁ´ôÂíåÊúçÂä°Ôºà\"ÊúçÂä°\"ÔºâÊó∂Êèê‰æõÁöÑ‰ø°ÊÅØ„ÄÇ",
        "privacy.infoCollection": "Êàë‰ª¨Êî∂ÈõÜÁöÑ‰ø°ÊÅØ",
        "privacy.infoCollectionText1": "ÂΩìÊÇ®‰ΩøÁî®Êàë‰ª¨ÁöÑÊúçÂä°Êó∂ÔºåÊàë‰ª¨‰ºöÊî∂ÈõÜÊÇ®Áõ¥Êé•Êèê‰æõÁªôÊàë‰ª¨ÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇÊÇ®ÂØπÁ©øÊê≠Êé®ËçêÁöÑÊÄßÂà´ÂíåÈ£éÊ†ºÂÅèÂ•Ω„ÄÇ",
        "privacy.infoCollectionText2": "ÂΩìÊÇ®‰ΩøÁî®Êàë‰ª¨ÁöÑÊúçÂä°Êó∂ÔºåÊàë‰ª¨ÂèØËÉΩ‰ºöËá™Âä®Êî∂ÈõÜÊúâÂÖ≥ÊÇ®ËÆæÂ§áÁöÑÊüê‰∫õ‰ø°ÊÅØÔºåÂåÖÊã¨ÊÇ®ÁöÑIPÂú∞ÂùÄ„ÄÅÊµèËßàÂô®Á±ªÂûã„ÄÅÊìç‰ΩúÁ≥ªÁªüÂíåÂú∞ÁêÜ‰ΩçÁΩÆÔºàÊ†πÊçÆÊÇ®ÁöÑIPÂú∞ÂùÄÊàñÊµèËßàÂô®ÁöÑÂú∞ÁêÜÂÆö‰ΩçÊúçÂä°ÔºåÂ¶ÇÊûúÂêØÁî®Ôºâ„ÄÇÊ≠§‰ø°ÊÅØÁî®‰∫éÊèê‰æõÊú¨Âú∞ÂåñÂ§©Ê∞îÊï∞ÊçÆÂíåÊîπËøõÊàë‰ª¨ÁöÑÊúçÂä°„ÄÇ",
        "privacy.infoUsage": "Êàë‰ª¨Â¶Ç‰Ωï‰ΩøÁî®ÊÇ®ÁöÑ‰ø°ÊÅØ",
        "privacy.infoUsageText1": "Êèê‰æõÂíåÁª¥Êä§Êàë‰ª¨ÁöÑÊúçÂä°ÔºåÂåÖÊã¨Á©øÊê≠Êé®ËçêÂíåÂ§©Ê∞îÊï∞ÊçÆ„ÄÇ",
        "privacy.infoUsageText2": "ÊîπËøõ„ÄÅ‰∏™ÊÄßÂåñÂíåÊâ©Â±ïÊàë‰ª¨ÁöÑÊúçÂä°„ÄÇ",
        "privacy.infoSharing": "Êàë‰ª¨Â¶Ç‰ΩïÂÖ±‰∫´ÊÇ®ÁöÑ‰ø°ÊÅØ",
        "privacy.infoSharingText1": "Êàë‰ª¨‰∏ç‰ºöÂá∫ÂîÆ„ÄÅÂá∫ÁßüÊàñ‰ª•ÂÖ∂‰ªñÊñπÂºèÂ∞ÜÊÇ®ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÂÖ±‰∫´ÁªôÁ¨¨‰∏âÊñπÁî®‰∫éÂÖ∂Áõ¥Êé•Ëê•ÈîÄÁõÆÁöÑ„ÄÇ",
        "privacy.infoSharingText2": "Êàë‰ª¨ÂèØËÉΩ‰ºö‰∏éÁ¨¨‰∏âÊñπÂÖ±‰∫´Èùû‰∏™‰∫∫Ë∫´‰ªΩ‰ø°ÊÅØÔºà‰æãÂ¶ÇÊ±áÊÄª‰ΩøÁî®Êï∞ÊçÆÔºâÔºåÁî®‰∫éÂàÜÊûê„ÄÅÁ†îÁ©∂ÊàñÁ±ª‰ººÁõÆÁöÑ„ÄÇ",
        "privacy.dataStorage": "Êï∞ÊçÆÂ≠òÂÇ®ÂíåÂÆâÂÖ®",
        "privacy.dataStorageText1": "Êàë‰ª¨‰ΩøÁî®ÂÆ¢Êà∑Á´ØÂ≠òÂÇ®Ôºà‰æãÂ¶Ç LocalStorage„ÄÅIndexedDBÔºâÊù•Â≠òÂÇ®ÊÇ®ÁöÑËØ≠Ë®ÄÂÅèÂ•ΩÂíåÂñúÊ¨¢ÁöÑÁ©øÊê≠„ÄÇÊ≠§Êï∞ÊçÆÂ≠òÂÇ®Âú®ÊÇ®ÁöÑËÆæÂ§á‰∏äÔºå‰∏ç‰ºö‰º†ËæìÂà∞Êàë‰ª¨ÁöÑÊúçÂä°Âô®„ÄÇ",
        "privacy.changes": "Êú¨ÈöêÁßÅÊîøÁ≠ñÁöÑÂèòÊõ¥",
        "privacy.changesText1": "Êàë‰ª¨ÂèØËÉΩ‰ºö‰∏çÊó∂Êõ¥Êñ∞Êàë‰ª¨ÁöÑÈöêÁßÅÊîøÁ≠ñ„ÄÇÊàë‰ª¨Â∞ÜÈÄöËøáÂú®Ê≠§È°µÈù¢‰∏äÂèëÂ∏ÉÊñ∞ÁöÑÈöêÁßÅÊîøÁ≠ñÊù•ÈÄöÁü•ÊÇ®‰ªª‰ΩïÊõ¥Êîπ„ÄÇ",
        "privacy.contact": "ËÅîÁ≥ªÊàë‰ª¨",
        "privacy.contactText1": "Â¶ÇÊûúÊÇ®ÂØπÊú¨ÈöêÁßÅÊîøÁ≠ñÊúâ‰ªª‰ΩïÁñëÈóÆÔºåËØ∑ÈÄöËøá kising26903854@gmail.com ËÅîÁ≥ªÊàë‰ª¨„ÄÇ",
        "terms.title": "ÊúçÂä°Êù°Ê¨æ",
        "terms.introduction": "Ê¨¢ËøéÊù•Âà∞ AI Outfit for Today„ÄÇÊú¨ÊúçÂä°Êù°Ê¨æÔºà\"Êù°Ê¨æ\"ÔºâÁ∫¶ÊùüÊÇ®ÂØπ AI Outfit for Today ÁΩëÁ´ôÂíåÊúçÂä°Ôºà\"ÊúçÂä°\"ÔºâÁöÑ‰ΩøÁî®„ÄÇÈÄöËøáËÆøÈóÆÊàñ‰ΩøÁî®Êú¨ÊúçÂä°ÔºåÂç≥Ë°®Á§∫ÊÇ®ÂêåÊÑèÂèóÊú¨Êù°Ê¨æÁöÑÁ∫¶Êùü„ÄÇ",
        "terms.useOfService": "1. ÊúçÂä°‰ΩøÁî®",
        "terms.useOfServiceText1": "Êú¨ÊúçÂä°Êèê‰æõÂü∫‰∫éÂ§©Ê∞îÊï∞ÊçÆÂíåÁî®Êà∑ÂÅèÂ•ΩÁöÑAIÁîüÊàêÁ©øÊê≠Êé®Ëçê„ÄÇÁ©øÊê≠ÂõæÁâá‰ªÖ‰æõÂèØËßÜÂåñÁõÆÁöÑÔºåÁî±Á¨¨‰∏âÊñπAIÂõæÁâáÊúçÂä°ÁîüÊàê„ÄÇ",
        "terms.userConduct": "2. Áî®Êà∑Ë°å‰∏∫",
        "terms.userConductText1": "ÊÇ®ÂêåÊÑè‰∏çÂ∞ÜÊú¨ÊúçÂä°Áî®‰∫é‰ªª‰ΩïÈùûÊ≥ïÊàñË¢´Á¶ÅÊ≠¢ÁöÑÊ¥ªÂä®„ÄÇ",
        "terms.intellectualProperty": "3. Áü•ËØÜ‰∫ßÊùÉ",
        "terms.intellectualPropertyText1": "Êú¨ÊúçÂä°‰∏äÁöÑÊâÄÊúâÂÜÖÂÆπ„ÄÅÂïÜÊ†áÂíåÁü•ËØÜ‰∫ßÊùÉÂùáÂΩíÂ±û‰∫é [ÊÇ®ÁöÑÂÖ¨Âè∏ÂêçÁß∞/AI Outfit for Today] ÊàñÂÖ∂ËÆ∏ÂèØÊñπ„ÄÇÊú™Áªè‰∫ãÂÖà‰π¶Èù¢ËÆ∏ÂèØÔºåÊÇ®‰∏çÂæó‰ΩøÁî®Êú¨ÊúçÂä°‰∏≠ÁöÑ‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ",
        "terms.disclaimer": "4. ÂÖçË¥£Â£∞Êòé",
        "terms.disclaimerText1": "Êú¨ÊúçÂä°Êåâ\"ÂéüÊ†∑\"Âíå\"Áé∞Êúâ\"Âü∫Á°ÄÊèê‰æõÔºå‰∏çÊèê‰æõ‰ªª‰ΩïÊòéÁ§∫ÊàñÊöóÁ§∫ÁöÑ‰øùËØÅ„ÄÇ",
        "terms.limitationOfLiability": "5. Ë¥£‰ªªÈôêÂà∂",
        "terms.limitationOfLiabilityText1": "Âú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÔºå[ÊÇ®ÁöÑÂÖ¨Âè∏ÂêçÁß∞/AI Outfit for Today] Âùá‰∏çÂØπÂõ†ÊÇ®‰ΩøÁî®Êú¨ÊúçÂä°ËÄåÂºïËµ∑Êàñ‰∏é‰ΩøÁî®Êú¨ÊúçÂä°Áõ∏ÂÖ≥ÁöÑ‰ªª‰ΩïÈó¥Êé•„ÄÅÂÅ∂ÁÑ∂„ÄÅÁâπÊÆä„ÄÅÂêéÊûúÊÄßÊàñÊÉ©ÁΩöÊÄßÊçüÂÆ≥ÊâøÊãÖË¥£‰ªª„ÄÇ",
        "terms.changes": "6. Êù°Ê¨æÂèòÊõ¥",
        "terms.changesText1": "Êàë‰ª¨‰øùÁïôÈöèÊó∂‰øÆÊîπÊàñÊõøÊç¢Ëøô‰∫õÊù°Ê¨æÁöÑÊùÉÂà©„ÄÇÊÇ®Âú®‰ªª‰ΩïÊ≠§Á±ªÊõ¥ÊîπÂêéÁªßÁª≠‰ΩøÁî®Êú¨ÊúçÂä°Âç≥Ë°®Á§∫ÊÇ®Êé•ÂèóÊñ∞ÁöÑÊù°Ê¨æ„ÄÇ",
        "terms.contact": "7. ËÅîÁ≥ª‰ø°ÊÅØ",
        "terms.contactText1": "Â¶ÇÊûúÊÇ®ÂØπÊú¨Êù°Ê¨æÊúâ‰ªª‰ΩïÁñëÈóÆÔºåËØ∑ÈÄöËøá kising26903854@gmail.com ËÅîÁ≥ªÊàë‰ª¨„ÄÇ",
        "howItWorks.title": "Â∑•‰ΩúÂéüÁêÜ",
        "howItWorks.steps.location.title": "Ëá™Âä®ÂÆö‰Ωç",
        "howItWorks.steps.location.description": "Êàë‰ª¨Ëá™Âä®Ê£ÄÊµãÊÇ®ÁöÑ‰ΩçÁΩÆ‰ª•Ëé∑ÂèñÂáÜÁ°ÆÁöÑÊú¨Âú∞Â§©Ê∞îÊï∞ÊçÆ",
        "howItWorks.steps.weather.title": "Â§©Ê∞îÂàÜÊûê",
        "howItWorks.steps.weather.description": "Êèê‰æõÂåÖÊã¨Ê∏©Â∫¶„ÄÅÊπøÂ∫¶ÂíåÂ§©Ê∞îÊù°‰ª∂Âú®ÂÜÖÁöÑÂÆûÊó∂Â§©Ê∞î‰ø°ÊÅØ",
        "howItWorks.steps.ai.title": "AIÊé®Ëçê",
        "howItWorks.steps.ai.description": "Êô∫ËÉΩÁÆóÊ≥ïÊ†πÊçÆÂΩìÂâçÂ§©Ê∞îÊé®ËçêÂÆåÁæéÁöÑÁ©øÊê≠",
        "howItWorks.steps.visual.title": "ËßÜËßâÁîüÊàê",
        "howItWorks.steps.visual.description": "Âç≥Êó∂ÁîüÊàêÊÇ®Êé®ËçêÁ©øÊê≠ÁöÑÁ≤æÁæéAIÂõæÁâá",
        "trends.pageTitle": "ÊúÄÊñ∞Ë∂ãÂäø - ‰ªäÊó•AIÁ©øÊê≠",
        "trends.headerTitle": "ÊúÄÊñ∞Ë∂ãÂäø",
        "trends.headerSubtitle": "Êé¢Á¥¢Áî±AIÈ©±Âä®ÁöÑÊúÄÊñ∞Êó∂Â∞öË∂ãÂäø„ÄÇ",
        "trends.sectionTitle": "Êñ∞ÂÖ¥Êó∂Â∞öË∂ãÂäø",
        "trends.introText": "ÈÄöËøáÂØπÊúÄÊñ∞Êó∂Â∞öË∂ãÂäøÁöÑÊ¥ûÂØüÔºå‰øùÊåÅÈ¢ÜÂÖà„ÄÇÊàë‰ª¨ÁöÑAIÂàÜÊûêÊµ∑ÈáèÊó∂Â∞öÊï∞ÊçÆÔºå‰∏∫ÊÇ®Â∏¶Êù•ÁÉ≠Èó®È¢ÑÊµãÂíå‰∫ÆÁÇπ„ÄÇ",
        "trends.trend1Title": "1. ÂèØÊåÅÁª≠ÂíåÁéØ‰øùÊó∂Â∞ö",
        "trends.trend1Text": "ÂØπÁéØ‰øùÊúçË£ÖÁöÑÈúÄÊ±ÇÊåÅÁª≠Â¢ûÈïø„ÄÇÂÖ≥Ê≥®Â§©ÁÑ∂Á∫§Áª¥„ÄÅÂõûÊî∂ÊùêÊñôÂíåÈÄèÊòéÁöÑ‰æõÂ∫îÈìæ„ÄÇ",
        "trends.trend2Title": "2. ËàíÈÄÇËá≥‰∏äÁöÑËøêÂä®‰ºëÈó≤",
        "trends.trend2Text": "ËàíÈÄÇÊÄß‰æùÁÑ∂ÊòØÂÖ≥ÈîÆÔºåËøêÂä®‰ºëÈó≤ÊúçÈ•∞Ê≠£Âú®ÊºîÂèò‰∏∫ÈÄÇÂêàÂêÑÁßç‰ºëÈó≤Âú∫ÂêàÁöÑÊõ¥Á≤æËá¥ËÆæËÆ°„ÄÇ",
        "trends.trend3Title": "3. Â§ßËÉÜËâ≤ÂΩ©‰∏é‰∏™ÊÄßÂçïÂìÅ",
        "trends.trend3Text": "Âú®ÁªèÂéÜ‰∫Ü‰∏ÄÊÆµÊüîÂíåËâ≤Ë∞ÉÁöÑÊó∂ÊúüÂêéÔºåÈ≤úËâ≥ÁöÑËâ≤ÂΩ©ÂíåÁã¨Áâπ„ÄÅÂºï‰∫∫Ê≥®ÁõÆÁöÑ‰∏™ÊÄßÂçïÂìÅÊ≠£Âú®Âç∑ÂúüÈáçÊù•„ÄÇ",
        "trends.trend4Title": "4. Êó†ÊÄßÂà´ÊúçË£Ö",
        "trends.trend4Text": "Êó∂Â∞öÊ≠£ÂèòÂæóË∂äÊù•Ë∂äÂåÖÂÆπÔºåË∂äÊù•Ë∂äÂ§öÁöÑÂìÅÁâåÊèê‰æõÊåëÊàò‰º†ÁªüËßÑËåÉÁöÑÊó†ÊÄßÂà´Á≥ªÂàó„ÄÇ",
        "trends.trend5Title": "5. Â§çÂè§ÊΩÆÊµÅÂõûÂΩí",
        "trends.trend5Text": "ÊÄÄÊóßÊÉÖÁªìÊâÆÊºîÁùÄÈáçË¶ÅËßíËâ≤ÔºåÊó∂Â∞ö‰ªéËøáÂéªÁöÑÂá†ÂçÅÂπ¥‰∏≠Ê±≤ÂèñÁÅµÊÑüÔºåÂ∞§ÂÖ∂ÊòØ70Âπ¥‰ª£„ÄÅ90Âπ¥‰ª£Âíå2000Âπ¥‰ª£ÂàùÊúü„ÄÇ"
    }
};

// Function to apply translations
function applyTranslations(lang) {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.dataset.i18n;
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        } else if (translations.en[key]) {
            // Fallback to English if translation not found for selected language
            element.textContent = translations.en[key];
        }
    });
}

// Global state
let appState = {
    currentWeather: null,
    currentLocation: null,
    outfitPrompt: '',
    selectedGender: 'female', // Default to female
    selectedStyle: 'casual', // Default to casual
    recommendedProducts: [],
    isLoading: false,
    steps: {
        location: false,
        weather: false,
        outfit: false,
        image: false
    }
};

// IndexedDB setup
const DB_NAME = 'AIOutfitDB';
const DB_VERSION = 1;
const STORE_NAME = 'likedOutfits';
let db;

async function openIndexedDB() {
    if (db && db.readyState === 'open') {
        console.log('IndexedDB: Connection already open, reusing.');
        return db;
    }

    return new Promise((resolve, reject) => {
        const request = indexedDB.open(DB_NAME, DB_VERSION);

        request.onupgradeneeded = (event) => {
            db = event.target.result;
            if (!db.objectStoreNames.contains(STORE_NAME)) {
                const objectStore = db.createObjectStore(STORE_NAME, { keyPath: 'id' });
                objectStore.createIndex('timestamp', 'timestamp', { unique: false });
                console.log('IndexedDB: Object store created');
            }
        };

        request.onsuccess = (event) => {
            db = event.target.result;
            console.log('IndexedDB: Database opened successfully');
            resolve(db);
        };

        request.onerror = (event) => {
            console.error('IndexedDB: Database error:', event.target.errorCode);
            reject(event.target.error);
        };
    });
}

async function saveLikedOutfit(outfitData) {
    await openIndexedDB(); // Ensure DB is open before transaction

    if (!db) {
        console.error('IndexedDB not initialized after opening attempt.');
        return;
    }

    const transaction = db.transaction([STORE_NAME], 'readwrite');
    const store = transaction.objectStore(STORE_NAME);

    // Generate a unique ID for the outfit
    outfitData.id = `outfit-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;
    outfitData.timestamp = Date.now();

    const request = store.add(outfitData);

    return new Promise((resolve, reject) => {
        request.onsuccess = () => {
            console.log('IndexedDB: Outfit saved successfully:', outfitData.id);
            resolve(outfitData);
        };
        request.onerror = (event) => {
            console.error('IndexedDB: Error saving outfit:', event.target.error);
            reject(event.target.error);
        };
    });
}

async function getLikedOutfits() {
    await openIndexedDB(); // Ensure DB is open before transaction

    if (!db) {
        console.error('IndexedDB not initialized after opening attempt.');
        return [];
    }

    const transaction = db.transaction([STORE_NAME], 'readonly');
    const store = transaction.objectStore(STORE_NAME);
    const request = store.getAll();

    return new Promise((resolve, reject) => {
        request.onsuccess = () => {
            console.log('IndexedDB: Liked outfits retrieved:', request.result);
            resolve(request.result);
        };
        request.onerror = (event) => {
            console.error('IndexedDB: Error getting liked outfits:', event.target.error);
            reject(event.target.error);
        };
    });
}

async function deleteLikedOutfit(id) {
    await openIndexedDB(); // Ensure DB is open before transaction

    if (!db) {
        console.error('IndexedDB not initialized after opening attempt.');
        return;
    }

    const transaction = db.transaction([STORE_NAME], 'readwrite');
    const store = transaction.objectStore(STORE_NAME);
    const request = store.delete(id);

    return new Promise((resolve, reject) => {
        request.onsuccess = () => {
            console.log('IndexedDB: Outfit deleted successfully:', id);
            resolve();
        };
        request.onerror = (event) => {
            console.error('IndexedDB: Error deleting outfit:', event.target.error);
            reject(event.target.error);
        };
    });
}

// Amazon Affiliate Product Database
const AMAZON_PRODUCTS = {
    // Women's Clothing
    female: {
        winter_coat: {
            name: "Women's Winter Puffer Coat",
            price: "$89.99",
            image: "https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/women-winter-coat",
            category: "outerwear"
        },
        spring_jacket: {
            name: "Lightweight Spring Jacket",
            price: "$49.99",
            image: "https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/women-spring-jacket",
            category: "outerwear"
        },
        summer_blouse: {
            name: "Flowy Summer Blouse",
            price: "$29.99",
            image: "https://images.unsplash.com/photo-1620799140408-edc6dcb6d633?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/women-summer-blouse",
            category: "tops"
        },
        jeans: {
            name: "High-Waisted Skinny Jeans",
            price: "$39.99",
            image: "https://images.unsplash.com/photo-1582418702059-97ebafb35d09?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/women-jeans",
            category: "bottoms"
        },
        ankle_boots: {
            name: "Stylish Ankle Boots",
            price: "$69.99",
            image: "https://images.unsplash.com/photo-1543163521-1bf539c55dd2?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/women-ankle-boots",
            category: "shoes"
        },
        sandals: {
            name: "Comfortable Summer Sandals",
            price: "$34.99",
            image: "https://images.unsplash.com/photo-1603808033192-082d6919d3e1?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/women-sandals",
            category: "shoes"
        },
        umbrella: {
            name: "Compact Travel Umbrella",
            price: "$19.99",
            image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/compact-umbrella",
            category: "accessories"
        },
        sunglasses: {
            name: "Trendy Sunglasses",
            price: "$24.99",
            image: "https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/women-sunglasses",
            category: "accessories"
        }
    },
    // Men's Clothing
    male: {
        winter_jacket: {
            name: "Men's Winter Parka",
            price: "$99.99",
            image: "https://images.unsplash.com/photo-1551028719-00167b16eac5?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-winter-parka",
            category: "outerwear"
        },
        casual_jacket: {
            name: "Casual Spring Jacket",
            price: "$59.99",
            image: "https://images.unsplash.com/photo-1594938298603-c8148c4dae35?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-casual-jacket",
            category: "outerwear"
        },
        polo_shirt: {
            name: "Classic Polo Shirt",
            price: "$24.99",
            image: "https://images.unsplash.com/photo-1586790170083-2f9ceadc732d?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-polo-shirt",
            category: "tops"
        },
        chinos: {
            name: "Slim Fit Chino Pants",
            price: "$34.99",
            image: "https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-chinos",
            category: "bottoms"
        },
        sneakers: {
            name: "Casual Sneakers",
            price: "$79.99",
            image: "https://images.unsplash.com/photo-1549298916-b41d501d3772?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-sneakers",
            category: "shoes"
        },
        boat_shoes: {
            name: "Classic Boat Shoes",
            price: "$54.99",
            image: "https://images.unsplash.com/photo-1560769629-975ec94e6a86?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-boat-shoes",
            category: "shoes"
        },
        cap: {
            name: "Baseball Cap",
            price: "$18.99",
            image: "https://images.unsplash.com/photo-1588850561407-ed78c282e89b?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-baseball-cap",
            category: "accessories"
        },
        sunglasses: {
            name: "Classic Aviator Sunglasses",
            price: "$29.99",
            image: "https://images.unsplash.com/photo-1473496169904-658ba7c44d8a?w=300&h=300&fit=crop",
            affiliate: "https://amzn.to/men-sunglasses",
            category: "accessories"
        }
    }
};

// Weather code mappings for global use
const WEATHER_CODES = {
    0: { icon: '‚òÄÔ∏è', condition: 'Clear sky', severity: 'mild' },
    1: { icon: 'üå§Ô∏è', condition: 'Mainly clear', severity: 'mild' },
    2: { icon: '‚õÖ', condition: 'Partly cloudy', severity: 'mild' },
    3: { icon: '‚òÅÔ∏è', condition: 'Overcast', severity: 'moderate' },
    45: { icon: 'üå´Ô∏è', condition: 'Fog', severity: 'moderate' },
    48: { icon: 'üå´Ô∏è', condition: 'Depositing rime fog', severity: 'moderate' },
    51: { icon: 'üå¶Ô∏è', condition: 'Light drizzle', severity: 'moderate' },
    53: { icon: 'üå¶Ô∏è', condition: 'Moderate drizzle', severity: 'moderate' },
    55: { icon: 'üåßÔ∏è', condition: 'Dense drizzle', severity: 'heavy' },
    56: { icon: 'üå®Ô∏è', condition: 'Light freezing drizzle', severity: 'heavy' },
    57: { icon: 'üå®Ô∏è', condition: 'Dense freezing drizzle', severity: 'heavy' },
    61: { icon: 'üåßÔ∏è', condition: 'Slight rain', severity: 'moderate' },
    63: { icon: 'üåßÔ∏è', condition: 'Moderate rain', severity: 'moderate' },
    65: { icon: 'üåßÔ∏è', condition: 'Heavy rain', severity: 'heavy' },
    66: { icon: 'üå®Ô∏è', condition: 'Light freezing rain', severity: 'heavy' },
    67: { icon: 'üå®Ô∏è', condition: 'Heavy freezing rain', severity: 'heavy' },
    71: { icon: '‚ùÑÔ∏è', condition: 'Slight snow fall', severity: 'heavy' },
    73: { icon: '‚ùÑÔ∏è', condition: 'Moderate snow fall', severity: 'heavy' },
    75: { icon: '‚ùÑÔ∏è', condition: 'Heavy snow fall', severity: 'severe' },
    77: { icon: 'üå®Ô∏è', condition: 'Snow grains', severity: 'heavy' },
    80: { icon: 'üå¶Ô∏è', condition: 'Slight rain showers', severity: 'moderate' },
    81: { icon: 'üåßÔ∏è', condition: 'Moderate rain showers', severity: 'moderate' },
    82: { icon: '‚õàÔ∏è', condition: 'Violent rain showers', severity: 'severe' },
    85: { icon: 'üå®Ô∏è', condition: 'Slight snow showers', severity: 'heavy' },
    86: { icon: 'üå®Ô∏è', condition: 'Heavy snow showers', severity: 'severe' },
    95: { icon: '‚õàÔ∏è', condition: 'Thunderstorm', severity: 'severe' },
    96: { icon: '‚õàÔ∏è', condition: 'Thunderstorm with slight hail', severity: 'severe' },
    99: { icon: '‚õàÔ∏è', condition: 'Thunderstorm with heavy hail', severity: 'severe' }
};

// Initialize app when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
});

// Main app initialization
async function initializeApp() {
    console.log('üåç AI Outfit for Today - Initializing global weather app...');
    
    // Language selection initialization moved here
    const userLang = navigator.language.split('-')[0];
    const savedLang = localStorage.getItem('selectedLanguage');
    const initialLang = savedLang || (translations[userLang] ? userLang : 'en');

    const languageSelect = document.getElementById('language-select');
    if (languageSelect) {
        languageSelect.value = initialLang;
        applyTranslations(initialLang);

        languageSelect.addEventListener('change', (event) => {
            const newLang = event.target.value;
            localStorage.setItem('selectedLanguage', newLang);
            applyTranslations(newLang);
        });
    } else {
        console.warn('‚ö†Ô∏è Language selector element not found on this page. Applying translations once.');
        // Apply translations once even without the selector for static pages
        applyTranslations(initialLang);
    }

    const loadingSectionCheck = document.getElementById('loading-state'); // Changed from loading-section
    const weatherSectionCheck = document.getElementById('weather-section');
    const outfitSectionCheck = document.getElementById('outfit-section');
    const errorSectionCheck = document.getElementById('error-section');
    const imageDisplayCheck = document.getElementById('image-display');
    const imageActionsCheck = document.querySelector('.image-actions'); // Use querySelector for class

    console.log('DEBUG initializeApp: loadingSectionCheck', loadingSectionCheck);
    console.log('DEBUG initializeApp: weatherSectionCheck', weatherSectionCheck);
    console.log('DEBUG initializeApp: outfitSectionCheck', outfitSectionCheck);
    console.log('DEBUG initializeApp: errorSectionCheck', errorSectionCheck);
    console.log('DEBUG initializeApp: imageDisplayCheck', imageDisplayCheck);
    console.log('DEBUG initializeApp: imageActionsCheck', imageActionsCheck);

    // Only proceed with weather/outfit logic if we are on index.html
    if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
        try {
            appState.isLoading = true;
            showLoadingState();

            // Initialize IndexedDB
            await openIndexedDB();
            
            // Step 1: Get user location
            updateLoadingStep('location', 'active');
            const position = await getCurrentPosition();
            const { latitude, longitude } = position.coords;
            appState.currentLocation = { latitude, longitude };
            updateLoadingStep('location', 'completed');
            
            // Step 2: Fetch weather data
            updateLoadingStep('weather', 'active');
            const weatherData = await fetchWeatherData(latitude, longitude);
            appState.currentWeather = weatherData;
            updateLoadingStep('weather', 'completed');
            
            // Step 3: Generate outfit recommendation
            updateLoadingStep('outfit', 'active');
            const outfitData = generateOutfitRecommendation(weatherData, appState.selectedGender, appState.selectedStyle);
            appState.outfitPrompt = outfitData.prompt;
            appState.recommendedProducts = outfitData.products;
            updateLoadingStep('outfit', 'completed');
            
            // Step 4: Prepare image generation
            updateLoadingStep('image', 'active');
            await new Promise(resolve => setTimeout(resolve, 500)); // Brief pause for UX
            updateLoadingStep('image', 'completed');
            
            // Get location name for display
            const locationName = await getLocationName(latitude, longitude);
            
            // Update UI with all data
            await updateWeatherUI(weatherData, locationName);
            updateOutfitUI(outfitData);
            
            // Show main content
            hideLoadingState();
            showMainContent();
            
            appState.isLoading = false;
            console.log('‚úÖ App initialized successfully');
            
        } catch (error) {
            console.error('‚ùå App initialization failed:', error);
            handleAppError(error);
            appState.isLoading = false;
        }
    } else if (window.location.pathname === '/liked.html') {
        // For liked.html, only initialize IndexedDB and display liked outfits
        console.log('DEBUG: Initializing for liked.html');
        try {
            await openIndexedDB();
            await displayLikedOutfits();
            // Hide any loading states that might appear on liked.html if not explicitly handled
            hideLoadingState(); 
        } catch (error) {
            console.error('‚ùå Liked page initialization failed:', error);
            // Display an error message on the liked page if something goes wrong
            const likedImagesGrid = document.getElementById('liked-images-grid');
            if (likedImagesGrid) {
                likedImagesGrid.innerHTML = '<p class="error-message">Failed to load liked images due to an error.</p>';
            }
        }
    }
}

async function initializeLikedOutfitsPage() {
    console.log('DEBUG: Initializing for liked.html');
    try {
        // Add a small delay to ensure DOM is fully ready, even with defer
        await new Promise(resolve => setTimeout(resolve, 50)); 

        await openIndexedDB();
        await displayLikedOutfits();
        // Hide any loading states that might appear on liked.html if not explicitly handled
        hideLoadingState(); 
    } catch (error) {
        console.error('‚ùå Liked page initialization failed:', error);
        // Display an error message on the liked page if something goes wrong
        const likedImagesGrid = document.getElementById('liked-images-grid');
        if (likedImagesGrid) {
            likedImagesGrid.innerHTML = '<p class="error-message">Failed to load liked images due to an error.</p>';
        }
    }
}

// Get current position with enhanced error handling
function getCurrentPosition() {
    return new Promise((resolve, reject) => {
        if (!navigator.geolocation) {
            reject(new Error('Geolocation is not supported by this browser'));
            return;
        }
        
        const options = {
            enableHighAccuracy: true,
            timeout: 15000,
            maximumAge: CONFIG.locationCacheTime
        };
        
        navigator.geolocation.getCurrentPosition(
            position => {
                console.log('üìç Location detected:', position.coords.latitude, position.coords.longitude);
                resolve(position);
            },
            error => {
                console.error('‚ùå Geolocation error:', error);
                let errorMessage = 'Unable to detect location. ';
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        errorMessage += 'Please enable location access and refresh the page.';
                        break;
                    case error.POSITION_UNAVAILABLE:
                        errorMessage += 'Location information is unavailable.';
                        break;
                    case error.TIMEOUT:
                        errorMessage += 'Location request timed out. Please try again.';
                        break;
                    default:
                        errorMessage += 'An unknown error occurred.';
                        break;
                }
                reject(new Error(errorMessage));
            },
            options
        );
    });
}

// Fetch comprehensive weather data from Open-Meteo API
async function fetchWeatherData(latitude, longitude) {
    const params = new URLSearchParams({
        latitude: latitude.toString(),
        longitude: longitude.toString(),
        current: [
            'temperature_2m',
            'relative_humidity_2m',
            'apparent_temperature',
            'weather_code',
            'wind_speed_10m',
            'wind_direction_10m'
        ].join(','),
        hourly: 'temperature_2m,weather_code',
        daily: 'temperature_2m_max,temperature_2m_min,weather_code',
        timezone: 'auto',
        forecast_days: 1
    });
    
    const url = `${CONFIG.weatherAPI}?${params}`;
    console.log('üå°Ô∏è Fetching weather data from:', url);
    
    const response = await fetch(url);
    if (!response.ok) {
        throw new Error(`Weather API request failed: ${response.status} ${response.statusText}`);
    }
    
    const data = await response.json();
    console.log('‚úÖ Weather data received:', data);
    
    return {
        current: data.current,
        daily: data.daily,
        timezone: data.timezone,
        location: { latitude, longitude }
    };
}

// Get location name using reverse geocoding
async function getLocationName(latitude, longitude) {
    try {
        const currentLang = localStorage.getItem('selectedLanguage') || 'en';
        const params = new URLSearchParams({
            latitude: latitude.toString(),
            longitude: longitude.toString(),
            localityLanguage: currentLang // Request location name in current language
        });
        
        const url = `${CONFIG.geocodingAPI}?${params}`;
        console.log('üìç Fetching location name from BigDataCloud:', url);

        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`BigDataCloud Geocoding API request failed: ${response.status} ${response.statusText}`);
        }
        
        const data = await response.json();
        console.log('‚úÖ BigDataCloud Geocoding data received:', data);
        
        if (data.city) {
            return data.city; // Prefer city name
        } else if (data.principalSubdivision) {
            return data.principalSubdivision; // Fallback to subdivision (e.g., province/state)
        } else if (data.countryName) {
            return data.countryName; // Fallback to country name
        } else {
            return 'Your Location';
        }
    } catch (error) {
        console.warn('‚ö†Ô∏è Could not get accurate location name from BigDataCloud:', error);
        return 'Your Location';
    }
}

// Generate comprehensive outfit recommendation based on gender
function generateOutfitRecommendation(weatherData, gender = appState.selectedGender, style = appState.selectedStyle) {
    const current = weatherData.current;
    const temp = Math.round(current.temperature_2m);
    const feelsLike = Math.round(current.apparent_temperature);
    const humidity = current.relative_humidity_2m;
    const weatherCode = current.weather_code;
    const windSpeed = current.wind_speed_10m;
    
    const weather = WEATHER_CODES[weatherCode] || WEATHER_CODES[1];
    
    console.log('üëî Generating outfit for:', { temp, feelsLike, humidity, weatherCode, weather: weather.condition, gender, style });
    
    // Determine base clothing based on temperature
    let clothing = [];
    let footwear = [];
    let accessories = [];
    let outfitStyleDescription = '';
    let colors = [];
    
    // Temperature-based clothing selection with gender and style preferences
    if (temp <= -10) {
        if (gender === 'female') {
            clothing = ['heavy winter coat', 'thermal leggings', 'wool sweater', 'warm scarf', 'winter hat', 'insulated gloves'];
            footwear = ['insulated winter boots', 'warm wool socks'];
            outfitStyleDescription = 'cozy arctic winter';
            colors = ['deep burgundy', 'charcoal gray', 'winter white'];
        } else {
            clothing = ['heavy winter parka', 'thermal underwear', 'wool pullover', 'insulated pants', 'warm scarf', 'beanie', 'winter gloves'];
            footwear = ['insulated winter boots', 'thick wool socks'];
            outfitStyleDescription = 'rugged arctic winter';
            colors = ['dark navy', 'charcoal black', 'forest green'];
        }
    } else if (temp <= 0) {
        if (gender === 'female') {
            clothing = ['stylish winter coat', 'warm sweater', 'skinny jeans or leggings', 'fashionable scarf', 'cute beanie'];
            footwear = ['fashionable winter boots', 'warm socks'];
            outfitStyleDescription = 'chic winter';
            colors = ['camel', 'burgundy', 'cream white'];
        } else {
            clothing = ['winter jacket', 'warm hoodie or sweater', 'jeans', 'warm scarf', 'knit beanie'];
            footwear = ['winter boots', 'thick socks'];
            outfitStyleDescription = 'casual winter';
            colors = ['navy blue', 'forest green', 'charcoal'];
        }
    } else if (temp <= 10) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['wool blazer', 'turtleneck sweater', 'tailored trousers', 'elegant scarf'];
                footwear = ['leather ankle boots'];
                outfitStyleDescription = 'business formal autumn';
                colors = ['charcoal', 'navy', 'dark green'];
            } else if (style === 'date') {
                clothing = ['stylish trench coat', 'midi dress', 'fashionable scarf'];
                footwear = ['heeled boots'];
                outfitStyleDescription = 'romantic autumn date';
                colors = ['wine red', 'deep purple', 'black'];
            } else { // Casual
                clothing = ['trench coat or stylish jacket', 'cozy sweater', 'jeans or cute pants', 'light scarf'];
                footwear = ['ankle boots or sneakers'];
                outfitStyleDescription = 'elegant autumn';
                colors = ['camel', 'rust orange', 'olive green'];
            }
        } else {
            if (style === 'business') {
                clothing = ['wool blend overcoat', 'dress shirt', 'dress pants', 'tie'];
                footwear = ['leather dress shoes'];
                outfitStyleDescription = 'business professional autumn';
                colors = ['dark grey', 'navy blue', 'black'];
            } else if (style === 'date') {
                clothing = ['smart casual blazer', 'collared shirt', 'dark jeans or chinos'];
                footwear = ['leather boots or loafers'];
                outfitStyleDescription = 'sophisticated date night';
                colors = ['deep blue', 'burgundy', 'camel'];
            } else { // Casual
                clothing = ['casual jacket or hoodie', 'long-sleeve shirt', 'chinos or jeans', 'light scarf'];
                footwear = ['casual boots or sneakers'];
                outfitStyleDescription = 'relaxed autumn';
                colors = ['earth tones', 'burgundy', 'navy'];
            }
        }
    } else if (temp <= 15) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['blazer', 'silk blouse', 'pencil skirt or tailored pants'];
                footwear = ['low heels or elegant flats'];
                outfitStyleDescription = 'business chic spring';
                colors = ['light grey', 'beige', 'pastel blue'];
            } else if (style === 'date') {
                clothing = ['lightweight knit top', 'A-line skirt or flowy pants', 'denim jacket'];
                footwear = ['stylish sandals or wedges'];
                outfitStyleDescription = 'casual date spring';
                colors = ['blush pink', 'mint green', 'cream'];
            } else { // Casual
                clothing = ['light cardigan or blazer', 'blouse or long-sleeve top', 'jeans or stylish pants'];
                footwear = ['flats or low heels', 'comfortable sneakers'];
                outfitStyleDescription = 'spring chic';
                colors = ['soft pink', 'light blue', 'sage green'];
            }
        } else {
            if (style === 'business') {
                clothing = ['sport coat', 'button-down shirt', 'dress chinos', 'leather belt'];
                footwear = ['derby shoes or loafers'];
                outfitStyleDescription = 'smart business spring';
                colors = ['khaki', 'light blue', 'white'];
            } else if (style === 'date') {
                clothing = ['light knit sweater', 'dark wash jeans', 'casual blazer'];
                footwear = ['suede loafers or neat sneakers'];
                outfitStyleDescription = 'relaxed date';
                colors = ['navy', 'grey', 'olive'];
            } else { // Casual
                clothing = ['light jacket or cardigan', 'button-down shirt', 'chinos or jeans'];
                footwear = ['loafers or sneakers'];
                outfitStyleDescription = 'smart casual spring';
                colors = ['light gray', 'navy', 'khaki'];
            }
        }
    } else if (temp <= 20) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['lightweight blazer', 'blouse', 'culottes or wide-leg pants'];
                footwear = ['block heels or elegant flats'];
                outfitStyleDescription = 'professional summer';
                colors = ['navy', 'white', 'pastel'];
            } else if (style === 'date') {
                clothing = ['floral midi dress', 'light cardigan'];
                footwear = ['strappy sandals or espadrilles'];
                outfitStyleDescription = 'sweet summer date';
                colors = ['peach', 'lavender', 'mint'];
            } else { // Casual
                clothing = ['light sweater or blouse', 'comfortable jeans or pants', 'light cardigan'];
                footwear = ['comfortable flats or sneakers'];
                outfitStyleDescription = 'casual spring';
                colors = ['coral', 'mint green', 'soft yellow'];
            }
        } else {
            if (style === 'business') {
                clothing = ['linen blend blazer', 'light dress shirt', 'lightweight trousers'];
                footwear = ['polished loafers'];
                outfitStyleDescription = 'summer business casual';
                colors = ['light blue', 'tan', 'white'];
            } else if (style === 'date') {
                clothing = ['short-sleeve button-down', 'chinos', 'casual jacket'];
                footwear = ['clean white sneakers or driving mocs'];
                outfitStyleDescription = 'evening casual date';
                colors = ['olive green', 'navy', 'beige'];
            } else { // Casual
                clothing = ['polo shirt or casual shirt', 'chinos or jeans'];
                footwear = ['casual shoes or sneakers'];
                outfitStyleDescription = 'relaxed spring';
                colors = ['light blue', 'khaki', 'white'];
            }
        }
    } else if (temp <= 25) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['tailored jumpsuit or dress', 'light scarf'];
                footwear = ['comfortable pumps'];
                outfitStyleDescription = 'chic office summer';
                colors = ['cream', 'navy', 'dusty rose'];
            } else if (style === 'date') {
                clothing = ['maxi dress', 'denim jacket'];
                footwear = ['flat sandals'];
                outfitStyleDescription = 'relaxed summer date';
                colors = ['bright florals', 'aqua', 'lemon'];
            } else { // Casual
                clothing = ['cute t-shirt or blouse', 'jeans or stylish pants', 'light cardigan'];
                footwear = ['sandals or comfortable sneakers'];
                outfitStyleDescription = 'fresh casual';
                colors = ['bright coral', 'turquoise', 'sunny yellow'];
            }
        } else {
            if (style === 'business') {
                clothing = ['short-sleeve linen shirt', 'light dress pants'];
                footwear = ['breathable loafers'];
                outfitStyleDescription = 'summer corporate';
                colors = ['white', 'light grey', 'pale blue'];
            } else if (style === 'date') {
                clothing = ['stylish polo', 'linen shorts'];
                footwear = ['espadrille sneakers'];
                outfitStyleDescription = 'beach date casual';
                colors = ['pastel shades', 'coral', 'sand'];
            } else { // Casual
                clothing = ['casual t-shirt or polo', 'shorts or light pants'];
                footwear = ['sneakers or casual shoes'];
                outfitStyleDescription = 'comfortable casual';
                colors = ['navy', 'khaki', 'white'];
            }
        }
    } else if (temp <= 30) {
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['lightweight tailored dress', 'minimalist jewelry'];
                footwear = ['open-toe block heels'];
                outfitStyleDescription = 'elegant summer office';
                colors = ['crisp white', 'powder blue', 'cream'];
            } else if (style === 'date') {
                clothing = ['flowy sundress', 'strappy sandals'];
                footwear = ['wedge sandals'];
                outfitStyleDescription = 'romantic summer evening';
                colors = ['vibrant floral', 'ocean blue', 'sunset orange'];
            } else { // Casual
                clothing = ['tank top or summer blouse', 'shorts or summer dress', 'light cardigan'];
                footwear = ['sandals or summer sneakers'];
                outfitStyleDescription = 'breezy summer';
                colors = ['bright summer colors', 'coral pink', 'turquoise'];
            }
        } else {
            if (style === 'business') {
                clothing = ['light linen shirt', 'tailored shorts', 'loafers'];
                footwear = ['no-show socks'];
                outfitStyleDescription = 'smart summer business';
                colors = ['light pastels', 'beige', 'blue'];
            } else if (style === 'date') {
                clothing = ['short sleeve button-up', 'chino shorts', 'casual loafers'];
                footwear = ['leather sandals'];
                outfitStyleDescription = 'resort casual date';
                colors = ['tropical prints', 'teal', 'white'];
            } else { // Casual
                clothing = ['breathable t-shirt', 'shorts', 'light shirt'];
                footwear = ['sneakers or boat shoes'];
                outfitStyleDescription = 'summer casual';
                colors = ['light blue', 'white', 'khaki'];
            }
        }
    } else { // temp > 30
        if (gender === 'female') {
            if (style === 'business') {
                clothing = ['lightweight cotton dress', 'open-knit cardigan'];
                footwear = ['comfortable and stylish flat sandals'];
                outfitStyleDescription = 'heatwave office chic';
                colors = ['white', 'beige', 'light blue'];
            } else if (style === 'date') {
                clothing = ['flowy crop top', 'high-waisted linen shorts', 'statement earrings'];
                footwear = ['minimalist sandals'];
                outfitStyleDescription = 'hot weather casual date';
                colors = ['bold patterns', 'neon accents', 'silver'];
            } else { // Casual
                clothing = ['breathable tank top or summer top', 'shorts or light summer dress', 'sun hat'];
                footwear = ['comfortable sandals'];
                outfitStyleDescription = 'hot summer chic';
                colors = ['white', 'light pastels', 'bright coral'];
            }
        } else {
            if (style === 'business') {
                clothing = ['breathable polo shirt', 'lightweight chino shorts'];
                footwear = ['canvas espadrilles'];
                outfitStyleDescription = 'tropical business casual';
                colors = ['khaki', 'navy', 'white'];
            } else if (style === 'date') {
                clothing = ['graphic tee', 'swim shorts', 'flip-flops'];
                footwear = ['water sandals'];
                outfitStyleDescription = 'poolside date casual';
                colors = ['bright and bold', 'black', 'grey'];
            } else { // Casual
                clothing = ['lightweight t-shirt', 'shorts', 'sun hat or cap'];
                footwear = ['breathable sneakers or sandals'];
                outfitStyleDescription = 'hot summer casual';
                colors = ['white', 'light gray', 'navy'];
            }
        }
    }
    
    // Weather condition adjustments
    if (weather.severity === 'heavy' || weather.severity === 'severe') {
        if (weatherCode >= 61 && weatherCode <= 67) { // Rain
            accessories.push('umbrella', 'waterproof jacket');
            footwear = ['waterproof shoes or boots'];
        } else if (weatherCode >= 71 && weatherCode <= 77) { // Snow
            accessories.push('warm hat', 'insulated gloves');
            footwear = ['insulated waterproof boots'];
        } else if (weatherCode >= 95) { // Thunderstorm
            accessories.push('waterproof jacket', 'sturdy umbrella');
        }
    } else if (weather.severity === 'moderate') {
        if (weatherCode >= 51 && weatherCode <= 55) { // Drizzle
            accessories.push('light rain jacket');
        }
    }
    
    // Wind adjustments
    if (windSpeed > 20) {
        accessories.push('windproof outer layer');
    }
    
    // Humidity adjustments
    if (humidity > 80) {
        clothing = clothing.map(item => item.includes('breathable') ? item : `breathable ${item}`);
        outfitStyleDescription = `lightweight ${outfitStyleDescription}`;
    }
    
    // Sunny weather accessories
    if (weatherCode <= 1) {
        accessories.push('sunglasses');
        if (temp > 20) accessories.push('sun hat');
    }
    
    // Generate detailed AI prompt focused on person wearing outfit
    const personDescriptions = {
        female: ['young woman', 'stylish woman', 'fashionable lady', 'elegant female model'],
        male: ['young man', 'stylish man', 'fashionable gentleman', 'handsome male model']
    };
    const selectedPerson = personDescriptions[gender][Math.floor(Math.random() * personDescriptions[gender].length)];
    const selectedColor = colors[Math.floor(Math.random() * colors.length)] || 'stylish colors';
    
    const promptParts = [
        `A ${selectedPerson} modeling and wearing`,
        clothing.length > 0 ? clothing.slice(0, 4).join(', ') : '', // Check if clothing array is not empty
        footwear.length > 0 ? footwear.join(' and ') : '',         // Check if footwear array is not empty
        accessories.length > 0 ? `with ${accessories.slice(0, 3).join(', ')}` : '',
        `in ${selectedColor}`,
        `${outfitStyleDescription} fashion outfit`,
        `for a ${style} occasion`,
        `posing for a fashion photoshoot`,
        `outdoors in ${weather.condition.toLowerCase()} weather`,
        `${temp}¬∞C temperature`,
        'professional fashion photography',
        'portrait style',
        'person clearly visible',
        'human model',
        'fashion model pose',
        'full body shot showing complete outfit',
        'realistic human proportions',
        'detailed clothing textures'
    ].filter(Boolean);
    
    const aiPrompt = promptParts.join(', ');
    
    // Generate human-readable summary
    const summary = `Perfect for ${temp}¬∞C ${weather.condition.toLowerCase()} weather and a ${style} occasion. ${
        temp <= 10 ? 'Layer up to stay warm and cozy.' :
        temp <= 20 ? 'Light layers for comfortable temperature control.' :
        temp <= 30 ? 'Breathable fabrics to stay cool and comfortable.' :
        'Light, airy clothing to beat the heat.'
    }`;
    
    // Generate Amazon product recommendations
    const recommendedProducts = generateProductRecommendations(temp, weatherCode, gender, style);
    
    return {
        prompt: aiPrompt,
        summary: summary,
        clothing: clothing.slice(0, 3).join(', '),
        footwear: footwear[0] || 'comfortable shoes',
        accessories: accessories.length > 0 ? accessories.slice(0, 2).join(', ') : 'none needed',
        style: outfitStyleDescription,
        temperature: temp,
        weatherCondition: weather.condition,
        products: recommendedProducts
    };
}

// Update weather UI with comprehensive information
async function updateWeatherUI(weatherData, locationName) {
    const current = weatherData.current;
    const weather = WEATHER_CODES[current.weather_code] || WEATHER_CODES[1];
    
    // Update weather display
    const weatherIconElement = document.getElementById('weather-icon');
    const temperatureElement = document.getElementById('temperature');
    const weatherConditionElement = document.getElementById('weather-condition');
    const feelsLikeElement = document.getElementById('feels-like');
    const humidityElement = document.getElementById('humidity');
    const locationNameElement = document.getElementById('location-name');
    const localTimeElement = document.getElementById('local-time');

    if (weatherIconElement) weatherIconElement.textContent = weather.icon;
    if (temperatureElement) temperatureElement.textContent = `${Math.round(current.temperature_2m)}¬∞C`;
    if (weatherConditionElement) weatherConditionElement.textContent = weather.condition;
    if (feelsLikeElement) feelsLikeElement.textContent = `Feels like ${Math.round(current.apparent_temperature)}¬∞C`;
    if (humidityElement) humidityElement.textContent = `Humidity ${current.relative_humidity_2m}%`;
    if (locationNameElement) locationNameElement.textContent = `üìç ${locationName}`;
    
    // Update local time
    try {
        const now = new Date();
        const timeString = now.toLocaleTimeString([], { 
            hour: '2-digit', 
            minute: '2-digit',
            timeZoneName: 'short'
        });
        if (localTimeElement) localTimeElement.textContent = `üïê ${timeString}`;
    } catch (error) {
        if (localTimeElement) localTimeElement.textContent = ' Local time';
    }
}

// Generate Amazon product recommendations based on weather
function generateProductRecommendations(temp, weatherCode, gender, style) {
    console.log('üõçÔ∏è Generating products for:', { temp, weatherCode, gender, style });
    
    const products = [];
    const genderProducts = AMAZON_PRODUCTS[gender];
    
    if (!genderProducts) {
        console.error('‚ùå No products found for gender:', gender);
        return [];
    }
    
    console.log('‚úÖ Available products for', gender, ':', Object.keys(genderProducts));
    
    // Temperature-based recommendations
    if (temp <= 0) {
        // Winter products
        if (gender === 'female') {
            if (genderProducts.winter_coat) products.push(genderProducts.winter_coat);
            if (genderProducts.ankle_boots) products.push(genderProducts.ankle_boots);
        } else {
            if (genderProducts.winter_jacket) products.push(genderProducts.winter_jacket);
            if (genderProducts.sneakers) products.push(genderProducts.sneakers);
        }
    } else if (temp <= 15) {
        // Spring/Fall products
        if (gender === 'female') {
            if (genderProducts.spring_jacket) products.push(genderProducts.spring_jacket);
            if (genderProducts.jeans) products.push(genderProducts.jeans);
            if (genderProducts.ankle_boots) products.push(genderProducts.ankle_boots);
        } else {
            if (genderProducts.casual_jacket) products.push(genderProducts.casual_jacket);
            if (genderProducts.chinos) products.push(genderProducts.chinos);
            if (genderProducts.sneakers) products.push(genderProducts.sneakers);
        }
    } else if (temp <= 25) {
        // Mild weather products
        if (gender === 'female') {
            if (genderProducts.summer_blouse) products.push(genderProducts.summer_blouse);
            if (genderProducts.jeans) products.push(genderProducts.jeans);
            if (genderProducts.sandals) products.push(genderProducts.sandals);
        } else {
            if (genderProducts.polo_shirt) products.push(genderProducts.polo_shirt);
            if (genderProducts.chinos) products.push(genderProducts.chinos);
            if (genderProducts.boat_shoes) products.push(genderProducts.boat_shoes);
        }
    } else {
        // Hot weather products
        if (gender === 'female') {
            if (genderProducts.summer_blouse) products.push(genderProducts.summer_blouse);
            if (genderProducts.sandals) products.push(genderProducts.sandals);
        } else {
            if (genderProducts.polo_shirt) products.push(genderProducts.polo_shirt);
            if (genderProducts.boat_shoes) products.push(genderProducts.boat_shoes);
        }
    }
    
    // Weather-specific accessories
    if ([51, 53, 55, 56, 57, 61, 63, 65, 66, 67, 80, 81, 82].includes(weatherCode)) {
        // Rainy weather
        const umbrella = genderProducts.umbrella || AMAZON_PRODUCTS.female.umbrella;
        if (umbrella) products.push(umbrella);
    }
    
    if ([0, 1].includes(weatherCode) && temp > 15) {
        // Sunny weather
        if (genderProducts.sunglasses) products.push(genderProducts.sunglasses);
        if (gender === 'male' && temp > 20 && genderProducts.cap) {
            products.push(genderProducts.cap);
        }
    }
    
    // Remove duplicates and limit to 4 products
    const uniqueProducts = products.filter((product, index, self) => 
        product && index === self.findIndex(p => p && p.name === product.name)
    ).slice(0, 4);
    
    console.log('üéØ Final recommended products:', uniqueProducts.length, uniqueProducts.map(p => p.name));
    
    return uniqueProducts;
}

// Note: updateOutfitUI function moved to bottom with gender support

// Generate AI outfit image directly in the app
async function generateOutfitImage() {
    if (!appState.outfitPrompt) {
        alert('Please wait for the outfit recommendation to load first.');
        return;
    }
    
    // Get the prompt text and the entire prompt preview section (they should remain hidden)
    const aiPromptElement = document.getElementById('ai-prompt');
    const promptPreviewElement = document.querySelector('.prompt-preview');

    // Ensure the prompt elements remain hidden, or are hidden again if somehow visible
    if (aiPromptElement) {
        aiPromptElement.classList.add('hidden');
    }
    if (promptPreviewElement) {
        promptPreviewElement.classList.add('hidden');
    }

    console.log('üé® Generating AI image with prompt:', appState.outfitPrompt);
    
    // Show loading state
    const generateBtn = document.getElementById('generate-image-btn');
    const originalContent = generateBtn.innerHTML;
    generateBtn.innerHTML = '<span class="btn-icon">‚è≥</span><span class="btn-text">Generating Image...</span>';
    generateBtn.disabled = true;
    
    try {
        // Wait for DOM to be ready and get the existing image container
        await new Promise(resolve => {
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', resolve);
            } else {
                resolve();
            }
        });
        
        let imageContainer = document.getElementById('generated-image-container');
        if (!imageContainer) {
            console.warn('‚ö†Ô∏è Image container not found, creating it...');
            console.log('üìã Available elements with IDs:', Array.from(document.querySelectorAll('[id]')).map(el => el.id));
            
            // Create the container if it doesn't exist
            imageContainer = document.createElement('div');
            imageContainer.id = 'generated-image-container';
            imageContainer.className = 'generated-image-container';
            imageContainer.style.display = 'none';
            
            // Find a good place to insert it (after the generate button)
            const generateBtn = document.getElementById('generate-image-btn');
            if (generateBtn && generateBtn.parentNode) {
                generateBtn.parentNode.insertBefore(imageContainer, generateBtn.nextSibling);
            } else {
                // Fallback: append to outfit section
                const outfitSection = document.getElementById('outfit-section');
                if (outfitSection) {
                    outfitSection.appendChild(imageContainer);
                }
            }
        }
        
        console.log('‚úÖ Found image container:', imageContainer);
        
        // Show the container with high visibility
        imageContainer.style.display = 'block';
        imageContainer.style.visibility = 'visible';
        imageContainer.style.opacity = '1';
        imageContainer.style.position = 'relative';
        imageContainer.style.zIndex = '1000';
        
        console.log('üéØ Container made visible with styles:', {
            display: imageContainer.style.display,
            visibility: imageContainer.style.visibility,
            opacity: imageContainer.style.opacity
        });
        
        // Show loading placeholders immediately
        console.log('üé¨ Showing loading placeholders...');
        const loadingPlaceholders = Array(2).fill(0).map((_, index) => `
            <div class="generated-image-item" style="animation-delay: ${index * 0.2}s;">
                <div class="image-wrapper loading">
                    <div class="image-loading-overlay">
                        <div class="loading-spinner-small"></div>
                        <div class="loading-text-small">üé® Creating...</div>
                        <div class="loading-progress-small">
                            <div class="loading-progress-fill-small"></div>
                        </div>
                    </div>
                </div>
                <p class="image-description">Generating AI outfit image...</p>
                <p class="image-usage">Please wait</p>
            </div>
        `).join('');
        
        // Just show the loading placeholders without the big popup
        imageContainer.innerHTML = `
            <div class="generated-images-header">
                <h4>üé® Creating Your AI-Generated Outfit</h4>
                <p>Perfect for today's weather conditions</p>
            </div>
            <div class="generated-images-grid">
                ${loadingPlaceholders}
            </div>
        `;
        
        console.log('üì¶ Container HTML set, checking visibility...');
        console.log('üìè Container dimensions:', imageContainer.getBoundingClientRect());
        console.log('üëÄ Container styles:', window.getComputedStyle(imageContainer));
        
        // Force scroll to container
        imageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        // Verify the loading element was created
        const loadingElement = imageContainer.querySelector('.image-loading');
        if (loadingElement) {
            console.log('‚úÖ Loading element created successfully');
            console.log('üìè Loading element dimensions:', loadingElement.getBoundingClientRect());
            console.log('üéØ Container parent:', imageContainer.parentElement);
            console.log('üëÄ Container visible:', imageContainer.offsetHeight > 0 && imageContainer.offsetWidth > 0);
        } else {
            console.error('‚ùå Loading element not found!');
        }
        
        // Force scroll to the loading animation
        imageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        // Generate multiple AI images using different free services
        // Add progressive loading messages for better UX
        const loadingMessages = [
            { text: 'üé® Analyzing your outfit style...', subtext: 'Processing weather and preferences' },
            { text: 'üß† Generating AI prompt...', subtext: 'Creating detailed description' },
            { text: '‚ú® Creating your images...', subtext: 'AI is painting your perfect look' },
            { text: 'üñºÔ∏è Finalizing results...', subtext: 'Almost ready!' }
        ];
        
        // Update loading messages progressively
        const updateLoadingMessage = (index) => {
            if (index < loadingMessages.length) {
                const message = loadingMessages[index];
                const loadingDiv = imageContainer.querySelector('.image-loading');
                if (loadingDiv) {
                    loadingDiv.querySelector('.loading-text').textContent = message.text;
                    loadingDiv.querySelector('.loading-subtext').textContent = message.subtext;
                }
            }
        };
        
        // Start image generation and progressive messages
        const imagePromise = generateMultipleImages(appState.outfitPrompt, appState.selectedGender);
        
        // Update messages every 500ms
        for (let i = 0; i < loadingMessages.length; i++) {
            setTimeout(() => updateLoadingMessage(i), i * 500);
        }
        
        // Wait for both image generation and minimum loading time
        const [imageResults] = await Promise.all([
            imagePromise,
            new Promise(resolve => setTimeout(resolve, 2000)) // Minimum 2 second loading
        ]);
        
        if (imageResults.length > 0) {
            displayGeneratedImages(imageResults, imageContainer, appState.outfitPrompt);
        } else {
            // Show error message instead of external service
            imageContainer.innerHTML = `
                <div class="image-error" style="
                    background: #fee2e2;
                    border: 2px solid #fca5a5;
                    border-radius: 12px;
                    padding: 30px;
                    text-align: center;
                    margin: 20px 0;
                ">
                    <div style="font-size: 48px; margin-bottom: 16px;">‚ö†Ô∏è</div>
                    <h4 style="color: #dc2626; margin-bottom: 12px;">Image Generation Failed</h4>
                    <p style="color: #7f1d1d; margin-bottom: 20px;">Unable to generate images at this time. Please try again.</p>
                    <button onclick="generateOutfitImage()" style="
                        background: #dc2626;
                        color: white;
                        border: none;
                        padding: 12px 24px;
                        border-radius: 8px;
                        font-weight: 600;
                        cursor: pointer;
                    ">
                        üîÑ Try Again
                    </button>
                </div>
            `;
            // Ensure the prompt preview and prompt text remain hidden on error
            if (aiPromptElement) aiPromptElement.classList.add('hidden');
            if (promptPreviewElement) promptPreviewElement.classList.add('hidden');
        }
        
    } catch (error) {
        console.error('‚ùå Image generation failed:', error);
        showImageGenerationError(imageContainer);
        // Ensure the prompt preview and prompt text remain hidden on error
        if (aiPromptElement) aiPromptElement.classList.add('hidden');
        if (promptPreviewElement) promptPreviewElement.classList.add('hidden');
    } finally {
        // Restore button
        generateBtn.innerHTML = originalContent;
        generateBtn.disabled = false;
    }
}

// Generate images using multiple free AI services focused on people
async function generateMultipleImages(prompt, gender) {
    const imageResults = [];
    
    try {
        // Add multiple layers of randomization for unique images
        const timestamp = Date.now();
        const randomSeed = Math.floor(Math.random() * 1000000);
        const sessionId = Math.random().toString(36).substring(7);
        
        // Gender-specific subject description
        const genderSubject = gender === 'female' ? 'a beautiful female model' : 'a handsome male model';

        // Multiple style variations for more diversity
        const styleVariations = [
            'professional fashion model',
            'stylish person',
            'elegant individual',
            'fashionable model',
            'trendy fashion influencer',
            'sophisticated dresser',
            'chic fashion enthusiast',
            'modern style icon',
            'runway model', /* New */
            'magazine cover model', /* New */
            'street style icon', /* New */
            'high fashion editorial', /* New */
            'minimalist aesthetic', /* New */
            'avant-garde fashion' /* New */
        ];
        
        const backgroundVariations = [
            'urban street background',
            'modern studio setting',
            'outdoor natural lighting',
            'minimalist backdrop',
            'city environment',
            'contemporary setting',
            'dramatic cityscape', /* New */
            'serene nature backdrop', /* New */
            'futuristic architecture', /* New */
            'vintage industrial space', /* New */
            'luxury interior' /* New */
        ];
        
        const poseVariations = [
            'confident pose',
            'casual stance',
            'elegant posture',
            'dynamic pose',
            'relaxed position',
            'fashion pose',
            'walking pose', /* New */
            'sitting pose', /* New */
            'candid shot', /* New */
            'profile view', /* New */
            'full body view' /* New */
        ];
        
        const selectedStyle = styleVariations[Math.floor(Math.random() * styleVariations.length)];
        const selectedBackground = backgroundVariations[Math.floor(Math.random() * backgroundVariations.length)];
        const selectedPose = poseVariations[Math.floor(Math.random() * poseVariations.length)];
        
        const enhancedPrompt = `${genderSubject}, ${selectedStyle} ${prompt}, ${selectedPose}, ${selectedBackground}, no objects only, no clothing items only, must show person wearing clothes, human figure required, fashion model, person visible, realistic photography, high quality, detailed`;
        
        // Method 1: Use Pollinations AI with Flux model
        const pollinationsUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(enhancedPrompt)}?width=512&height=768&model=flux&enhance=true&nologo=true&seed=${Date.now()}&timestamp=${timestamp}&session=${sessionId}`;
        imageResults.push({
            url: pollinationsUrl,
            service: 'Pollinations AI (Flux)',
            description: 'AI-generated person wearing recommended outfit',
            license: 'AI-generated content, no traditional copyright',
            usage: 'Free for personal and commercial use'
        });
        
        // Method 2: Alternative with completely different approach
        const altStyle = styleVariations[Math.floor(Math.random() * styleVariations.length)];
        const altBackground = backgroundVariations[Math.floor(Math.random() * backgroundVariations.length)];
        const altPose = poseVariations[Math.floor(Math.random() * poseVariations.length)];
        
        const altPrompt = `${genderSubject}, ${altStyle} wearing ${prompt}, ${altPose}, ${altBackground}, photorealistic, high fashion, professional photography, detailed clothing, person clearly visible, full body shot`;
        const pollinationsUrl2 = `https://image.pollinations.ai/prompt/${encodeURIComponent(altPrompt)}?width=512&height=768&model=turbo&enhance=true&seed=${Date.now() + 1}&timestamp=${timestamp + 1000}&session=${sessionId}_alt`;
        imageResults.push({
            url: pollinationsUrl2,
            service: 'Pollinations AI (Turbo)',
            description: 'Alternative fashion model in weather-appropriate outfit',
            license: 'AI-generated content, no traditional copyright',
            usage: 'Free for personal and commercial use'
        });
        
        console.log('üé® Generated image URLs with randomization:', imageResults.map(r => r.url));
        
    } catch (error) {
        console.error('Error generating images:', error);
    }
    
    return imageResults;
}

// Display generated images in the UI
function displayGeneratedImages(imageResults, container, outfitPrompt) {
    const imagesHTML = imageResults.map((result, index) => `
        <div class="generated-image-item" style="animation-delay: ${index * 0.2}s">
            <div class="image-wrapper loading">
                <!-- Loading Animation -->
                <div class="image-loading-overlay">
                    <div class="loading-spinner-small"></div>
                    <div class="loading-text-small">üé® Loading...</div>
                    <div class="loading-progress-small">
                        <div class="loading-progress-fill-small"></div>
                    </div>
                </div>
                
                <img src="${result.url}" alt="${result.description}" 
                     onload="this.parentElement.classList.remove('loading'); this.parentElement.classList.add('loaded')"
                     onerror="this.parentElement.classList.remove('loading'); this.parentElement.classList.add('error')">
                <div class="image-overlay">
                    <div class="image-service">${result.service}</div>
                    <div class="image-license">${result.license || 'AI-generated'}</div>
                </div>
            </div>
            <p class="image-description">${result.description}</p>
            <p class="image-usage">${result.usage || 'Free to use'}</p>
            <button class="like-button" data-image-url="${result.url}" data-prompt="${outfitPrompt}">‚ù§Ô∏è Like</button>
        </div>
    `).join('');
    
    container.innerHTML = `
        <div class="generated-images-header">
            <h4>üé® Your AI-Generated Outfit</h4>
            <p>Perfect for today's weather conditions</p>
        </div>
        <div class="generated-images-grid">
            ${imagesHTML}
        </div>
        <div class="image-actions">
            <button onclick="generateOutfitImage()" class="regenerate-btn">
                <span class="btn-icon">üîÑ</span>
                <span class="btn-text">Generate New Images</span>
            </button>
        </div>
    `;

    // Attach event listeners to like buttons
    container.querySelectorAll('.like-button').forEach(button => {
        button.addEventListener('click', async (event) => {
            const imageUrl = event.target.dataset.imageUrl;
            const prompt = event.target.dataset.prompt;
            const likedOutfit = {
                imageUrl: imageUrl,
                prompt: prompt,
                gender: appState.selectedGender,
                timestamp: Date.now()
            };
            try {
                await saveLikedOutfit(likedOutfit);
                event.target.textContent = '‚ù§Ô∏è Liked!';
                event.target.disabled = true;
                // displayLikedOutfits(); // Refresh liked outfits display - removed as liked images are on a separate page
            } catch (error) {
                console.error('Error liking image:', error);
                alert('Failed to save liked image. Please try again.');
            }
        });
    });
    // Hide the AI image prompt element after images are displayed.
    const aiPromptElement = document.getElementById('ai-prompt');
    if (aiPromptElement) {
        aiPromptElement.classList.add('hidden');
    }
}

// Function to display generated images
async function displayGeneratedImage(imageUrl, prompt) {
    const aiGeneratedImage = document.getElementById('ai-generated-image');
    const imagePromptDisplay = document.getElementById('image-prompt-display');
    const imageDisplay = document.getElementById('image-display');
    const imageActions = document.querySelector('.image-actions'); // Use querySelector for class

    console.log('DEBUG displayGeneratedImage: aiGeneratedImage', aiGeneratedImage);
    console.log('DEBUG displayGeneratedImage: imagePromptDisplay', imagePromptDisplay);
    console.log('DEBUG displayGeneratedImage: imageDisplay', imageDisplay);
    console.log('DEBUG displayGeneratedImage: imageActions', imageActions);

    if (aiGeneratedImage) {
        aiGeneratedImage.src = imageUrl;
        aiGeneratedImage.classList.remove('hidden');
    }
    if (imagePromptDisplay) {
        imagePromptDisplay.textContent = prompt;
        imagePromptDisplay.classList.remove('hidden');
    }
    if (imageDisplay) {
        imageDisplay.classList.remove('hidden');
    }
    if (imageActions) {
        imageActions.classList.remove('hidden'); // Ensure buttons are visible
    }
}

// Function to display liked images
async function displayLikedOutfits() {
    const likedImagesGrid = document.getElementById('liked-images-grid');
    const noLikedImagesMessage = document.getElementById('no-liked-images');
    const likedImagesSection = document.getElementById('liked-images-section');

    console.log('DEBUG displayLikedOutfits: Checking elements...');
    console.log('DEBUG displayLikedOutfits: document.readyState', document.readyState);
    console.log('DEBUG displayLikedOutfits: likedImagesGrid', likedImagesGrid);
    console.log('DEBUG displayLikedOutfits: noLikedImagesMessage', noLikedImagesMessage);
    console.log('DEBUG displayLikedOutfits: likedImagesSection', likedImagesSection);
    console.log('DEBUG displayLikedOutfits: body innerHTML snippet', document.body.innerHTML.substring(document.body.innerHTML.indexOf('<section id="liked-images-section"'), document.body.innerHTML.indexOf('</section>') + 10));

    if (!likedImagesGrid || !noLikedImagesMessage || !likedImagesSection) {
        console.error('Required elements for liked images display not found.');
        return;
    }

    try {
        const likedOutfits = await getLikedOutfits();

        if (likedOutfits.length === 0) {
            likedImagesGrid.innerHTML = ''; // Clear grid
            noLikedImagesMessage.style.display = 'block'; // Show message
            likedImagesSection.classList.add('hidden'); // Hide section if no images
            return;
        }

        // Sort by most recent
        likedOutfits.sort((a, b) => b.timestamp - a.timestamp);

        const likedImagesHTML = likedOutfits.map(outfit => `
            <div class="liked-image-item" data-id="${outfit.id}">
                <img src="${outfit.imageUrl}" alt="${outfit.prompt}" class="liked-image">
                <div class="liked-image-overlay">
                    <button class="unlike-button" data-id="${outfit.id}">üóëÔ∏è Unlike</button>
                </div>
            </div>
        `).join('');

        likedImagesGrid.innerHTML = likedImagesHTML;
        noLikedImagesMessage.style.display = 'none'; // Hide message
        likedImagesSection.classList.remove('hidden'); // Show section

        // Attach event listeners to unlike buttons
        likedImagesGrid.querySelectorAll('.unlike-button').forEach(button => {
            button.addEventListener('click', async (event) => {
                const outfitId = event.target.dataset.id;
                const likedImageItem = event.target.closest('.liked-image-item'); // Get the parent item
                try {
                    await deleteLikedOutfit(outfitId);
                    if (likedImageItem) {
                        likedImageItem.remove(); // Immediately remove from DOM
                        console.log('DEBUG: Successfully removed liked image item from DOM.', outfitId);
                    }
                    // After removing, re-check if there are any liked outfits left to update the empty message
                    const remainingOutfits = await getLikedOutfits();
                    if (remainingOutfits.length === 0) {
                        if (noLikedImagesMessage) {
                            noLikedImagesMessage.style.display = 'block';
                        }
                        if (likedImagesGrid) {
                            likedImagesGrid.innerHTML = ''; // Ensure grid is empty
                        }
                        if (likedImagesSection) {
                            likedImagesSection.classList.add('hidden');
                        }
                    }

                } catch (error) {
                    console.error('Error unliking image:', error);
                    alert('Failed to remove liked image. Please try again.');
                }
            });
        });

    } catch (error) {
        console.error('Error displaying liked outfits:', error);
        // Safely try to update if elements exist for error message
        if (likedImagesGrid) {
            likedImagesGrid.innerHTML = '<p class="error-message">Failed to load liked images.</p>';
        }
        if (noLikedImagesMessage) {
            noLikedImagesMessage.style.display = 'none';
        }
        if (likedImagesSection) {
            likedImagesSection.classList.remove('hidden');
        }
    }
}

// Show image generation error
function showImageGenerationError(container) {
    container.innerHTML = `
        <div class="image-error">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h4>Image Generation Temporarily Unavailable</h4>
            <p>Please try generating images again in a few moments</p>
            <button onclick="generateOutfitImage()" class="retry-btn">
                <span class="btn-icon">üîÑ</span>
                <span class="btn-text">Try Again</span>
            </button>
        </div>
    `;
}

// Copy prompt to clipboard
function copyPromptToClipboard() {
    navigator.clipboard.writeText(appState.outfitPrompt).then(() => {
        const copyHint = document.querySelector('.copy-hint');
        if (copyHint) {
            copyHint.textContent = 'Copied!';
            setTimeout(() => {
                copyHint.textContent = 'Click to copy';
            }, 2000);
        }
    });
}

// Loading state management
function showLoadingState() {
    const loadingSection = document.getElementById('loading-section');
    const weatherSection = document.getElementById('weather-section');
    const outfitSection = document.getElementById('outfit-section');
    const productRecommendationsSection = document.querySelector('.product-recommendations');
    const howItWorksSection = document.getElementById('how-it-works-section');
    const errorSection = document.getElementById('error-section');

    // Hide all main content sections and show only loading
    if (loadingSection) loadingSection.classList.remove('hidden');
    if (weatherSection) weatherSection.classList.add('hidden');
    if (outfitSection) outfitSection.classList.add('hidden');
    if (productRecommendationsSection) productRecommendationsSection.classList.add('hidden');
    if (howItWorksSection) howItWorksSection.classList.add('hidden');
    if (errorSection) errorSection.classList.add('hidden');
}

function hideLoadingState() {
    const loadingSection = document.getElementById('loading-section');
    const weatherSection = document.getElementById('weather-section');
    const outfitSection = document.getElementById('outfit-section');
    const productRecommendationsSection = document.querySelector('.product-recommendations');
    const howItWorksSection = document.getElementById('how-it-works-section');
    const errorSection = document.getElementById('error-section');

    // Hide all main content and loading sections
    if (loadingSection) loadingSection.classList.add('hidden');
    if (weatherSection) weatherSection.classList.add('hidden');
    if (outfitSection) outfitSection.classList.add('hidden');
    if (productRecommendationsSection) productRecommendationsSection.classList.add('hidden');
    if (howItWorksSection) howItWorksSection.classList.add('hidden');
    if (errorSection) errorSection.classList.add('hidden');
}

function showMainContent() {
    const weatherSection = document.getElementById('weather-section');
    const outfitSection = document.getElementById('outfit-section');
    const productRecommendationsSection = document.querySelector('.product-recommendations');
    const howItWorksSection = document.getElementById('how-it-works-section');
    const loadingSection = document.getElementById('loading-section');
    const errorSection = document.getElementById('error-section');

    // Show main content sections, hide loading and error
    if (loadingSection) loadingSection.classList.add('hidden');
    if (errorSection) errorSection.classList.add('hidden');
    if (weatherSection) weatherSection.classList.remove('hidden');
    if (outfitSection) outfitSection.classList.remove('hidden');
    if (productRecommendationsSection) productRecommendationsSection.classList.remove('hidden');
    if (howItWorksSection) howItWorksSection.classList.remove('hidden');
}

function updateLoadingStep(stepName, status) {
    const stepElement = document.getElementById(`step-${stepName}`);
    if (stepElement) {
        stepElement.className = `step ${status}`;
        appState.steps[stepName] = status === 'completed';
    }
}

// Error handling
function handleAppError(error) {
    console.error('‚ùå Application error:', error);
    
    hideLoadingState(); // This hides all content except error
    const errorMessageElement = document.getElementById('error-message');
    const errorSectionElement = document.getElementById('error-section');

    if (errorMessageElement) {
        errorMessageElement.textContent = error.message || 'An unexpected error occurred. Please refresh the page and try again.';
    }
    if (errorSectionElement) {
        errorSectionElement.classList.remove('hidden');
    }
}

// Global error handler
window.addEventListener('error', function(event) {
    console.error('‚ùå Global error:', event.error);
    if (!appState.isLoading) {
        handleAppError(new Error('A technical error occurred. Please refresh the page.'));
    }
});

// Unhandled promise rejection handler
window.addEventListener('unhandledrejection', function(event) {
    console.error('‚ùå Unhandled promise rejection:', event.reason);
    if (!appState.isLoading) {
        handleAppError(new Error('A network error occurred. Please check your connection and try again.'));
    }
});

// Utility function to refresh the app
function refreshApp() {
    console.log('üîÑ Refreshing app...');
    location.reload();
}

// Function to update selected preferences (gender and style)
function updatePreferences(type, value) {
    console.log(`Updating preference: ${type} to ${value}`);

    if (type === 'gender') {
        appState.selectedGender = value;
        // Update UI for gender buttons
        document.querySelectorAll('.gender-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-gender="${value}"]`).classList.add('active');
    } else if (type === 'style') {
        appState.selectedStyle = value;
        // Update UI for style buttons
        document.querySelectorAll('.style-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-style="${value}"]`).classList.add('active');
    }

    // Regenerate outfit recommendation if weather data is available
    if (appState.currentWeather) {
        try {
            const outfitData = generateOutfitRecommendation(appState.currentWeather, appState.selectedGender, appState.selectedStyle);
            appState.outfitPrompt = outfitData.prompt;
            appState.recommendedProducts = outfitData.products;
            updateOutfitUI(outfitData);

            // Clear any existing generated images
            const imageContainer = document.getElementById('generated-image-container');
            if (imageContainer) {
                imageContainer.innerHTML = ''; // Clear content
                imageContainer.style.display = 'none'; // Hide container
            }
        } catch (error) {
            console.error('Error generating outfit after preference change:', error);
            handleAppError(new Error('Failed to update outfit recommendation. Please try again.'));
        }
    }
}

// Add event listeners for gender buttons
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.gender-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            updatePreferences('gender', event.target.dataset.gender || event.target.closest('.gender-btn').dataset.gender);
        });
    });

    // Add event listener for style buttons
    document.querySelectorAll('.style-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            updatePreferences('style', event.target.dataset.style || event.target.closest('.style-btn').dataset.style);
        });
    });

    // Initial update of gender UI on load (if not already handled by initializeApp)
    const initialGenderBtn = document.querySelector(`[data-gender="${appState.selectedGender}"]`);
    if (initialGenderBtn) {
        initialGenderBtn.classList.add('active');
    }

    // Initial update of style UI on load
    const initialStyleBtn = document.querySelector(`[data-style="${appState.selectedStyle}"]`);
    if (initialStyleBtn) {
        initialStyleBtn.classList.add('active');
    }
});

// Update outfit UI to show gender-specific recommendations
function updateOutfitUI(outfitData) {
    console.log('DEBUG: updateOutfitUI called with outfitData:', outfitData);
    const outfitStyleDisplayElement = document.getElementById('outfit-style-display');
    console.log('DEBUG: outfit-style-display element:', outfitStyleDisplayElement);

    if (outfitStyleDisplayElement) {
        const genderText = appState.selectedGender === 'female' ? 'Women\'s' : 'Men\'s';
        const styleText = appState.selectedStyle.charAt(0).toUpperCase() + appState.selectedStyle.slice(1); // Capitalize first letter
        
        document.getElementById('outfit-summary').textContent = outfitData.summary;
        document.getElementById('clothing-items').textContent = outfitData.clothing;
        document.getElementById('footwear').textContent = outfitData.footwear;
        document.getElementById('accessories').textContent = outfitData.accessories;
        outfitStyleDisplayElement.textContent = outfitData.style; // Using the checked element
        
        // Hide AI image prompt related elements by default
        const aiPromptElement = document.getElementById('ai-prompt');
        const promptPreviewElement = document.querySelector('.prompt-preview');

        if (aiPromptElement) aiPromptElement.classList.add('hidden');
        if (promptPreviewElement) promptPreviewElement.classList.add('hidden');

        // Update product recommendations
        updateProductRecommendations(outfitData.products);
    } else {
        console.error('ERROR: outfit-style-display element not found in DOM!');
    }
}

function updateProductRecommendations(products) {
    const productsContainer = document.getElementById('recommended-products'); // Corrected ID
    if (!productsContainer) return;

    if (products.length === 0) {
        productsContainer.innerHTML = '<p data-i18n="products.noProducts">No product recommendations available - showing test product.</p>';
        return;
    }

    const productsHTML = products.map(product => `
        <div class="product-item">
            <a href="${product.affiliate}" target="_blank" rel="noopener noreferrer" class="product-image-link">
                <img src="${product.image}" alt="${product.name}" class="product-image">
            </a>
            <div class="product-info">
                <h5 class="product-name">${product.name}</h5>
                <p class="product-price">${product.price}</p>
                <a href="${product.affiliate}" target="_blank" rel="noopener noreferrer" class="buy-now-btn">Buy Now</a>
            </div>
        </div>
    `).join('');

    productsContainer.innerHTML = productsHTML;

    // Attach translation to the "No product recommendations" message if it appears
    const noProductsMsg = productsContainer.querySelector('[data-i18n="products.noProducts"]');
    if (noProductsMsg) {
        applyTranslations(localStorage.getItem('selectedLanguage') || (translations[navigator.language.split('-')[0]] ? navigator.language.split('-')[0] : 'en'));
    }
}

// Export for global access
window.generateOutfitImage = generateOutfitImage;
window.updatePreferences = updatePreferences; // Export new function
window.refreshApp = refreshApp;
window.displayGeneratedImages = displayGeneratedImages; // Export this as well for testing if needed
window.displayLikedOutfits = displayLikedOutfits; // Export for external use
window.saveLikedOutfit = saveLikedOutfit; // Export for external use (e.g., debugging)
window.getLikedOutfits = getLikedOutfits; // Export for external use (e.g., debugging)
window.deleteLikedOutfit = deleteLikedOutfit; // Export for external use (e.g., debugging)
window.initializeLikedOutfitsPage = initializeLikedOutfitsPage; // Export for liked.html

console.log('üåç AI Outfit for Today - Script loaded successfully'); 










